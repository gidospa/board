{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/assets/field.jpg","webpack:///./src/components/Modal.vue?0337","webpack:///./src/App.vue?8a71","webpack:///./src/components/Board.vue?3627","webpack:///./src/utils/config.js","webpack:///./src/utils/capture.js","webpack:///./src/utils/color.js","webpack:///src/components/Board.vue","webpack:///./src/components/Board.vue?9fba","webpack:///./src/components/Board.vue","webpack:///./src/components/Lineup.vue?75f7","webpack:///src/components/Lineup.vue","webpack:///./src/components/Lineup.vue?6dfe","webpack:///./src/components/Lineup.vue","webpack:///./src/components/Files.vue?670b","webpack:///src/components/Files.vue","webpack:///./src/components/Files.vue?e7f5","webpack:///./src/components/Files.vue","webpack:///./src/components/Storage.vue?946f","webpack:///./src/utils/dropbox.js","webpack:///./src/utils/google.js","webpack:///./src/utils/io.js","webpack:///src/components/Storage.vue","webpack:///./src/components/Storage.vue?5a61","webpack:///./src/components/Storage.vue","webpack:///./src/components/Modal.vue?fd42","webpack:///src/components/Modal.vue","webpack:///./src/components/Modal.vue?dfdd","webpack:///./src/components/Modal.vue","webpack:///./src/utils/players.js","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/Storage.vue?b2d1","webpack:///./src/components/Files.vue?4e3d","webpack:///./src/components/Lineup.vue?4f3b","webpack:///./src/components/Board.vue?5e63"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","capture","storage","exportBoardData","clearBoardList","clearAccesskey","hideSettings","on","changeStorage","captureBoard","importBoard","exportBoard","clearLocalStorage","saveBoard","onClickIcon","openNewBoard","lineup","colors","playerDB","changeLineup","changeTeamColors","changeEnds","showTeamId","loadPlayerDB","doSave","doCapture","players","updatePlayerPosition","changePlayerInfo","doneSave","doneCapture","$event","modalType","modalParam","closeModal","_e","staticRenderFns","screenWidth","screenHeight","fieldRotate","fieldWidth","fieldHeight","fieldMouseDown","fieldTouchStart","_l","player","team","id","visibility","mouseDown","touchStart","staticClass","playerSize","fontSize","_v","_s","teamColor","number","VERSION","PREVIEW_IMAGE_WIDTH","CAPTURE_IMAGE_WIDTH","CAPTURE_FILE_PREFIX","LAST_FIELD_DATA","BOARD_LIST","OLD_BOARD_LIST","PLAYER_DB","EXPORT_FILE_NAME_PREFIX","PLAYER_DB_FILE_PREFIX","REAL_FIELD_SIZE","TOUCH_LINE","GOAL_LINE","PENALTY_BOX","h","w","GOAL_AREA","CENTER_CIRCLE_R","GOAL","LINE_WIDTH","NUMBER_OF_PLAYERS","NUMBER_OF_TEAMS","FORMATIONS","TEAM_COLORS","PLAYER_ALPHA","PNG","WIDTH","HEIGHT","FONT_SIZE","PLAYER_SIZE","FIELD","MARGIN","TOP","BOTTOM","LEFT","RIGHT","BENCH","CENTERMARK","SIZE","false","true","ASPECT","NORMALIZED","fieldImage","require","teams","onLoad","isLandscape","noBench","image","Image","onload","canvas","document","createElement","context","getContext","width","height","Config","drawImage","save","rotate","Math","PI","translate","restore","y","px","py","x","beginPath","fillStyle","arc","fill","lineWidth","strokeStyle","color","stroke","closePath","textAlign","textBaseline","font","fillText","parseInt","toDataURL","console","log","onerror","e","src","rgba2hex","rgb","hex","delimiter","rgba","split","toString","hex2rgba","home","substring","away","join","props","playerInfo","fontColor","selectedPlayer","startOffset","isClick","fieldClick","methods","getCursorPosition","getTouchPosition","getIndex","touchPlayer","pos","idx","cx","cy","mouseMove","movePlayer","touchMove","click","inputPlayerName","moveStart","fieldBottom","screenResize","$emit","mouseUp","message","prompt","created","forEach","mounted","watch","newColors","Capture","icon","timestamp","component","class","hidden","preventDefault","onDragOver","arguments","onDragLeave","stopPropagation","onDropPlayerDB","isDragOver","directives","rawName","expression","domProps","target","composing","homeColor","onBlur","onClickChange","awayColor","_m","playerdb","match","teamName","lines","newLineup","pdb","event","fileReader","version","teamInfo","nationality","category","board","index","boardStorage","staticStyle","onImport","dropboxStorage","googleStorage","isFunction","isString","isObject","paramsFromUrlHash","location","hash","replace","reduce","entry","decodeURIComponent","api","content","tokenStore","val","localStorage","globalErrorHandler","undefined","endpointMapping","contentType","baseUri","format","contentTypeMapping","dropbox","endpoint","apiArgs","args","config","lastArg","handlers","onComplete","promise","promisectl","Promise","resolve","reject","XMLHttpRequest","open","setRequestHeader","responseType","JSON","stringify","onDownloadProgress","addEventListener","onUploadProgress","upload","onError","er","onreadystatechange","readyState","status","apiResponse","parse","getResponseHeader","responseText","response","requestPayload","send","google","setGlobalErrorHandler","handler","setTokenStore","store","authenticate","client_id","redirect_uri","href","params","csrfToken","state","access_token","floor","random","encodeURIComponent","checkRedirect","stat","clear","removeItem","fileId","getFileId","filename","query","gapi","client","drive","files","list","q","res","v","download","param","alt","body","contents","path","method","uploadType","headers","request","description","delete","auth2","getAuthInstance","disconnect","local","isAvailable","fetch","success","bds","Array","boardString","Date","getTime","append","newBoards","concat","newBoardsString","remove","savePlayerDB","db","playerDBString","setItem","deletePlayerDB","GOOGLE_DRIVE_CLIENT_ID","process","GOOGLE_BOARD_FILE","GOOGLE_PLAYER_DB_FILE","available","unavailable","load","init","clientId","scope","then","catch","failure","startConnecting","isSignedIn","signIn","error","endConnecting","Google","boardsString","boards","DROPBOX_CLIENT_ID","DROPBOX_BOARD_FILE","DROPBOX_PLAYER_DB_FILE","Dropbox","parameter","callbacks","downloadPlayerDB","loadBoard","createNewFile","reader","FileReader","self","readAsText","emptyString","uploadPlayerDB","template","getDatetime","now","datetime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","url","a","appendChild","removeChild","currentStorage","isDropboxAvailable","isGoogleAvailable","classList","contains","ggl","dbx","type","style","formation","selected","clickFormation","clickOk","teamHtml","isArray","checkedItems","_i","$$a","$$el","$$c","checked","$$v","$$i","items","formations","newPlayers","number_of_rows","number_of_cols","eachWidth","eachHeight","startX","startY","halfPitch","left","top","numRows","row","col","components","Board","Lineup","Files","Storage","Modal","showModal","saveToLocalStorage","newTeams","categoryList","line","f","lastField","lastFieldData","computed","numberAndName","strLineup","Vue","productionTip","render","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,MAAS,GAGNK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,GAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,uBCAAW,EAAOD,QAAU,IAA0B,0B,oCCA3C,W,4HCAI,EAAS,WAAa,IAAI+B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,QAAUN,EAAIO,QAAQ,QAAUP,EAAIQ,QAAQ,gBAAkBR,EAAIS,gBAAgB,eAAiBT,EAAIU,eAAe,eAAiBV,EAAIW,eAAe,OAASX,EAAIY,cAAcC,GAAG,CAAC,iBAAiBb,EAAIc,cAAc,gBAAgBd,EAAIe,aAAa,eAAef,EAAIgB,YAAY,eAAehB,EAAIiB,YAAY,sBAAsBjB,EAAIkB,qBAAqBd,EAAG,QAAQ,CAACE,MAAM,CAAC,QAAUN,EAAIQ,QAAQ,OAASR,EAAIY,cAAcC,GAAG,CAAC,aAAab,EAAImB,UAAU,aAAanB,EAAIoB,YAAY,iBAAiBpB,EAAIqB,gBAAgBjB,EAAG,SAAS,CAACE,MAAM,CAAC,OAASN,EAAIsB,OAAO,OAAStB,EAAIuB,OAAO,SAAWvB,EAAIwB,SAAS,OAASxB,EAAIY,cAAcC,GAAG,CAAC,gBAAgBb,EAAIyB,aAAa,qBAAqBzB,EAAI0B,iBAAiB,cAAc1B,EAAI2B,WAAW,eAAe3B,EAAI4B,WAAW,iBAAiB5B,EAAI6B,gBAAgBzB,EAAG,QAAQ,CAACE,MAAM,CAAC,OAASN,EAAIuB,OAAO,KAAOvB,EAAI8B,OAAO,QAAU9B,EAAI+B,UAAU,WAAa/B,EAAIgC,SAASnB,GAAG,CAAC,yBAAyBb,EAAIiC,qBAAqB,qBAAqBjC,EAAIkC,iBAAiB,qBAAqBlC,EAAI0B,iBAAiB,YAAY1B,EAAImC,SAAS,eAAenC,EAAIoC,YAAY,gBAAgB,SAASC,GAAQrC,EAAIY,cAAeZ,EAAIY,iBAAiCZ,EAAa,UAAEI,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAON,EAAIsC,UAAU,MAAQtC,EAAIuC,YAAY1B,GAAG,CAAC,MAAQb,EAAIwC,cAAcxC,EAAIyC,MAAM,IAC17CC,EAAkB,G,YCDlB,G,oGAAS,WAAa,IAAI1C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,SAAS,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,MAAQN,EAAI2C,YAAY,OAAS3C,EAAI4C,eAAe,CAACxC,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,EAAQ,QAAuB,UAAYN,EAAI6C,YAAY,EAAI,IAAI,EAAI,IAAI,MAAQ7C,EAAI8C,WAAW,OAAS9C,EAAI+C,aAAalC,GAAG,CAAC,UAAYb,EAAIgD,eAAe,WAAahD,EAAIiD,mBAAmBjD,EAAIkD,GAAIlD,EAAW,SAAE,SAASmD,GAAQ,OAAO/C,EAAG,IAAI,CAACd,IAAI6D,EAAOC,KAAO,IAAMD,EAAOE,GAAG/C,MAAM,CAAC,UAAa,aAAgB6C,EAAS,GAAI,IAAOA,EAAS,GAAI,IAAK,WAAanD,EAAIsD,WAAWH,EAAOC,MAAMD,EAAOE,KAAKxC,GAAG,CAAC,UAAY,SAASwB,GAAQ,OAAOrC,EAAIuD,UAAUlB,EAAQc,EAAOC,KAAMD,EAAOE,KAAK,WAAa,SAAShB,GAAQ,OAAOrC,EAAIwD,WAAWnB,EAAQc,EAAOC,KAAMD,EAAOE,OAAO,CAACjD,EAAG,OAAO,CAACqD,YAAY,cAAcnD,MAAM,CAAC,EAAI,IAAI,EAAmB,IAAfN,EAAI0D,WAAe,YAAyB,GAAb1D,EAAI2D,WAAe,CAAC3D,EAAI4D,GAAG5D,EAAI6D,GAAGV,EAAO5E,SAAS6B,EAAG,SAAS,CAACqD,YAAY,gBAAgBnD,MAAM,CAAC,GAAKN,EAAI0D,WAAW,GAAG,GAAK1D,EAAI0D,WAAW,GAAG,EAAI1D,EAAI0D,cAActD,EAAG,SAAS,CAACqD,YAAY,cAAcnD,MAAM,CAAC,GAAK,IAAI,GAAK,IAAI,EAAIN,EAAI0D,WAAW,OAAS,OAAO,eAAe,IAAI,KAAO1D,EAAI8D,UAAUX,EAAOC,SAAShD,EAAG,OAAO,CAACqD,YAAY,gBAAgBnD,MAAM,CAAC,EAAI,IAAI,EAAI,IAAI,YAAYN,EAAI2D,WAAW,CAAC3D,EAAI4D,GAAG5D,EAAI6D,GAAGV,EAAOY,iBAAgB,OACx0C,EAAkB,GCDTC,G,oBAAU,SAEVC,EAAsB,IACtBC,EAAsB,KAGtBC,EAAsB,SAGtBC,EAAkB,YAClBC,EAAa,YACbC,EAAiB,SACjBC,EAAY,WAIZC,EAA0B,QAC1BC,EAAwB,WAGxBC,EAAkB,CAC7BC,WAAY,IACZC,UAAW,GACXC,YAAa,CAACC,EAAG,KAAMC,EAAG,MAC1BC,UAAW,CAACF,EAAG,KAAMC,EAAG,KACxBE,gBAAiB,KACjBC,KAAM,CAACH,EAAG,KAAMzG,EAAG,KACnB6G,WAAY,KAIDC,EAAoB,GACpBC,EAAkB,EAGlBC,EAAa,CACxB,OACA,QACA,QACA,QACA,SAIWC,EAAc,kBACdC,EAAe,GAGfC,EAAM,CACjBC,MAAO,KACPC,OAAQ,IACRC,UAAW,GACXC,YAAa,IAGfJ,EAAIK,MAAQ,CACVf,EAAGU,EAAIC,MAAM,GAAG,IAElBD,EAAIK,MAAMhB,EAAKJ,EAAgBE,UAAUF,EAAgBC,WAAYc,EAAIK,MAAMf,EAC/EU,EAAIM,OAAS,CACXC,IAAK,GACLC,OAAQ,GACRC,KAAMT,EAAIC,MAAM,GAChBS,MAAOV,EAAIC,MAAM,IAEnBD,EAAIW,MAAQ,CACVF,KAAM,EACNF,IAAKP,EAAIM,OAAOC,IAAMP,EAAIK,MAAMhB,EAAIW,EAAIM,OAAOE,OAC/ClB,EAAGU,EAAIC,MACPZ,EAAGW,EAAIE,OAASF,EAAIK,MAAMhB,EAAIW,EAAIM,OAAOC,IAAMP,EAAIM,OAAOE,QAE5DR,EAAIY,WAAa,CACfH,KAAMT,EAAIC,MAAM,EAChBM,IAAKP,EAAIM,OAAOC,IAAMP,EAAIK,MAAMhB,EAAE,GAEpCW,EAAIa,KAAO,CACTC,MAAO,CACLxB,EAAGU,EAAIC,MACPZ,EAAGW,EAAIE,QAETa,KAAM,CACJzB,EAAGU,EAAIC,MACPZ,EAAGW,EAAIE,OAASF,EAAIW,MAAMtB,IAG9BW,EAAIgB,OAAS,CAEXF,MAAOd,EAAIa,MAAK,GAAOvB,EAAEU,EAAIa,MAAK,GAAOxB,EAEzC0B,KAAMf,EAAIa,MAAK,GAAMvB,EAAEU,EAAIa,MAAK,GAAMxB,GAIjC,IAAM4B,EAAa,CACxBhB,MAAO,EACPC,OAAQF,EAAIE,OAAOF,EAAIC,MACvBI,MAAO,CACLf,EAAGU,EAAIK,MAAMf,EAAEU,EAAIC,MACnBZ,EAAGW,EAAIK,MAAMhB,EAAEW,EAAIC,OAErBE,UAAWH,EAAIG,UAAUH,EAAIC,MAC7BG,YAAaJ,EAAII,YAAYJ,EAAIC,MACjCK,OAAQ,CACNC,IAAKP,EAAIM,OAAOC,IAAIP,EAAIC,MACxBO,OAAQR,EAAIM,OAAOE,OAAOR,EAAIC,MAC9BQ,KAAMT,EAAIM,OAAOG,KAAKT,EAAIC,MAC1BS,MAAOV,EAAIM,OAAOI,MAAMV,EAAIC,QAGhCgB,EAAWL,WAAa,CACtBH,KAAMQ,EAAWhB,MAAM,EACvBM,IAAKU,EAAWX,OAAOC,IAAMU,EAAWZ,MAAMhB,EAAE,GAElD4B,EAAWN,MAAQ,CACjBF,KAAMT,EAAIW,MAAMF,KAAKT,EAAIC,MACzBM,IAAKP,EAAIW,MAAMJ,IAAIP,EAAIC,MACvBX,EAAGU,EAAIW,MAAMrB,EAAEU,EAAIC,MACnBZ,EAAGW,EAAIW,MAAMtB,EAAEW,EAAIC,OCnHrB,IAAMiB,EAAaC,EAAQ,QAE3B,SAASrG,IAAgE,6DAAJ,GAAnDsG,EAAuD,EAAvDA,MAAO9B,EAAgD,EAAhDA,EAAG+B,EAA6C,EAA7CA,OAA6C,IAArCC,mBAAqC,aAAnBC,eAAmB,SAEjEC,EAAQ,IAAIC,MAChBD,EAAME,OAAS,WACX,IAAIC,EAASC,SAASC,cAAc,UAChCC,EAAUH,EAAOI,WAAW,MAI5BC,EAAQ,KACRC,EAAS,KACTX,GACAK,EAAOK,MAAQ1C,EACfqC,EAAOM,OAAS3C,EAAE4C,EAAWlB,OAAOO,GACpCS,EAAQ1C,EACR2C,EAAS3C,EAAE4C,EAAWlB,OAAOO,GAC7BO,EAAQK,UACJX,EACA,EAAG,EAAGU,EAAWrB,KAAKU,GAASjC,EAAG4C,EAAWrB,KAAKU,GAASlC,EAC3D,EAAG,EAAG2C,EAAOC,KAIjBN,EAAOK,MAAQ1C,EACfqC,EAAOM,OAASC,EAAWlB,OAAOO,GAASjC,EAC3C0C,EAAQE,EAAWlB,OAAOO,GAASjC,EACnC2C,EAAS3C,EACTwC,EAAQM,OACRN,EAAQO,QAAQ,GAAGC,KAAKC,GAAG,KAC3BT,EAAQU,WAAWR,EAAM,GACzBF,EAAQK,UACJX,EACA,EAAG,EAAGU,EAAWrB,KAAKU,GAASjC,EAAG4C,EAAWrB,KAAKU,GAASlC,EAC3D,EAAG,EAAG2C,EAAOC,GAEjBH,EAAQW,WAGZ,IAnCiB,EAmCbxE,EAAaiE,EAAkB9B,YAAY4B,EAC3C9D,EAAWgE,EAAkB/B,UAAU6B,EApC1B,iBAuCHZ,EAAM7E,SAvCH,IAuCjB,2BAA6B,KAApBrC,EAAoB,QACzB,KAAIqH,GAAWrH,EAAEwI,EAAIR,EAAkBvB,MAAMJ,KAA7C,CAEA,IAAIoC,EAAK,EACLC,EAAK,EACLtB,GACAqB,EAAKX,EAAQ9H,EAAE2I,EACfD,EAAKZ,EAAQ9H,EAAEwI,IAGfC,EAAKX,EAAQ9H,EAAEwI,EACfE,EAAKZ,EAAQA,EAAQ9H,EAAE2I,GAI3Bf,EAAQgB,YACRhB,EAAQiB,UAAY,wBACpBjB,EAAQkB,IAAIL,EAAG,EAAGC,EAAG,EAAG3E,EAAY,EAAW,EAARqE,KAAKC,IAAM,GAClDT,EAAQmB,OAGRnB,EAAQgB,YACRhB,EAAQoB,UAAY,EACpBpB,EAAQqB,YAAc,wBACtBrB,EAAQiB,UAAY3B,EAAMgC,MAAMlJ,EAAEyD,MAClCmE,EAAQkB,IAAIL,EAAIC,EAAI3E,EAAY,EAAW,EAARqE,KAAKC,IAAM,GAC9CT,EAAQmB,OACRnB,EAAQuB,SACRvB,EAAQwB,YAGRxB,EAAQyB,UAAY,SACpBzB,EAAQ0B,aAAc,SACtB1B,EAAQ2B,KAAOvF,EAAW,sCAC1B4D,EAAQiB,UAAY,OACpBjB,EAAQ4B,SAASxJ,EAAEoE,OAAQqE,EAAIC,GAC3B1I,EAAEpB,OACFgJ,EAAQyB,UAAY,SACpBzB,EAAQ0B,aAAc,SACtB1B,EAAQ2B,KAAOE,SAAkB,GAATzF,GAAgB,sCACxC4D,EAAQiB,UAAY,wBACpBjB,EAAQ4B,SAASxJ,EAAEpB,KAAM6J,EAAIC,EAAK3E,EAAWC,EAAS,MAhF7C,8BAmFjBmD,EAAOM,EAAOiC,aACdC,QAAQC,IAAI,2BAEhBtC,EAAMuC,QAAU,SAACC,GACbH,QAAQC,IAAIE,IAEhBxC,EAAMyC,IAAM/C,EAGD,OAAEpG,W,8BChGV,SAASoJ,EAASC,GAGrB,IAFA,IAAIC,EAAM,GACNC,EAAY,IACP7K,EAAI,EAAGA,EAAI2K,EAAIjN,OAAQsC,IAAK,CAEjC,IAAI8K,EAAOH,EAAI3K,GAAG+K,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KACpDH,GAAO,IACP,IAAK,IAAIxL,EAAI,EAAGA,EAAI,EAAGA,IACnBwL,GAAO,WAAIT,SAASW,EAAK1L,IAAI4L,SAAS,KAAMlK,OAAO,GAEvD8J,GAAOC,EACPA,EAAY,GAGhB,OAAOD,EAIJ,SAASK,EAASL,GAErB,IAAIxL,EAAIwL,EAAIG,MAAM,KAClB,GAAgB,GAAZ3L,EAAE1B,OAAN,CACA,IAAIwN,EAAO,CACTf,SAAS/K,EAAE,GAAG+L,UAAU,EAAG,GAAI,IAC/BhB,SAAS/K,EAAE,GAAG+L,UAAU,EAAG,GAAI,IAC/BhB,SAAS/K,EAAE,GAAG+L,UAAU,EAAG,GAAI,KAE7BC,EAAO,CACTjB,SAAS/K,EAAE,GAAG+L,UAAU,EAAG,GAAI,IAC/BhB,SAAS/K,EAAE,GAAG+L,UAAU,EAAG,GAAI,IAC/BhB,SAAS/K,EAAE,GAAG+L,UAAU,EAAG,GAAI,KAGjC,MAAO,CAAC,QAAD,OACGD,EAAKG,KAAK,KADb,aACsB3C,EADtB,oBAEG0C,EAAKC,KAAK,KAFb,aAEsB3C,EAFtB,OCXI,OACb4C,MAAOA,CACLhJ,OAAQA,OACRsG,KAAMA,OACNtH,QAASA,OACTiK,WAAYA,OAEdrO,KAPF,WAQI,MAAO,CACLwG,YAAaA,IACbC,aAAcA,IACdc,WAAYA,GACZC,SAAUA,GACV8G,UAAWA,GAAjBA,mBACMzI,QAASA,GACTsB,WAAYA,CAACA,GAAnBA,IACMQ,UAAWA,CAACA,uBAAlBA,wBACM4G,eAAgBA,KAChBC,YAAaA,KACb3D,SAASA,EACTD,YAAaA,KACblE,YAAaA,KACbC,WAAYA,KACZC,YAAaA,KACb6H,SAASA,EACTC,WAAYA,OAGhBC,QAASA,CACPC,kBADJ,SACAtB,GACM,IAAN,2DACA,+BACA,8BACM,MAAO,CAAbnB,IAAAH,MAEI6C,iBAPJ,SAOAvB,GACM,IAAN,2DACA,0CACA,yCACM,MAAO,CAAbnB,IAAAH,MAEI8C,SAbJ,SAaA7H,EAAAC,GAEM,IADA,IAAN,IACa5G,EAAIwD,KAAK+B,QAAQrF,OAAQF,IAC9B,GAAIwD,KAAK+B,QAAQvF,GAAG4G,IAAMA,GAAMpD,KAAK+B,QAAQvF,GAAG2G,MAAQA,EAAM,MAEhE,OAAI3G,GAAKwD,KAAK+B,QAAQrF,OAAe,KAE9BF,GAET8G,UAtBJ,SAsBAkG,EAAArG,EAAAD,GACMmG,QAAQA,IAAIA,EAAEA,MACd,IAAN,4BACMrJ,KAAKiL,YAAY9H,EAAMD,EAAQgI,GAC/BlL,KAAK2K,SAAU,GAEjBpH,WA5BJ,SA4BAiG,EAAArG,EAAAD,GACMmG,QAAQA,IAAIA,EAAEA,MACdG,EAAEA,iBACF,IAAN,2BACMxJ,KAAKiL,YAAY9H,EAAMD,EAAQgI,GAC/BlL,KAAK2K,SAAU,GAEjBM,YAnCJ,SAmCA9H,EAAAD,EAAAgI,GACM7B,QAAQA,IAAIA,gBAAkBA,EAAOA,IAAMA,EAASA,IAAKA,GACzD,IAAN,qBACiB,MAAP8B,GAIJnL,KAAKyK,eAAiBzK,KAAK+B,QAAQoJ,GAGnCnL,KAAK+B,QAAQnE,OAAOuN,EAA1B,GACMnL,KAAK+B,QAAQ/E,KAAKgD,KAAKyK,gBAEvBzK,KAAK0K,YAAcQ,EACnBlL,KAAK0K,YAAYrC,GAAKrI,KAAKyK,eAAeW,GAC1CpL,KAAK0K,YAAYxC,GAAKlI,KAAKyK,eAAeY,IAXxChC,QAAQA,IAAIA,UAApBA,uCAaIiC,UApDJ,SAoDA9B,GACUxJ,KAAKyK,iBACPpB,QAAQA,IAAIA,YAAaA,EAAEA,MAC3BrJ,KAAKuL,WAAWvL,KAAK8K,kBAAkBtB,KAEzCxJ,KAAK2K,SAAU,EACf3K,KAAK4K,YAAa,GAEpBY,UA5DJ,SA4DAhC,GACUxJ,KAAKyK,iBACPpB,QAAQA,IAAIA,YAAaA,EAAEA,MAC3BrJ,KAAKuL,WAAWvL,KAAK+K,iBAAiBvB,KAExCxJ,KAAK2K,SAAU,EACf3K,KAAK4K,YAAa,GAEpBW,WApEJ,SAoEAL,GACWlL,KAAKyK,iBACVzK,KAAKyK,eAAeW,GAAKF,EAAI7C,EAAIrI,KAAK0K,YAAYrC,EAClDrI,KAAKyK,eAAeY,GAAKH,EAAIhD,EAAIlI,KAAK0K,YAAYxC,EAC9ClI,KAAKyK,eAAeW,GAAK,IAAGpL,KAAKyK,eAAeW,GAAK,GACrDpL,KAAKyK,eAAeY,GAAK,IAAGrL,KAAKyK,eAAeY,GAAK,GACrDrL,KAAKyK,eAAeW,GAAKpL,KAAK0C,cAAa1C,KAAKyK,eAAeW,GAAKpL,KAAK0C,aACzE1C,KAAKyK,eAAeY,GAAKrL,KAAK2C,eAAc3C,KAAKyK,eAAeY,GAAKrL,KAAK2C,cAE1E3C,KAAK8G,aACP9G,KAAKyK,eAAepC,EAAIrI,KAAKyK,eAAeW,GAApD,iBACQpL,KAAKyK,eAAevC,EAAIlI,KAAKyK,eAAeY,GAApD,mBAGQrL,KAAKyK,eAAepC,GAAKrI,KAAK2C,aAAe3C,KAAKyK,eAAeY,IAAzE,kBACQrL,KAAKyK,eAAevC,EAAIlI,KAAKyK,eAAeW,GAApD,qBAGIK,MAtFJ,WAgGM,GARIzL,KAAK2K,UACP3K,KAAK2K,SAAU,EACf3K,KAAK0L,mBAEP1L,KAAKyK,eAAiB,KACtBzK,KAAK2L,UAAY,KAGb3L,KAAK4K,WAAY,CACnBvB,QAAQA,IAAIA,gBAAiBA,KAAKA,YAGlC,IAAR,uDACYuC,GAAe,EAAkB/F,MAAMhB,EAAI,EAAkBiB,OAAOC,KAAR,iBAC9D/F,KAAK+G,SAAU/G,KAAK+G,QACpB/G,KAAK6L,gBAIL7L,KAAK8L,MAAM,iBAGf9L,KAAK4K,WAAa,MAEpBmB,QAhHJ,WAiHU/L,KAAKyK,gBACPzK,KAAK8L,MAAM,yBAA0B9L,KAAK+B,UAExC/B,KAAKyK,gBAAkBzK,KAAK4K,cAC9BvB,QAAQA,IAAIA,WACZrJ,KAAKyL,UAGTC,gBAzHJ,WA0HMrC,QAAQA,IAAIA,UAAWA,KAAKA,gBAC5B,IAAN,iCACUrJ,KAAKyK,eAAenM,OACtB0N,GAAWA,KAAKA,eAAeA,MAEjC,IAAN,qDACM,GAAIC,EAAQ,CACV,IAAR,eACA,iBACA,KACYnI,IACEpE,EAAEhD,OAAS,IACb4B,EAAOA,EAAEA,GAAGA,QAEd0B,KAAK8L,MAAM,qBAAsB9L,KAAKyK,eAAgB3G,EAAQxF,MAIpEyE,eA5IJ,SA4IAyG,GACMH,QAAQA,IAAIA,eAAgBA,EAAEA,MAC9BrJ,KAAK4K,WAAa5K,KAAK8K,kBAAkBtB,IAE3CxG,gBAhJJ,SAgJAwG,GACMH,QAAQA,IAAIA,eAAgBA,EAAEA,MAC9BG,EAAEA,iBACFxJ,KAAK4K,WAAa5K,KAAK+K,iBAAiBvB,IAE1CqC,aArJJ,WAsJM,IAAN,gCACA,4CA4BM,GA1BAxC,QAAQA,IAAIA,iBAAkBA,EAAOA,GACjC7B,EAAQC,GACV4B,QAAQA,IAAIA,aACZrJ,KAAK8G,aAAc,EACfU,EAAZ,0BACUxH,KAAK0C,YAAc8E,EACnBxH,KAAK2C,aAAe6E,EAA9B,yBAGUxH,KAAK0C,YAAc+E,EAA7B,uBACUzH,KAAK2C,aAAe8E,KAItB4B,QAAQA,IAAIA,YACZrJ,KAAK8G,aAAc,EACfW,EAAZ,0BACUzH,KAAK0C,YAAc+E,EAA7B,uBACUzH,KAAK2C,aAAe8E,IAGpBzH,KAAK0C,YAAc8E,EACnBxH,KAAK2C,aAAe6E,EAA9B,yBAIUxH,KAAK8G,YAAa,CAA5B,uBACA,cADA,IACA,0CACA,8BACA,uCAGA,wCAEA5D,0BACAA,2BATA,8BAWQlD,KAAK4C,YAAc,iCACnB5C,KAAK6C,WAAa7C,KAAK0C,YACvB1C,KAAK8C,YAAc9C,KAAK6C,WAAhC,iBAEA,wBACA,cADA,IACA,0CACA,8BACA,uCAGA,wCAEAK,2BACAA,8CATA,8BAWQlD,KAAK4C,YAAc,+BAA3B,iCACQ5C,KAAK6C,WAAa7C,KAAK2C,aACvB3C,KAAK8C,YAAc9C,KAAK6C,WAAhC,aAGM7C,KAAKyD,WAAa,EAAkBmC,YAAD,gBACnC5F,KAAK0D,SAAW,EAAkBiC,UAAD,gBAEjC0D,QAAQA,IAAIA,WAAYA,KAAKA,YAAaA,KAAKA,cAC/CA,QAAQA,IAAIA,UAAWA,KAAKA,WAAYA,KAAKA,eAGjD6C,QArPF,WAsPIlM,KAAK+B,QAAU/B,KAAKuK,WACpBvK,KAAK6D,UAAYoG,EAASjK,KAAKsB,QAC/BtB,KAAKqD,WAAW8I,SAAQ,SAA5B,GACM,IAAK,IAAX,YACQhJ,EAAKA,KAAKA,gBAIhBiJ,QA9PF,WA+PIhF,SAASA,iBAAiBA,UAAWA,KAAKA,SAC1CA,SAASA,iBAAiBA,WAAYA,KAAKA,SAC3CA,SAASA,iBAAiBA,YAAaA,KAAKA,WAC5CA,SAASA,iBAAiBA,YAAaA,KAAKA,WAC5CxH,OAAOA,iBAAiBA,SAAUA,KAAKA,cACvCI,KAAK6L,gBAEPQ,MAAOA,CACL9B,WAAYA,WACVlB,QAAQA,IAAIA,sBACZrJ,KAAK+B,QAAU/B,KAAKuK,WACpBvK,KAAK6L,gBAEPvK,OAAQA,SAAZA,GACM+H,QAAQA,IAAIA,cACZrJ,KAAK6D,UAAYoG,EAASqC,IAE5B1E,KAAMA,WAAV,WACM2E,EAAQA,QAAQA,CACd3F,MAAOA,CACL7E,QAASA,KAAKA,QACd6G,MAAOA,KAAKA,WAEd9D,EAAGA,EACH+B,OAAQA,SAAhBA,GACU,IAAV,WACU,EAAV,kBACA,CACY9E,QAAZA,UACY6G,MAAZA,YACY4D,KAAZA,EACYC,UAAZA,sBAIQ3F,aAAaA,EACbC,SAASA,KAGbzG,QAASA,WAAb,WACMiM,EAAQA,QAAQA,CACd3F,MAAOA,CACL7E,QAASA,KAAKA,QACd6G,MAAOA,KAAKA,WAEd9D,EAAGA,EACH+B,OAAQA,SAAhBA,GACU,EAAV,yBAEQC,YAAaA,KAAKA,YAClBC,QAASA,KAAKA,aC1UyT,I,wBCQ3U2F,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAI3M,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACwM,MAAM5M,EAAI6M,OAAS,SAAW,GAAGvM,MAAM,CAAC,GAAK,WAAW,CAACF,EAAG,MAAM,CAACS,GAAG,CAAC,SAAW,SAASwB,GAAgC,OAAxBA,EAAOyK,iBAAwB9M,EAAI+M,WAAWzP,MAAM,KAAM0P,YAAY,UAAYhN,EAAIiN,YAAY,KAAO,SAAS5K,GAAyD,OAAjDA,EAAO6K,kBAAkB7K,EAAOyK,iBAAwB9M,EAAImN,eAAe7P,MAAM,KAAM0P,cAAc,CAAC5M,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,0BAA0B,CAACF,EAAG,MAAM,CAACwM,MAAM,CAAC,kCAAmC5M,EAAIoN,aAAa,CAAChN,EAAG,OAAO,CAACqD,YAAY,8BAA8B5C,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,mBAAmB,CAAC/L,EAAI4D,GAAG,mBAAmBxD,EAAG,MAAM,CAACqD,YAAY,UAAU,CAACrD,EAAG,QAAQ,CAACiN,WAAW,CAAC,CAAC9O,KAAK,QAAQ+O,QAAQ,UAAUtO,MAAOgB,EAAa,UAAEuN,WAAW,cAAc9J,YAAY,aAAanD,MAAM,CAAC,KAAO,QAAQ,KAAO,aAAakN,SAAS,CAAC,MAASxN,EAAa,WAAGa,GAAG,CAAC,MAAQ,SAASwB,GAAWA,EAAOoL,OAAOC,YAAqB1N,EAAI2N,UAAUtL,EAAOoL,OAAOzO,aAAYoB,EAAG,MAAM,CAACqD,YAAY,UAAU,CAACrD,EAAG,WAAW,CAACiN,WAAW,CAAC,CAAC9O,KAAK,QAAQ+O,QAAQ,UAAUtO,MAAOgB,EAAQ,KAAEuN,WAAW,SAASjN,MAAM,CAAC,WAAa,SAASkN,SAAS,CAAC,MAASxN,EAAQ,MAAGa,GAAG,CAAC,KAAO,SAASwB,GAAQ,OAAOrC,EAAI4N,UAAU,MAAQ,SAASvL,GAAWA,EAAOoL,OAAOC,YAAqB1N,EAAImK,KAAK9H,EAAOoL,OAAOzO,aAAYoB,EAAG,MAAM,CAACqD,YAAY,UAAU,CAACrD,EAAG,SAAS,CAACqD,YAAY,iBAAiBnD,MAAM,CAAC,KAAO,SAAS,QAAU,cAAc,GAAK,iBAAiBO,GAAG,CAAC,MAAQb,EAAI6N,gBAAgB,CAAC7N,EAAI4D,GAAG,qBAAqBxD,EAAG,MAAM,CAACqD,YAAY,UAAU,CAACrD,EAAG,WAAW,CAACiN,WAAW,CAAC,CAAC9O,KAAK,QAAQ+O,QAAQ,UAAUtO,MAAOgB,EAAQ,KAAEuN,WAAW,SAASjN,MAAM,CAAC,WAAa,SAASkN,SAAS,CAAC,MAASxN,EAAQ,MAAGa,GAAG,CAAC,KAAO,SAASwB,GAAQ,OAAOrC,EAAI4N,UAAU,MAAQ,SAASvL,GAAWA,EAAOoL,OAAOC,YAAqB1N,EAAIqK,KAAKhI,EAAOoL,OAAOzO,aAAYoB,EAAG,MAAM,CAACqD,YAAY,UAAU,CAACrD,EAAG,QAAQ,CAACiN,WAAW,CAAC,CAAC9O,KAAK,QAAQ+O,QAAQ,UAAUtO,MAAOgB,EAAa,UAAEuN,WAAW,cAAc9J,YAAY,aAAanD,MAAM,CAAC,KAAO,QAAQ,KAAO,aAAakN,SAAS,CAAC,MAASxN,EAAa,WAAGa,GAAG,CAAC,MAAQ,SAASwB,GAAWA,EAAOoL,OAAOC,YAAqB1N,EAAI8N,UAAUzL,EAAOoL,OAAOzO,aAAYgB,EAAI+N,GAAG,QACrtE,EAAkB,CAAC,WAAa,IAAI/N,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,GAAK,cAAc,CAACF,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,aAAaxD,EAAG,SAAS,CAACJ,EAAI4D,GAAG,iBC8CvmB,G,oBAAA,CACb2G,MAAOA,CACLjJ,OAAQA,OACRC,OAAQA,OACRyM,SAAUA,OACVnB,OAAQA,SAEV1Q,KAPF,WAQI,MAAO,CACLgO,KAAMA,GACNE,KAAMA,GACNsD,UAAWA,UACXG,UAAWA,UACXV,YAAYA,IAGhBtC,QAASA,CACP8C,OADJ,WAEM,IAAK3N,KAAKkK,KAAK8D,MAAM,SAAWhO,KAAKoK,KAAK4D,MAAM,OAAQ,CACtD,IAAR,4BAGQ,OAFAhO,KAAKkK,KAAO,EAApB,QACQlK,KAAKoK,KAAO,EAApB,IAMM,IAHA,IAAN,wBACA,KACA,KACA,mCACA,gBACQ6D,EAASA,KAAKA,EAAMA,IAF5B,uBAGAC,GAHA,IAGA,0CACA,eACA,iBACA,MAEA,SACA,OACA5P,eAEA6P,qCAZA,8BAcyB,IAAbA,IACFA,GAAaA,MAEfA,GAAaA,KAEf,IAAN,4BACMnO,KAAKkK,KAAO/L,EAAE,GACd6B,KAAKoK,KAAOjM,EAAE,GACd6B,KAAK8L,MAAM,gBAAiBqC,EAAWF,IAEzCL,cAnCJ,WAoCM5N,KAAK8L,MAAM,gBAEbgB,WAtCJ,WAuCM,IAAK9M,KAAK+N,SAAU,CAClB/N,KAAKmN,YAAa,EAClB,IAAR,mDACQiB,EAAIA,MAAMA,WAAaA,YAG3BpB,YA7CJ,WA+CM,GADAhN,KAAKmN,YAAa,GACbnN,KAAK+N,SAAU,CAClB,IAAR,mDACQK,EAAIA,MAAMA,WAAaA,WAG3BlB,eApDJ,SAoDAmB,GAAA,WAGM,GAFAhF,QAAQA,IAAIA,aAAcA,EAAMA,aAAaA,OAC7CrJ,KAAKgN,cACDhN,KAAK+N,SACP1E,QAAQA,IAAIA,gCADd,CAKA,IAAN,0BACA,iBACMiF,EAAWA,OAASA,WAClB,IACE,IAAV,uBAEU,GADAjF,QAAQA,IAAIA,YAAtBA,+CACc9H,EAASgN,SAAWhN,EAASqF,MAAO,CACtC,IAAZ,uBACA,IACY,IAAKpK,EAAI,EAAGA,EAAIoK,EAAMlK,OAAlC,KACc,IAAd,OACA,aACc,IAAK8R,EAASC,cAAgBD,EAASE,WAAaF,EAASzM,QAAS,CACpEsH,QAAQA,IAAIA,yBAA0BA,GACtCA,QAAQA,IAAIA,iBAAkBA,EAASA,aACvCA,QAAQA,IAAIA,cAAeA,EAASA,UACpCA,QAAQA,IAAIA,aAAcA,EAASA,SACnC,OAGA7M,GAAKoK,EAAMlK,SACb2M,QAAQA,IAAIA,oBACZ,EAAd,gCAIYA,QAAQA,IAAIA,6BAGxB,SACUA,QAAQA,IAAIA,KAGhBiF,EAAWA,WAAWA,MAG1BpC,QAhHF,WAiHI,IAAJ,4BACIlM,KAAKkK,KAAO/L,EAAE,GACd6B,KAAKoK,KAAOjM,EAAE,GAEd,IAAJ,yBACI6B,KAAK0N,UAAYtP,EAAE,GACnB4B,KAAK6N,UAAYzP,EAAE,IAErBiO,MAAOA,CACLhL,OAAQA,SAAZA,GACM,IAAN,kBACMrB,KAAKkK,KAAO/L,EAAE,GACd6B,KAAKoK,KAAOjM,EAAE,IAEhBmD,OAAQA,WACN,IAAN,yBACMtB,KAAK0N,UAAYtP,EAAE,GACnB4B,KAAK6N,UAAYzP,EAAE,IAErBsP,UAAWA,WACT1N,KAAK8L,MAAM,qBAAsB,GAAvC,oDAEI+B,UAAWA,WACT7N,KAAK8L,MAAM,qBAAsB,GAAvC,oDAEIiC,SAAUA,WACR,IAAN,mDACU/N,KAAK+N,UACP1E,QAAQA,IAAIA,oBACZ+E,EAAIA,MAAMA,WAAaA,YAGvB/E,QAAQA,IAAIA,mBACZ+E,EAAIA,MAAMA,WAAaA,cCjMiT,ICQ5U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIrO,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACwM,MAAM5M,EAAI6M,OAAS,SAAW,GAAGvM,MAAM,CAAC,GAAK,UAAU,CAACF,EAAG,MAAM,CAACqD,YAAY,OAAOnD,MAAM,CAAC,GAAK,eAAeO,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,iBAAiB,CAAC/L,EAAI4D,GAAG,OAAOxD,EAAG,MAAM,CAACqD,YAAY,OAAOnD,MAAM,CAAC,GAAK,kBAAkBO,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,qBAAqB,CAAC/L,EAAI4D,GAAG,SAASxD,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,qBAAqBN,EAAIkD,GAAIlD,EAAgB,cAAE,SAAS4O,EAAMC,GAAO,OAAOzO,EAAG,MAAM,CAACd,IAAIsP,EAAMlC,UAAUmC,EAAMpL,YAAY,OAAOnD,MAAM,CAAC,IAAMsO,EAAMnC,MAAM5L,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAIoB,YAAYyN,UAAa,MACtqB,EAAkB,GCUP,GACbtE,MAAOA,CACL/J,QAASA,MACTqM,OAAQA,SAEV1Q,KALF,WAMI,MAAO,CACL2S,aAAcA,KAGlBhE,QAASA,CACP1J,YADJ,SACAyN,GACMvF,QAAQA,IAAIA,aAAcA,GAC1BrJ,KAAK8L,MAAM,aAAc8C,KAG7BvC,MAAOA,CACL9L,QAASA,WACP8I,QAAQA,IAAIA,sBACZrJ,KAAK6O,aAAe7O,KAAKO,WC9BgT,ICQ3U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACwM,MAAM5M,EAAI6M,OAAS,SAAW,GAAGvM,MAAM,CAAC,GAAK,YAAY,CAACF,EAAG,MAAM,CAACqD,YAAY,kBAAkB,CAACrD,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,iBAAiB,CAACN,EAAI4D,GAAG,YAAYxD,EAAG,QAAQ,CAAC2O,YAAY,CAAC,QAAU,QAAQzO,MAAM,CAAC,GAAK,eAAe,KAAO,OAAO,OAAS,gCAAgCO,GAAG,CAAC,OAASb,EAAIgP,cAAc5O,EAAG,MAAM,CAACqD,YAAY,iBAAiB5C,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,mBAAmB,CAAC/L,EAAI4D,GAAG,cAAcxD,EAAG,MAAM,CAACqD,YAAY,iBAAiB5C,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,oBAAoB,CAAC/L,EAAI4D,GAAG,eAAexD,EAAG,OAAO,CAACqD,YAAY,SAAS,CAACzD,EAAI4D,GAAG,OAAOxD,EAAG,MAAM,CAACiN,WAAW,CAAC,CAAC9O,KAAK,OAAO+O,QAAQ,SAAStO,MAAOgB,EAAsB,mBAAEuN,WAAW,uBAAuB9J,YAAY,iBAAiBnD,MAAM,CAAC,GAAK,WAAWO,GAAG,CAAC,MAAQb,EAAIiP,iBAAiB,CAACjP,EAAI4D,GAAG,eAAexD,EAAG,MAAM,CAACiN,WAAW,CAAC,CAAC9O,KAAK,OAAO+O,QAAQ,SAAStO,MAAOgB,EAAqB,kBAAEuN,WAAW,sBAAsB9J,YAAY,iBAAiBnD,MAAM,CAAC,GAAK,UAAUO,GAAG,CAAC,MAAQb,EAAIkP,gBAAgB,CAAClP,EAAI4D,GAAG,cAAcxD,EAAG,MAAM,CAACqD,YAAY,iBAAiBnD,MAAM,CAAC,GAAK,uBAAuBO,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,0BAA0B,CAAC/L,EAAI4D,GAAG,gBACvyC,EAAkB,G,sDCDlBqG,G,oBAAW,GAAGA,UAClB,SAASkF,EAAW7G,GAAI,MAA2B,qBAApB2B,EAASlN,KAAKuL,GAC7C,SAAS8G,GAAS9G,GAAI,MAA2B,mBAApB2B,EAASlN,KAAKuL,GAC3C,SAAS+G,GAAS/G,GAAI,MAA2B,mBAApB2B,EAASlN,KAAKuL,GAC3C,SAASgH,KACP,OAAOzP,OAAO0P,SAASC,KAAKC,QAAQ,KAAK,IAAIzF,MAAM,KAAK0F,QAAO,SAASjR,EAAEkR,GAAQ,MAAU,IAAPA,IAAqBA,EAAMA,EAAM3F,MAAM,KAAMvL,EAAEmR,mBAAmBD,EAAM,KAAOC,mBAAmBD,EAAM,KAAtFlR,IAAsG,IAG/M,IAAIoR,GAAM,gCACNC,GAAU,oCACVC,GAAa,SAASzQ,EAAK0Q,GAC7B,OAAShD,UAAUrQ,OAAS,EAAOsT,aAAa3Q,GAAO0Q,EAAOC,aAAa3Q,IAEzE4Q,QAAqBC,EAErBC,GAAkB,CACpB,oBAAqB,CAAEC,YAAa,MACpC,eAAgB,CAAEC,QAASR,GAASS,OAAQ,kBAC5C,sBAAuB,CAAED,QAASR,GAASS,OAAQ,oBACnD,iBAAmB,CAAED,QAASR,GAASS,OAAQ,oBAC/C,oBAAqB,CAACD,QAASR,GAASS,OAAQ,oBAChD,8BAA+B,CAACD,QAASR,GAASS,OAAQ,kBAC1D,iCAAkC,CAACD,QAASR,GAASS,OAAQ,kBAC7D,8BAA+B,CAACD,QAASR,GAASS,OAAQ,kBAC1D,6BAA8B,CAACD,QAASR,GAASS,OAAQ,kBACzD,6BAA8B,CAACD,QAASR,GAASS,OAAQ,qBAGvDC,GAAqB,CACvB,IAAQ,mBACR,iBAAmB,4BAGN,SAASC,GAAQC,EAAUC,GACxC,IAAIC,EAAO,GAAG7Q,MAAMhD,KAAKiQ,WACrB6D,EAAST,GAAgBM,IAAa,GACtCJ,EAAUO,EAAOP,SAAWT,GAC5BU,EAASM,EAAON,QAAU,MAC1BF,EAAcQ,EAAOR,aAAuC,OAAvBQ,EAAOR,YAAwB,KAAOG,GAAmBD,GAE9FO,EAAUF,EAAKA,EAAKjU,OAAS,GAC7BoU,EAAYH,EAAKjU,OAAS,IAAM0S,GAASyB,IAAY3B,EAAW2B,IAAaA,EAAU,GACvF3B,EAAW4B,KACbA,EAAW,CAAEC,WAAYD,IAG3B,IAAIE,EAAU,KACVC,EAAa,GAEbC,UACFF,EAAU,IAAIE,SAAQ,SAASC,EAAQC,GACpCH,EAAWE,QAAUA,EACrBF,EAAWG,OAASA,MAIzB,IAAIxS,EAAI,IAAIyS,eAEZzS,EAAE0S,KAAK,OAAQjB,EAAQI,GAAU,GACjC7R,EAAE2S,iBAAiB,gBAAiB,WAAYzB,GAAW,WAAa,qEAE3D,oBAAVQ,IAA8B1R,EAAE4S,aAAe,QAC/Cd,GAAWA,EAAQc,eACpB5S,EAAE4S,aAAed,EAAQc,oBAClBd,EAAQc,cAGbpB,GACFxR,EAAE2S,iBAAiB,eAAgBnB,IAEjCM,GAAsB,kBAAVJ,GAAwC,oBAAVA,GAC5C1R,EAAE2S,iBAAiB,kBAAmBE,KAAKC,UAAUhB,IAGnDI,EAASa,oBACX/S,EAAEgT,iBAAiB,WAAYd,EAASa,oBAEtCb,EAASe,kBAAoBjT,EAAEkT,QACjClT,EAAEkT,OAAOF,iBAAiB,WAAYd,EAASe,mBAE7Cf,EAASiB,SAAW9B,KACtBrR,EAAEgT,iBAAiB,SAAS,SAASpI,GACnC,IAAIwI,EAAKlB,EAASiB,SAAWjB,EAASiB,QAAQvI,EAAEgE,QAChDwD,GAAWC,EAAWG,QAAUH,EAAWG,OAAO5H,EAAEgE,QACpDyC,IAAsBA,GAAmBzG,EAAEgE,OAAQwE,MAIvDpT,EAAEqT,mBAAqB,WACrB,GAAoB,GAAhBrT,EAAEsT,WACN,GAAgB,KAAZtT,EAAEuT,OAAe,CACnB,IAAIC,EAAcX,KAAKY,MAAOzT,EAAE0T,kBAAkB,uBAAyB1T,EAAE2T,cAChE,qBAAV9B,GAA+BX,GAAW,SAAU,IACvDgB,EAASC,YAAcD,EAASC,WAAYqB,EAAaxT,EAAE4T,SAAU5T,GACrEoS,GAAWC,EAAWE,SAAWF,EAAWE,QAASiB,EAAaxT,EAAE4T,SAAU5T,OAE3E,CACH,IAAIoT,EAAKlB,EAASiB,SAAWjB,EAASiB,QAAQnT,GAC9CoS,GAAWC,EAAWG,QAAUH,EAAWG,OAAOxS,GAClDqR,IAAsBA,GAAmBrR,EAAGoT,KAIhD,IAAIS,EAAkB9B,EAAKjU,OAAS,GAAe,kBAAV4T,EAA8BK,EAAK,QAAKT,EAQjF,OAPAuC,EAAiBA,IAAqB/B,GAAqB,OAAVJ,EAAmBmB,KAAKC,UAAUhB,GAAW,MAC3F+B,EACD7T,EAAE8T,KAAKD,GAEP7T,EAAE8T,OAGG1B,EC/GM,SAAS2B,MDkHxBnC,GAAQoC,sBAAwB,SAASC,GACvC5C,GAAqB4C,GAGvBrC,GAAQsC,cAAgB,SAASC,GAC/BjD,GAAaiD,GAGfvC,GAAQwC,aAAe,WAAsC,IAA7BtC,EAA6B,uDAAnB,GAAII,EAAe,uDAAJ,GACvDzH,QAAQC,IAAI,gBACR4F,EAAW4B,KACbA,EAAW,CAAEC,WAAYD,IAExB3B,GAASuB,KAAUA,EAAU,CAAEuC,UAAWvC,IAC7CA,EAAQwC,aAAexC,EAAQwC,cAAgBtT,OAAO0P,SAAS6D,KAE/D,IAAInC,EAAU,KACVC,EAAa,GASjB,GARGC,UACDF,EAAU,IAAIE,SAAQ,SAASC,EAAQC,GACrCH,EAAWE,QAAUA,EACrBF,EAAWG,OAASA,MAKpBtB,GAAW,UAGb,OAFAgB,EAASC,aACTC,GAAWC,EAAWE,SAAWF,EAAWE,UACrCH,EAGT,IAAIoC,EAAS/D,KACTgE,EAAYvD,GAAW,YAE3B,GAAIsD,EAAOE,OAASD,GAAaD,EAAOE,OAASD,EAE/C,GAAID,EAAOG,aAETzD,GAAW,SAAUsD,EAAOG,cAC5BzD,GAAW,WAAY,IACvBlQ,OAAO0P,SAASE,QAAS5P,OAAO0P,SAAS6D,KAAK3D,QAAQ,MAAM,SAEzD,CAEH,IAAIwC,EAAKlB,EAASiB,SAAWjB,EAASiB,QAAQqB,GAC9CpC,GAAWC,EAAWG,QAAUH,EAAWG,OAAOgC,GAClDnD,IAAsBA,GAAmBmD,EAAQpB,OAGhD,CAEH,IAAIqB,EAAY,GAAGvL,KAAK0L,MAAoB,IAAd1L,KAAK2L,UACnC3D,GAAW,WAAYuD,GAEvBzT,OAAO0P,SAAW,4EACgBoE,mBAAmBhD,EAAQuC,WAD3C,iBAEmBS,mBAAmBhD,EAAQwC,cAF9C,UAGYQ,mBAAmBL,GAGnD,OAAOrC,GAGTR,GAAQmD,cAAgB,WACtB,IAAIP,EAAS/D,KACTgE,EAAYvD,GAAW,YACvB8D,EAAO9D,GAAW,YAEtB,GAAIsD,EAAOE,OAASD,GAAaD,EAAOE,OAASD,EAE3CD,EAAOG,eAETzD,GAAW,SAAUsD,EAAOG,cAC5BzD,GAAW,WAAY,IACvBA,GAAW,WAAY,aACvBlQ,OAAO0P,SAASE,QAAS5P,OAAO0P,SAAS6D,KAAK3D,QAAQ,MAAM,WAM3D,GAAY,aAARoE,EAEP,OADA9D,GAAW,WAAY,KAChB,EAGT,OAAO,GAGTU,GAAQqD,MAAQ,WACd7D,aAAa8D,WAAW,UACxB9D,aAAa8D,WAAW,YACxB9D,aAAa8D,WAAW,aC9M1BnB,GAAOoB,OAAS,GAChBpB,GAAOqB,UAAP,yDAAmB,WAAeC,GAAf,wGACb7Q,EAAK,KACL8Q,EAFa,kBAEMD,EAFN,iFAIjB5K,QAAQC,IAAI,iBAJK,SAKD1J,OAAOuU,KAAKC,OAAOC,MAAMC,MAAMC,KAAK,CAACC,EAAGN,IALvC,OAKbO,EALa,wBAOHA,EAAIlX,OAAO+W,OAPR,4DAORI,EAPQ,QAQXA,EAAEpW,MAAQ2V,EARC,wBASb7Q,EAAKsR,EAAEtR,GATM,gMAaV8N,QAAQC,QAAQ/N,IAbN,gEAAnB,sDAeAuP,GAAOgC,SAAP,yDAAkB,WAAeV,GAAf,8FACZF,EAAS/T,KAAK+T,OAAOE,GAEpBF,EAHW,gCAIC/T,KAAKgU,UAAUC,GAJhB,UAIdF,EAJc,OAKA,MAAVA,EALU,yCAML,MANK,OAQd/T,KAAK+T,OAAOE,GAAYF,EARV,cAWZa,EAAQ,CACVb,OAAQA,EACRc,IAAK,SAbS,UAeAjV,OAAOuU,KAAKC,OAAOC,MAAMC,MAAM3V,IAAIiW,GAfnC,eAeZH,EAfY,yBAgBTA,EAAIK,MAhBK,iDAAlB,sDAkBAnC,GAAOb,OAAP,yDAAgB,WAAemC,EAAUc,GAAzB,oGACVhB,EAAS/T,KAAK+T,OAAOE,GACpBF,EAFS,iCAGG/T,KAAKgU,UAAUC,GAHlB,UAGZF,EAHY,OAIE,MAAVA,EAJQ,gCAKK/T,KAAKZ,OAAO6U,GALjB,OAKVF,EALU,cAOZ/T,KAAK+T,OAAOE,GAAYF,EAPZ,eASViB,EATU,iCASuBjB,GACjCkB,EAAS,QACT7B,EAAS,CACX8B,WAAY,SAEVC,EAAU,GACVL,EAAOC,EAfG,UAiBRnV,OAAOuU,KAAKC,OAAOgB,QAAQ,CAACJ,OAAMC,SAAQ7B,SAAQ+B,UAASL,SAjBnD,iDAAhB,wDAmBAnC,GAAOvT,OAAP,yDAAgB,WAAe6U,GAAf,uGACErU,OAAOuU,KAAKC,OAAOC,MAAMC,MAAMlV,OAAO,CACpDd,KAAM2V,EACNoB,YAAa,6BAHD,cACVZ,EADU,yBAKPA,EAAIlX,OAAO6F,IALJ,2CAAhB,sDAOAuP,GAAO2C,OAAP,yDAAgB,WAAerB,GAAf,4FACVF,EAAS/T,KAAK+T,OAAOE,GACpBF,EAFS,gCAGG/T,KAAKgU,UAAUC,GAHlB,UAGZF,EAHY,OAIPA,EAJO,iEAMEnU,OAAOuU,KAAKC,OAAOC,MAAMC,MAAMgB,OAAO,CACpDvB,OAAQA,IAPI,cAMVU,EANU,cASPzU,KAAK+T,OAAOE,GATL,kBAUPQ,GAVO,iDAAhB,sDAYA9B,GAAOkB,MAAQ,WACbjU,OAAOuU,KAAKoB,MAAMC,kBAAkBC,cCnE/B,IAAMC,GAAQ,GACrBA,GAAMC,YAAc,WAClB,MAAO,aAETD,GAAME,MAAQ,SAASC,GAMrB,GALAxM,QAAQC,IAAI,0BACRjF,KAAkB2L,eACpBA,aAAa5L,GAAc4L,aAAa3L,UACjC2L,aAAa3L,IAElBD,KAAc4L,aAAc,CAC9B,IAAI8F,EAAMrE,KAAKY,MAAMrC,aAAa5L,IAClCpE,KAAKpC,OAAO,GACZmY,MAAMnZ,UAAUI,KAAKK,MAAM2C,KAAM8V,EAAIjH,cACrCxF,QAAQC,IAAI,qCAET,CACH,IAAI0M,EAAcvE,KAAKC,UAAU,CAC/BjF,WAAW,IAAIwJ,MAAOC,UACtBrH,aAAc,KAEhBmB,aAAa5L,GAAc4R,EAC3BhW,KAAKpC,OAAO,GACZyL,QAAQC,IAAI,qCAId,GAAI0G,aAAa1L,GAAY,CAC3B,IAAI/C,EAAWkQ,KAAKY,MAAMrC,aAAa1L,IACvCtE,KAAKuB,SAAWA,cAGTvB,KAAKuB,SAGdsU,GAAWA,KAEbH,GAAMS,OAAS,SAASxH,EAAOkH,GAC7BxM,QAAQC,IAAI,wBACZ,IAAI8M,EAAY,CAACzH,GAAO0H,OAAOrW,MAC3BsW,EAAkB7E,KAAKC,UAAU,CACnCjF,WAAW,IAAIwJ,MAAOC,UACtBrH,aAAcuH,IAEhBpG,aAAa5L,GAAckS,EAC3BtW,KAAK4V,MAAMC,IAEbH,GAAMa,OAAS,SAAShX,EAAGsW,GACzBxM,QAAQC,IAAR,gCAAqC/J,EAArC,uBACA,IAAI6W,EAAY,GAAGC,OAAOrW,MAC1BoW,EAAUxY,OAAO2B,EAAG,GACpB,IAAI+W,EAAkB7E,KAAKC,UAAU,CACnCjF,WAAW,IAAIwJ,MAAOC,UACtBrH,aAAcuH,IAEhBpG,aAAa5L,GAAckS,EAC3BtW,KAAK4V,MAAMC,IAEbH,GAAM7B,MAAQ,WACZ,IAAMmC,EAAcvE,KAAKC,UAAU,CACjCjF,WAAW,IAAIwJ,MAAOC,UACtBrH,aAAc,KAEhBmB,aAAa5L,GAAc4R,EAC3BhW,KAAKpC,OAAO,GACZoS,aAAa8D,WAAWxP,UACjBtE,KAAKuB,UAEdmU,GAAMc,aAAe,SAASC,EAAIZ,GAChC,IAAIa,EAAiBjF,KAAKC,UAAU+E,GACpCzG,aAAa2G,QAAQrS,EAAWoS,GAChC1W,KAAKuB,SAAWkV,EAChBZ,GAAWA,KAEbH,GAAMkB,eAAiB,SAASf,GAC9B7F,aAAa8D,WAAWxP,UACjBtE,KAAKuB,SACZsU,GAAWA,KASb,IAAMgB,GAAyBC,0EACzBC,GAAoB,GAAH,OAAMxS,EAAN,SACjByS,GAAwB,GAAH,OAAMxS,EAAN,SAEdmO,GAAS,GACtBA,GAAOgD,YAAc,SAASsB,EAAWC,GACvC,IAAKL,GACH,MAAO,cAETjX,OAAOuU,KAAKgD,KAAK,gBAAe,WAC9BvX,OAAOuU,KAAKC,OAAOgD,KAAK,CACtBC,SAAUR,GACVS,MAAO,+CAERC,KACC3X,OAAOuU,KAAKC,OAAO+C,KAAK,QAAS,OAElCI,MAAK,WACJN,GAAaA,OAEdO,OAAM,SAAChO,GACNH,QAAQC,IAAI,iCAAkCE,GAC9C0N,GAAeA,WAIrBvE,GAAOiD,MAAP,yDAAe,WAAeC,EAAS4B,GAAxB,gGACbzX,KAAK0X,iBAAmB1X,KAAK0X,kBAExB9X,OAAOuU,KAAKoB,MAAMC,kBAAkBmC,WAAWhZ,MAHvC,0CAKHiB,OAAOuU,KAAKoB,MAAMC,kBAAkBoC,SALjC,iEAQTvO,QAAQwO,MAAM,KAAEA,OAChB7X,KAAK8X,eAAiB9X,KAAK8X,gBAC3BL,GAAWA,IAVF,+BAeT7X,OAAOuU,KAAKoB,MAAMC,kBAAkBmC,WAAWhZ,MAftC,4CAiBgBoZ,GAAOpD,SAASoC,IAjBhC,WAiBLiB,EAjBK,OAkBW,MAAhBA,EAlBK,kCAmBDD,GAAOjG,OAAOiF,GAAmB,MAnBhC,yBAoBcgB,GAAOpD,SAASoC,IApB9B,QAoBPiB,EApBO,eAsBHC,EAASxG,KAAKY,MAAM2F,GACtBC,GACFjY,KAAKpC,OAAO,GACZmY,MAAMnZ,UAAUI,KAAKK,MAAM2C,KAAMiY,GACjCpC,GAAWA,MAGXxM,QAAQC,IAAI,wCACZmO,GAAWA,KA9BJ,sDAkCTpO,QAAQC,IAAR,MACAmO,GAAWA,IAnCF,mCAuCoBM,GAAOpD,SAASqC,IAvCpC,QAuCHN,EAvCG,OAwCHnV,EAAWkQ,KAAKY,MAAMqE,GACxBnV,EACFvB,KAAKuB,SAAWA,EAGhB8H,QAAQC,IAAI,6BA7CL,sDAiDTD,QAAQC,IAAR,MAjDS,QAqDbtJ,KAAK8X,eAAiB9X,KAAK8X,gBArDd,yEAAf,wDAuDAnF,GAAOwD,OAAP,yDAAgB,WAAexH,EAAOkH,EAAS4B,GAA/B,oGACdzX,KAAK0X,iBAAmB1X,KAAK0X,kBACvBtB,EAAY,CAACzH,GAAO0H,OAAOrW,MAE3BsW,EAAkB7E,KAAKC,UAAU0E,GAJzB,SAKR2B,GAAOjG,OAAOiF,GAAmBT,GALzB,uBAMayB,GAAOpD,SAASoC,IAN7B,UAMRiB,EANQ,OAORC,EAASxG,KAAKY,MAAM2F,IACtBC,EARU,wBASZjY,KAAKpC,OAAO,GACZmY,MAAMnZ,UAAUI,KAAKK,MAAM2C,KAAMiY,GACjCjY,KAAK8X,eAAiB9X,KAAK8X,gBAC3BjC,GAAWA,IAZC,2BAed7V,KAAK8X,eAAiB9X,KAAK8X,gBAC3BL,GAAWA,IAhBG,iDAAhB,0DAkBA9E,GAAO4D,OAAP,yDAAgB,WAAehX,EAAGsW,EAAS4B,GAA3B,oGACdzX,KAAK0X,iBAAmB1X,KAAK0X,kBACzBtB,EAAY,GAAGC,OAAOrW,MAC1BoW,EAAUxY,OAAO2B,EAAG,GAEd+W,EAAkB7E,KAAKC,UAAU0E,GALzB,SAMR2B,GAAOjG,OAAOiF,GAAmBT,GANzB,uBAOayB,GAAOpD,SAASoC,IAP7B,UAORiB,EAPQ,OAQRC,EAASxG,KAAKY,MAAM2F,IACtBC,EATU,wBAUZjY,KAAKpC,OAAO,GACZmY,MAAMnZ,UAAUI,KAAKK,MAAM2C,KAAMiY,GACjCjY,KAAK8X,eAAiB9X,KAAK8X,gBAC3BjC,GAAWA,IAbC,2BAgBd7V,KAAK8X,eAAiB9X,KAAK8X,gBAC3BL,GAAWA,IAjBG,iDAAhB,0DAmBA9E,GAAO6D,aAAP,yDAAsB,WAAejV,EAAUsU,EAAS4B,GAAlC,8FACpBzX,KAAK0X,iBAAmB1X,KAAK0X,kBADT,SAIZhB,EAAiBjF,KAAKC,UAAUnQ,GAJpB,SAKZwW,GAAOjG,OAAOkF,GAAuBN,GALzB,OAMlB1W,KAAKuB,SAAWA,EAChBsU,GAAWA,IAPO,mDAUlBxM,QAAQC,IAAR,MACAmO,GAAWA,IAXO,QAcpBzX,KAAK8X,eAAiB9X,KAAK8X,gBAdP,yDAAtB,0DAgBAnF,GAAOiE,eAAP,yDAAwB,WAAef,EAAS4B,GAAxB,wFACtBzX,KAAK0X,iBAAmB1X,KAAK0X,kBADP,kBAIdK,GAAOzC,OAAO0B,IAJA,cAKbhX,KAAKuB,SACZsU,GAAWA,IANS,mDASpBxM,QAAQC,IAAR,MAToB,QAatBtJ,KAAK8X,eAAiB9X,KAAK8X,gBAbL,yDAAxB,wDAeAnF,GAAOjS,eAAiBqX,GAAOlE,MAC/BlB,GAAO+E,gBAAkB,KACzB/E,GAAOmF,cAAgB,KASvB,IAAMI,GAAoBpB,kBACpBqB,GAAqB,IAAH,OAAO5T,EAAP,SAClB6T,GAAyB,IAAH,OAAO5T,EAAP,SAEfgM,GAAU,GACvBA,GAAQmF,YAAc,WAEpB,OADAtM,QAAQC,IAAI8O,IACPF,GAIDG,GAAQ1E,iBACV3T,KAAK0X,iBAAmB1X,KAAK0X,kBAC7B1X,KAAK2U,WACE,aAGF,YATE,eAWXnE,GAAQoF,MAAQ,SAASC,EAAS4B,GAAS,WACzCzX,KAAK0X,iBAAmB1X,KAAK0X,kBAE7B,IAAIY,EAAY,CACdrF,UAAWiF,GACXhF,aAAc5D,SAAS6D,MAErBoF,EAAY,CACdxH,WAAY,WACV1H,QAAQC,IAAI,iCACZ,EAAKqL,SAASkB,EAAS4B,GACvBpO,QAAQC,IAAI,mCACZ,EAAKkP,kBAAiB,SAAC/B,GACrB,EAAKlV,SAAWkV,MAGpB1E,QAAS,SAACvI,GACRH,QAAQC,IAAI,mCACZ,EAAKwO,eAAiB,EAAKA,gBAC3BL,GAAWA,EAAQjO,KAIvB6O,GAAQrF,aAAasF,EAAWC,IAElC/H,GAAQmE,SAAW,SAASkB,EAAS4B,GAAS,WAC5CpO,QAAQC,IAAI,YAEZ,IAAIiP,EAAY,CACdxH,WAAY,SAACxT,EAAQiV,GAAc,EAAKiG,UAAUlb,EAAQiV,EAAUqD,EAAS4B,IAC7E1F,QAAS,SAACvI,GACR,OAAQA,EAAE2I,QACV,KAAK,IACH9I,QAAQC,IAAI,oBACZD,QAAQC,IAAI,+BACZ+O,GAAQxE,QACR,EAAKiE,eAAiB,EAAKA,gBAC3BL,GAAWA,EAAQjO,GACnB,MAEF,KAAK,IACHH,QAAQC,IAAI,qBACZ,EAAKoP,cAAc7C,EAAS4B,GAC5B,MAEF,QACEpO,QAAQC,IAAI,gCACZ,EAAKwO,eAAiB,EAAKA,gBAC3BL,GAAWA,EAAQjO,MAIzB6O,GAAQ,iBAAkB,CAACrD,KAAMmD,IAAqBI,IAExD/H,GAAQiI,UAAY,SAASlb,EAAQiV,EAAUqD,EAAS4B,GACtD,IAAIkB,EAAS,IAAIC,WACbC,EAAO7Y,KACX2Y,EAAO/G,iBAAiB,WAAW,WACjC,IACE,IAAIqG,EAASxG,KAAKY,MAAMsG,EAAOpb,QAC3B0a,GACFY,EAAKjb,OAAO,GACZmY,MAAMnZ,UAAUI,KAAKK,MAAMwb,EAAMZ,GACjCY,EAAKf,eAAiBe,EAAKf,gBAC3BjC,GAAWA,MAGXgD,EAAKf,eAAiBe,EAAKf,gBAC3BL,GAAWA,EAAQ,WAAD,OAAYU,GAAZ,aAGtB,MAAO3O,GACLqP,EAAKf,eAAiBe,EAAKf,gBAC3BL,GAAWA,EAAQjO,OAIvBmP,EAAOG,WAAWtG,IAEpBhC,GAAQkI,cAAgB,SAAS7C,EAAS4B,GAAS,WACjDpO,QAAQC,IAAI,0BACZ,IAAIyP,EAAc,KACdnE,EAAQ,CACVI,KAAMmD,GACNlZ,KAAM,aAEJsZ,EAAY,CACdxH,WAAY,WACV,EAAK4D,SAASkB,EAAS4B,IAEzB1F,QAAS,SAACvI,GACRH,QAAQC,IAAR,wBAA6B6O,KAC7BV,GAAWA,EAAQjO,GACnB,EAAKsO,eAAiB,EAAKA,kBAG/BO,GAAQ,eAAgBzD,EAAOmE,EAAaR,IAE9C/H,GAAQ2F,OAAS,SAASxH,EAAOkH,EAAS4B,GAAS,WACjDzX,KAAK0X,iBAAmB1X,KAAK0X,kBAC7B,IAAItB,EAAY,CAACzH,GAAO0H,OAAOrW,MAE3BsW,EAAkB7E,KAAKC,UAAU0E,GACrCpW,KAAK8R,OAAOwE,GAAiB,WAC3B,EAAK3B,SAASkB,EAAS4B,MACtB,SAACjO,GACFH,QAAQC,IAAI,kBACZ,EAAKwO,eAAiB,EAAKA,gBAC3BL,GAAWA,EAAQjO,OAGvBgH,GAAQ+F,OAAS,SAAShX,EAAGsW,EAAS4B,GAAS,WAC7CzX,KAAK0X,iBAAmB1X,KAAK0X,kBAC7B,IAAItB,EAAY,GAAGC,OAAOrW,MAC1BoW,EAAUxY,OAAO2B,EAAG,GAEpB,IAAI+W,EAAkB7E,KAAKC,UAAU0E,GACrCpW,KAAK8R,OAAOwE,GAAiB,WAC3B,EAAK3B,SAASkB,EAAS4B,MACtB,SAACjO,GACFH,QAAQC,IAAI,kBACZ,EAAKwO,eAAiB,EAAKA,gBAC3BL,GAAWA,EAAQjO,OAGvBgH,GAAQsB,OAAS,SAASiD,EAAUc,EAAS4B,GAAS,WAChD7C,EAAQ,CACVI,KAAMmD,GACNlZ,KAAM,aAEJsZ,EAAY,CACdxH,WAAY,WAAO,EAAK4D,SAASkB,EAAS4B,IAC1C1F,QAAS,SAACvI,GACR,EAAKsO,eAAiB,EAAKA,gBAC3BL,GAAWA,EAAQjO,KAGvB6O,GAAQ,eAAgBzD,EAAOG,EAAUwD,IAE3C/H,GAAQgI,iBAAmB,SAAS3C,EAAS4B,GAC3C,IAAIc,EAAY,CACdxH,WAAY,SAACxT,EAAQiV,GACnB,IAAImG,EAAS,IAAIC,WACjBD,EAAO/G,iBAAiB,WAAW,WACjC,IACE,IAAIrQ,EAAWkQ,KAAKY,MAAMsG,EAAOpb,QAC7BgE,EACFsU,GAAWA,EAAQtU,GAGnBkW,GAAWA,IAGf,MAAOjO,GACLH,QAAQC,IAAR,uBAA4BhF,EAA5B,KAA0CkF,GAC1CiO,GAAWA,QAGfkB,EAAOG,WAAWtG,IAEpBT,QAAS,SAACvI,GACR,OAAQA,EAAE2I,QACV,KAAK,IACH9I,QAAQC,IAAI,oBACZ,MACF,QACED,QAAQC,IAAI,yBAIlB+O,GAAQ,iBAAkB,CAACrD,KAAMoD,IAAyBG,IAE5D/H,GAAQwI,eAAiB,SAASjE,EAAUc,EAAS4B,GAAS,WACxD7C,EAAQ,CACVI,KAAMoD,GACNnZ,KAAM,aAEJsZ,EAAY,CACdxH,WAAY,WAAO,EAAKyH,iBAAiB3C,EAAS4B,IAClD1F,QAAS,SAACvI,GACRH,QAAQC,IAAIE,GACZiO,GAAWA,EAAQjO,KAGvB6O,GAAQ,eAAgBzD,EAAOG,EAAUwD,IAE3C/H,GAAQgG,aAAe,SAASC,EAAIZ,EAAS4B,GAAS,WACpDpO,QAAQC,IAAImN,GACZ,IAAIC,EAAiBjF,KAAKC,UAAU+E,GACpCzW,KAAKgZ,eAAetC,GAAgB,SAACnV,GACnC,EAAKA,SAAWA,EAChB8H,QAAQC,IAAI,oBACZuM,GAAWA,OACV,WAAO4B,GAAWA,QAEvBjH,GAAQoG,eAAiB,SAASf,EAAS4B,GAAS,WAClDpO,QAAQC,IAAI,kBACZtJ,KAAKgZ,eAAe,IAAI,SAACzX,GAEvB8H,QAAQC,IAAI,0BAA2B/H,GACvCkW,GAAWA,OACV,kBAEM,EAAKlW,SACZsU,GAAWA,QAGfrF,GAAQ9P,eAAiB2X,GAAQxE,MACjCrD,GAAQkH,gBAAkB,KAC1BlH,GAAQsH,cAAgB,KAKxB,IAAMmB,GAAW,GAyBV,SAASC,KACd,IAAIC,EAAM,IAAIlD,KACVmD,EAAWD,EAAIE,cAQnB,OAPAD,IAAa,KAAOD,EAAIG,WAAW,IAAIxZ,OAAO,GAC9CsZ,IAAa,IAAMD,EAAII,WAAWzZ,OAAO,GACzCsZ,GAAY,IACZA,IAAa,IAAMD,EAAIK,YAAY1Z,OAAO,GAC1CsZ,IAAa,IAAMD,EAAIM,cAAc3Z,OAAO,GAC5CsZ,IAAa,IAAMD,EAAIO,cAAc5Z,OAAO,GAErCsZ,EAGF,SAASzE,GAASV,EAAU0F,GACjC,IAAIC,EAAIxS,SAASC,cAAc,KAC/BuS,EAAEjF,SAAWV,EACb2F,EAAEzG,KAAOwG,EACTvS,SAAS0N,KAAK+E,YAAYD,GAC1BA,EAAEnO,QACFrE,SAAS0N,KAAKgF,YAAYF,GA3C5BX,GAAStD,YAAc,WAErB,OADAtM,QAAQC,IAAI,eACL,aAET2P,GAASrD,MAAQ,SAASC,GACxBxM,QAAQC,IAAI,SACZtJ,KAAKpC,OAAO,GACZiY,GAAWA,EAAQ7V,OAErBiZ,GAAS9C,OAAS,SAASxH,EAAOkH,GAChCxM,QAAQC,IAAI,UAAWqF,GACvB3O,KAAKpC,OAAO,EAAG,EAAG+Q,GAClBkH,GAAWA,EAAQ7V,OAErBiZ,GAAS1C,OAAS,SAAShX,EAAGsW,GAC5BxM,QAAQC,IAAI,UACZtJ,KAAKpC,OAAO2B,EAAE,GACdsW,GAAWA,EAAQ7V,OC3dN,QACbsK,MAAOA,CACLhK,QAASA,OACTE,gBAAiBA,OACjBC,eAAgBA,OAChBC,eAAgBA,OAChBkM,OAAQA,SAEV1Q,KAAMA,WACJ,MAAO,CACL6d,eAAgBA,GAChBC,oBAAoBA,EACpBC,mBAAmBA,IAGvBpP,QAASA,CACPoE,cADJ,SACAzF,GAAA,WACUA,EAAEgE,OAAO0M,UAAUC,SAAS,cAC9B9Q,QAAQA,IAAIA,kCACZrJ,KAAK+Z,eAAetE,YAAczV,KAAK+Z,eAAetE,aACtDzV,KAAK+Z,eAAiBrE,GACtBA,GAAMA,OAAMA,WACV,EAAV,8CAIQrM,QAAQA,IAAIA,kCACZsJ,GAAOA,OAAMA,WACXtJ,QAAQA,IAAIA,6BACZ,EAAV,yDACU,EAAV,kBACU,EAAV,qCACY,IAAZ,oCACY+Q,EAAIA,UAAUA,OAAOA,cAEvB,EAAV,yCACU,IAAV,oCACUA,EAAIA,UAAUA,IAAIA,gBAC5B,YACU/Q,QAAQA,IAAIA,mCAAoCA,QAItD2F,eA5BJ,SA4BAxF,GAAA,WACUA,EAAEgE,OAAO0M,UAAUC,SAAS,cAC9B9Q,QAAQA,IAAIA,kCACZrJ,KAAK+Z,eAAetE,YAAczV,KAAK+Z,eAAetE,aACtDzV,KAAK+Z,eAAiBrE,GACtBA,GAAMA,OAAMA,WACV,EAAV,8CAIQrM,QAAQA,IAAIA,6BACZmH,GAAQA,OAAMA,WACZnH,QAAQA,IAAIA,wBACZ,EAAV,yDACU,EAAV,kBACU,EAAV,qCACY,IAAZ,qCACYgR,EAAIA,UAAUA,OAAOA,cAEvB,EAAV,yCACU,IAAV,qCACUA,EAAIA,UAAUA,IAAIA,gBAC5B,YACUhR,QAAQA,IAAIA,8BAA+BA,QAIjD0F,SAvDJ,SAuDAvF,GAAA,WACA,oBACMA,EAAEA,OAAOA,MAAQA,GAEjB,IAAN,iBACMmP,EAAOA,iBAAiBA,QAAQA,WAC9B,IACE,IAAV,uBACchK,GACF,EAAZ,sBAAA5M,kBAAA6G,gBAGA,SACUS,QAAQA,MAAMA,OAGlBsP,EAAOA,WAAWA,KAGtBtM,MAAOA,CACL/L,QAASA,WACP,IAAN,gBACM+I,QAAQA,IAAIA,GAEZsL,GAASA,EAAUA,KAAKA,QAAQA,QAElCnU,gBAAiBA,WACf,IAAN,gBACA,uCACA,oCAAA8Z,oBACM3F,GAASA,EAAUA,IAErBlU,eAAgBA,WACd4I,QAAQA,IAAIA,oCACZqM,GAAMA,SAERhV,eAAgBA,WACd2I,QAAQA,IAAIA,oBACZmH,GAAQA,iBACRmC,GAAOA,mBAGXzG,QAhHF,WAgHA,WACItM,OAAOA,WAAaA,WAClByJ,QAAQA,IAAIA,eACZsJ,GAAOA,aAAYA,WACjB,EAAR,wBACA,WACQ,EAAR,0BAIEvG,QA1HF,WA0HA,WAcI,OAbApM,KAAK+Z,eAAiBrE,GACtB1V,KAAK+Z,eAAenE,QACpB5V,KAAK8L,MAAM,iBAAkB9L,KAAK+Z,gBAGlCvJ,GAAQA,gBAAkBA,WACxB,IAAN,qCACM6J,EAAIA,UAAUA,IAAIA,eAEpB7J,GAAQA,cAAgBA,WACtB,IAAN,qCACM6J,EAAIA,UAAUA,OAAOA,eAEf,GAAQ1E,eACpB,gBACA,2BACA,MACA,kBACA,2BACA,MACA,gBACA,2BACAnF,qBACAnH,oCACA,2DACA,oBACA,uCACA,yCACAgR,iCAEA,2CACA,yCACAA,gCACA,YACAhR,gDAEA,MAIIsJ,GAAOA,gBAAkBA,WACvB,IAAN,oCACM0H,EAAIA,UAAUA,IAAIA,eAEpB1H,GAAOA,cAAgBA,WACrB,IAAN,oCACM0H,EAAIA,UAAUA,OAAOA,iBCtMsT,MCQ7U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIta,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAACF,EAAG,MAAM,CAACqD,YAAY,mBAAgC,eAAZzD,EAAIua,KAAuBna,EAAG,MAAM,CAACqD,YAAY,mBAAmB,CAACrD,EAAG,MAAM,CAACqD,YAAY,eAAe,CAACrD,EAAG,MAAM,CAACA,EAAG,OAAO,CAACS,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,QAAS,CAACwO,KAAK,aAAa,CAACva,EAAI4D,GAAG,WAAWxD,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACzD,EAAI4D,GAAG,IAAI5D,EAAI6D,GAAG7D,EAAI4O,MAAMlC,WAAW,OAAOtM,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMN,EAAI4O,MAAMnC,UAAUrM,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACrD,EAAG,MAAM,CAACqD,YAAY,eAAe,CAACrD,EAAG,SAAS,CAACqD,YAAY,iBAAiB5C,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,QAAS,CAACwO,KAAK,OAAQ1L,MAAM7O,EAAI4O,MAAMC,WAAW,CAAC7O,EAAI4D,GAAG,YAAYxD,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACrD,EAAG,SAAS,CAACqD,YAAY,iBAAiB5C,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,QAAS,CAACwO,KAAK,SAAU1L,MAAM7O,EAAI4O,MAAMC,WAAW,CAAC7O,EAAI4D,GAAG,kBAAkB5D,EAAIyC,KAAkB,kBAAZzC,EAAIua,KAA0Bna,EAAG,MAAM,CAACqD,YAAY,mBAAmB,CAACrD,EAAG,MAAM,CAACqD,YAAY,eAAe,CAACrD,EAAG,MAAM,CAACA,EAAG,OAAO,CAACS,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,QAAS,CAACwO,KAAK,aAAa,CAACva,EAAI4D,GAAG,WAAWxD,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACzD,EAAI4D,GAAG,iBAAiBxD,EAAG,MAAM,CAACqD,YAAY,oBAAoB,CAACrD,EAAG,MAAM,CAACqD,YAAY,iBAAiBnD,MAAM,CAAC,GAAK,cAAc,CAACF,EAAG,MAAM,CAACA,EAAG,OAAO,CAACoa,MAAM,CAAE3R,MAAO7I,EAAI4O,MAAMjB,YAAa,CAAC3N,EAAI4D,GAAG,QAAQ5D,EAAI4D,GAAG,UAAU5D,EAAIkD,GAAIlD,EAAc,YAAE,SAASya,EAAU5L,GAAO,OAAOzO,EAAG,MAAM,CAACd,IAAI,OAAOuP,EAAMpL,YAAY,YAAYmJ,MAAM,CAAC8N,SAAU1a,EAAI0a,SAASvQ,MAAQ0E,GAAOhO,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI2a,eAAe,OAAQ9L,MAAU,CAAC7O,EAAI4D,GAAG,IAAI5D,EAAI6D,GAAG4W,GAAW,WAAU,GAAGra,EAAG,MAAM,CAACqD,YAAY,iBAAiBnD,MAAM,CAAC,GAAK,eAAe,CAACF,EAAG,MAAM,CAACA,EAAG,OAAO,CAACoa,MAAM,CAAE3R,MAAO7I,EAAI4O,MAAMd,YAAa,CAAC9N,EAAI4D,GAAG,QAAQ5D,EAAI4D,GAAG,UAAU5D,EAAIkD,GAAIlD,EAAc,YAAE,SAASya,EAAU5L,GAAO,OAAOzO,EAAG,MAAM,CAACd,IAAI,OAAOuP,EAAMpL,YAAY,YAAYmJ,MAAM,CAAC8N,SAAU1a,EAAI0a,SAASrQ,MAAQwE,GAAOhO,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI2a,eAAe,OAAQ9L,MAAU,CAAC7O,EAAI4D,GAAG,IAAI5D,EAAI6D,GAAG4W,GAAW,WAAU,KAAKra,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACrD,EAAG,MAAM,CAACqD,YAAY,iBAAiB,CAACrD,EAAG,SAAS,CAACqD,YAAY,iBAAiB5C,GAAG,CAAC,MAAQb,EAAI4a,UAAU,CAAC5a,EAAI4D,GAAG,cAAc5D,EAAIyC,KAAkB,gBAAZzC,EAAIua,KAAwBna,EAAG,MAAM,CAACqD,YAAY,mBAAmB,CAACrD,EAAG,MAAM,CAACqD,YAAY,eAAe,CAACrD,EAAG,MAAM,CAACA,EAAG,OAAO,CAACS,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,QAAS,CAACwO,KAAK,aAAa,CAACva,EAAI4D,GAAG,WAAWxD,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACzD,EAAI4D,GAAG,yBAAyBxD,EAAG,MAAMJ,EAAI4D,GAAG,IAAI5D,EAAI6D,GAAG5D,KAAK2O,MAAMJ,SAAS,OAAOpO,EAAG,MAAMA,EAAG,OAAO,CAACqD,YAAY,UAAU+J,SAAS,CAAC,UAAYxN,EAAI6D,GAAG7D,EAAI4O,MAAMiM,aAAaza,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACrD,EAAG,MAAM,CAACqD,YAAY,iBAAiB,CAACrD,EAAG,SAAS,CAACqD,YAAY,iBAAiB5C,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,QAAS,CAACwO,KAAK,cAAc,CAACva,EAAI4D,GAAG,8BAA8B5D,EAAIyC,KAAkB,sBAAZzC,EAAIua,KAA8Bna,EAAG,MAAM,CAACqD,YAAY,mBAAmB,CAACrD,EAAG,MAAM,CAACqD,YAAY,eAAe,CAACrD,EAAG,MAAM,CAACA,EAAG,OAAO,CAACS,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,QAAS,CAACwO,KAAK,aAAa,CAACva,EAAI4D,GAAG,WAAW5D,EAAI+N,GAAG,GAAG3N,EAAG,MAAM,CAACqD,YAAY,kBAAkB,CAACrD,EAAG,QAAQ,CAACiN,WAAW,CAAC,CAAC9O,KAAK,QAAQ+O,QAAQ,UAAUtO,MAAOgB,EAAgB,aAAEuN,WAAW,iBAAiBjN,MAAM,CAAC,KAAO,WAAW,GAAK,iBAAiB,KAAO,iBAAiB,MAAQ,cAAckN,SAAS,CAAC,QAAUwI,MAAM8E,QAAQ9a,EAAI+a,cAAc/a,EAAIgb,GAAGhb,EAAI+a,aAAa,eAAe,EAAG/a,EAAgB,cAAGa,GAAG,CAAC,OAAS,SAASwB,GAAQ,IAAI4Y,EAAIjb,EAAI+a,aAAaG,EAAK7Y,EAAOoL,OAAO0N,IAAID,EAAKE,QAAuB,GAAGpF,MAAM8E,QAAQG,GAAK,CAAC,IAAII,EAAI,aAAaC,EAAItb,EAAIgb,GAAGC,EAAII,GAAQH,EAAKE,QAASE,EAAI,IAAItb,EAAI+a,aAAaE,EAAI3E,OAAO,CAAC+E,KAAYC,GAAK,IAAItb,EAAI+a,aAAaE,EAAIlb,MAAM,EAAEub,GAAKhF,OAAO2E,EAAIlb,MAAMub,EAAI,UAAWtb,EAAI+a,aAAaI,MAAS/a,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,mBAAmB,CAACN,EAAI4D,GAAG,0BAA0BxD,EAAG,MAAMA,EAAG,QAAQ,CAACiN,WAAW,CAAC,CAAC9O,KAAK,QAAQ+O,QAAQ,UAAUtO,MAAOgB,EAAgB,aAAEuN,WAAW,iBAAiBjN,MAAM,CAAC,KAAO,WAAW,GAAK,wBAAwB,KAAO,wBAAwB,MAAQ,aAAakN,SAAS,CAAC,QAAUwI,MAAM8E,QAAQ9a,EAAI+a,cAAc/a,EAAIgb,GAAGhb,EAAI+a,aAAa,cAAc,EAAG/a,EAAgB,cAAGa,GAAG,CAAC,OAAS,SAASwB,GAAQ,IAAI4Y,EAAIjb,EAAI+a,aAAaG,EAAK7Y,EAAOoL,OAAO0N,IAAID,EAAKE,QAAuB,GAAGpF,MAAM8E,QAAQG,GAAK,CAAC,IAAII,EAAI,YAAYC,EAAItb,EAAIgb,GAAGC,EAAII,GAAQH,EAAKE,QAASE,EAAI,IAAItb,EAAI+a,aAAaE,EAAI3E,OAAO,CAAC+E,KAAYC,GAAK,IAAItb,EAAI+a,aAAaE,EAAIlb,MAAM,EAAEub,GAAKhF,OAAO2E,EAAIlb,MAAMub,EAAI,UAAWtb,EAAI+a,aAAaI,MAAS/a,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,0BAA0B,CAACN,EAAI4D,GAAG,+BAA+BxD,EAAG,QAAQA,EAAG,MAAM,CAACJ,EAAI4D,GAAG,mBAAmBxD,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACrD,EAAG,MAAM,CAACqD,YAAY,eAAe,CAACrD,EAAG,SAAS,CAACqD,YAAY,iBAAiB5C,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,QAAS,CAACwO,KAAK,QAASgB,MAAMvb,EAAI+a,kBAAkB,CAAC/a,EAAI4D,GAAG,aAAaxD,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACrD,EAAG,SAAS,CAACqD,YAAY,iBAAiB5C,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOrC,EAAI+L,MAAM,QAAS,CAACwO,KAAK,aAAa,CAACva,EAAI4D,GAAG,oBAAoB5D,EAAIyC,QAC7pK,GAAkB,CAAC,WAAa,IAAIzC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACqD,YAAY,gBAAgB,CAACzD,EAAI4D,GAAG,uBAAuBxD,EAAG,MAAMJ,EAAI4D,GAAG,mCC6HhL,IACb2G,MAAOA,CACLgQ,KAAMA,OACN3L,MAAOA,QAETzS,KALF,WAMI,MAAO,CACLqf,WAAYA,EACZd,SAAUA,CAAhBvQ,OAAAE,QACM0Q,aAAcA,KAGlBjQ,QAASA,CACP6P,eADJ,SACAvX,EAAAyL,GACM5O,KAAKya,SAAStX,GAAQyL,GAExB+L,QAJJ,WAKM,IAAN,sCACA,sCACM3a,KAAK8L,MAAM,QAAS,CAA1BwO,YAAApQ,OAAAE,YCjJ+U,MCQ3U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCjBf,SAASoR,GAAWD,GAUlB,IATA,IAAIxZ,EAAU,GACVqJ,EAAK,EACLC,EAAK,EAGLoQ,EAAiB,EACjBC,EAAiBhU,EAAyB+T,EAC1CE,EAAYjU,EAAkBvB,MAAMrB,EAAE4C,EAAuBgU,EAC7DE,GAAclU,EAAkBvB,MAAMtB,EAAI6C,EAAkB5B,OAAOE,QAAQyV,EAAe,IACrFtY,EAAO,EAAGA,EAAOuE,EAAwBvE,IAKhD,IAJA,IAAI0Y,EAASF,EAAU,EAAIjU,EAAkBvB,MAAMrB,EAAE,EAAE3B,EACnD2Y,EAASpU,EAAkBvB,MAAMJ,IAAM2B,EAAkB5B,OAAOE,OAAS4V,EAAW,EACpFvT,EAAIwT,EACJ3T,EAAI4T,EACC1Y,EAAK,EAAGA,EAAKsE,EAA0BtE,IAC1CA,GAAMsY,IACRrT,EAAIwT,EACJ3T,GAAK0T,GAEP7Z,EAAQ/E,KAAK,CAACoG,KAAIiF,IAAGH,IAAG/E,OAAM7E,KAAM,GAAI8M,KAAIC,KAAIvH,OAAQV,EAAG,IAC3DiF,GAAKsT,EAIT,IAAKJ,EAAY,OAAOxZ,EAUxB,IAPA,IAAIga,EAAY,CACdC,KAAMtU,EAAkB5B,OAAOG,KAC/BgW,IAAKvU,EAAkB5B,OAAOC,IAC9BjB,EAAG4C,EAAkB7B,MAAMf,EAAE,EAAkC,EAA9B4C,EAAkB9B,YACnDf,EAAG6C,EAAkB7B,MAAMhB,EAAI6C,EAAkB5B,OAAOC,IAAM2B,EAAkB5B,OAAOE,QAGhF7C,EAAO,EAAGA,EAAOuE,EAAwBvE,IAAQ,CACxD,IAAI+Y,EAAUX,EAAWpY,GAAMzG,OAC/B,GAAe,GAAXwf,EAGJ,IADA,IAAI9Y,EAAK,EACA+Y,EAAM,EAAGA,EAAMD,EAASC,IAAO,CACtC,IAAI9T,EAAI0T,EAAUjX,GAAGoX,EAAQ,GAAGC,EAAMzU,EAAkB5B,OAAOG,KACnD,GAAR9C,IAEFkF,EAAIX,EAAkBjC,MAAQ4C,GAEhC,IAAK,IAAI+T,EAAM,EAAGA,EAAMb,EAAWpY,GAAMgZ,GAAMC,IAAO,CACpD,IAAIhe,EAAKmd,EAAWpY,GAAMgZ,GAAM,EAAKC,EACzB,GAARjZ,IAEF/E,EAAIge,GAEN,IANoD,EAMhDlU,EAAI6T,EAAUlX,GAAG0W,EAAWpY,GAAMgZ,GAAK,IAAI/d,EAAE,GANG,iBAQtC2D,GARsC,IAQpD,2BAAuB,KAAdrC,EAAc,QACjBA,EAAEyD,MAAQA,GAAQzD,EAAE0D,IAAMA,IAC9B1D,EAAE2I,EAAIA,EACN3I,EAAEwI,EAAIA,IAX4C,8BAapD9E,MAKN,OAAOrB,EAGM,QAAEyZ,eCVF,IACbld,KAAMA,MACN+d,WAAYA,CACVC,MAAJA,EACIC,OAAJA,EACIC,MAAJA,EACIC,QAAJA,GACIC,MAAJA,IAEExgB,KATF,WAUI,MAAO,CACLoF,OAAQA,EACRS,QAASA,GACTD,UAAWA,GACXD,OAAQA,GACRtB,QAASA,GACTgB,SAAUA,KACVob,WAAWA,EACXta,UAAWA,cACXC,WAAYA,GACZhC,QAASA,CAAf0G,UACMxG,gBAAiBA,GACjBC,eAAgBA,GAChBC,eAAgBA,GAChBC,cAAcA,IAGlBkK,QAASA,CACP+R,mBADJ,WAEM5M,aAAaA,GAA0BA,KAAKA,UAAUA,CACpDzB,QAARA,EACQxM,QAARA,aACQ6G,MAARA,kBAGI5G,qBARJ,SAQAD,GACM/B,KAAK+B,QAAUA,EACf/B,KAAK4c,sBAEPpb,aAZJ,SAYAH,EAAA4M,GAAA,WACA,kBACA,KACMrH,EAAMA,SAAQA,SAApBA,KACoB,IAARzD,IACJ0Z,EAASA,GAAUA,EAAKA,MAAMA,MAC1B,EAAZ,2DACUA,EAASA,GAAQA,SAAWA,EAAtCA,qCAGM7c,KAAK+B,QAAQoK,SAAQ,SAA3B,GACQ,GAAI0Q,EAAS3Z,EAAOC,OAAS0Z,EAAS3Z,EAAOC,MAAMD,EAAOE,IAAK,CAC7D,IAAV,6BACUF,EAAOA,OAASA,EAAUA,GAC1BA,EAAOA,KAAOA,EAAUA,GAE1B,IAAKA,EAAO5E,MAAQue,EAAS3Z,EAAOC,OAAS0Z,EAAS3Z,EAAOC,MAAM5B,SAAU,CAC3E,IAAV,+BACcjD,IACF4E,EAAOA,KAAOA,OAIpBlD,KAAK4c,sBAEPnb,iBArCJ,SAqCAH,GACMtB,KAAKsB,OAASA,EACdtB,KAAK4c,sBAEP3a,iBAzCJ,SAyCAiB,EAAAY,EAAAxF,GAAA,uBACA,cADA,IACA,0CACA,6BACAoB,WACAA,WAJA,8BAOMM,KAAK4c,sBAEPlb,WAlDJ,WA0DM,IARN,EAQA,oBACA,mBATA,iBAWA,cAXA,IAWA,0CACchC,EAAEwI,EAAI,EAAkB/B,MAAMJ,MAChCrG,EAAZA,UACYA,EAAZA,YAdA,8BAiBMM,KAAK+B,QAAQnE,OAAO,EAAG,EAAGoC,KAAK+B,QAAQ,IACvC/B,KAAK4c,qBACLvT,QAAQA,IAAIA,eAEdzH,aAvEJ,SAuEAL,GAAA,WACM8H,QAAQA,IAAIA,gBACZrJ,KAAKO,QAAQiW,aAAajV,GAAU,WAClC,EAAR,eAGII,WA7EJ,WA+EM,GADA0H,QAAQA,IAAIA,cACPrJ,KAAKuB,SAAV,CAEA,IAAN,KACM,IAAK,IAAX,0BACQ,IAAR,kCACaub,EAAapO,KAChBoO,EAAaA,GAAYA,IAE3BA,EAAaA,GAAUA,KAAKA,GAG9B,IAAN,KACM,IAAK,IAAX,QACQ,IAAR,KACQlC,GAAYA,QAApBA,kBAEQ,IAJR,EAIA,KAJA,iBAKAkC,MALA,IAKA,0CACA,oBACAC,UAGAnC,8BACAmC,UAXA,8BAcQnC,GAAYA,QAApBA,uBAIM5a,KAAKqC,UAAY,eACjBrC,KAAKsC,WAAa,CAAxBsY,WAAArM,+BACMvO,KAAK2c,WAAY,IAEnBzb,UAjHJ,WAkHMmI,QAAQA,IAAIA,eACZrJ,KAAK6B,OAAS,IAEhBK,SArHJ,SAqHAyM,GACM3O,KAAKO,QAAQ4V,OAAOxH,IAEtBpM,WAxHJ,SAwHA+Q,GAAA,WAaM,GAZAtT,KAAK2c,WAAY,EACjBtT,QAAQA,IAAIA,eAEW,gBAAnBrJ,KAAKqC,YACY,WAAfiR,EAAMgH,MACRta,KAAKO,QAAQgW,OAAOjD,EAAM1E,OAET,SAAf0E,EAAMgH,OACRta,KAAK+B,QAAU/B,KAAKO,QAAQ+S,EAAM1E,OAAO7M,QACzC/B,KAAKsB,OAASoI,EAAS1J,KAAKO,QAAQ+S,EAAM1E,OAAOhG,SAG9B,mBAAnB5I,KAAKqC,WACY,SAAfiR,EAAMgH,KAAiB,CAEzB,IADA,IAAV,KACA,iDACA,kBACyB,SAAT0C,EAAE,GACJzB,EAAWA,KAAKA,KAGhByB,EAAEA,QAAQA,KACVzB,EAAWA,KAAKA,EAAEA,IAAIA,UAG1Bvb,KAAK+B,QAAU,GAAQyZ,WAAWD,GAClCvb,KAAK4c,qBAWT,GARuB,iBAAnB5c,KAAKqC,WACY,WAAfiR,EAAMgH,OACRjR,QAAQA,IAAIA,oBACZrJ,KAAKO,QAAQqW,gBAAe,WAC1B,EAAZ,kBAI6B,uBAAnB5W,KAAKqC,WACY,UAAfiR,EAAMgH,KACR,IAAK,IAAf,yBACmC,eAAnBhH,EAAMgI,MAAM9e,KACd6M,QAAQA,IAAIA,oBACZrJ,KAAKS,eAAiB,GACtBT,KAAKuB,SAAW,YACTyO,aAAaiN,WAEC,cAAnB3J,EAAMgI,MAAM9e,KACd6M,QAAQA,IAAIA,oBACZrJ,KAAKU,eAAiB,KAMhCS,YA/KJ,SA+KAyN,GACMvF,QAAQA,IAAIA,GACZrJ,KAAKqC,UAAY,cACjBrC,KAAKsC,WAAa,CAAxBsM,QAAApC,0BAAAC,qCACMzM,KAAK2c,WAAY,GAEnBvb,aArLJ,WAsLMiI,QAAQA,IAAIA,gBACZrJ,KAAKqC,UAAY,iBAEjB,IAAN,yBACMrC,KAAKsC,WAAa,CAAxBoL,eAAAG,gBAEM7N,KAAK2c,WAAY,GAEnB9b,cA9LJ,SA8LAoX,GAAA,WACM5O,QAAQA,IAAIA,iBACZrJ,KAAKO,QAAU0X,EAEXA,EAAO1W,SACTvB,KAAKuB,SAAW0W,EAAO1W,SAGnBvB,KAAKuB,UACPvB,KAAKO,QAAQiW,aAAaxW,KAAKuB,UAAU,WACvC8H,QAAQA,IAAIA,+BACxB,WACYA,QAAQA,IAAIA,mCACZ,EAAZ,kBAKIvI,aAhNJ,WAiNMuI,QAAQA,IAAIA,kBACZrJ,KAAK8B,UAAY,IAEnBK,YApNJ,SAoNA6E,GACMhH,KAAKM,QAAU,CAArB0G,UAEIjG,YAvNJ,SAuNA4N,GACM3O,KAAK+B,QAAU4M,EAAM5M,QACrB/B,KAAKsB,OAASqN,EAAM/F,OAEtB5H,YA3NJ,WA4NMqI,QAAQA,IAAIA,gBACZrJ,KAAKQ,gBAAkB,CAA7B+N,UAAAxM,qBAAA6G,oBAEI3H,kBA/NJ,WAgOMoI,QAAQA,IAAIA,sBACZrJ,KAAKqC,UAAY,qBACjBrC,KAAK2c,WAAY,IAGrBzQ,QAhQF,WAiQI,GAAI8D,aAAa,GAAyB,CACxC,IAAN,8BACUkN,EAAc3O,SAAW,GAC3BvO,KAAK+B,QAAUmb,EAAcnb,QAC7B/B,KAAKsB,OAASoI,EAASwT,EAActU,QAIrCS,QAAQA,IAAIA,8BAA+BA,EAAcA,SAIlC,GAAvBrJ,KAAK+B,QAAQrF,SACfsD,KAAK+B,QAAU,GAAQyZ,WAAW,QAGtC2B,SAAUA,CACR9b,OAAQA,WAEN,IAFN,EAEA,0DAFA,iBAGA,cAHA,IAGA,0CACA+b,wDAJA,8BASM,IADA,IAAN,KACA,oCACAA,MADA,IACA,0CACA,IACAC,YAHA,8BAMQA,GAAaA,KAEf,OAAOA,KC9ViT,MCQ1T,I,UAAY,eACd,GACA,EACA5a,GACA,EACA,KACA,KACA,OAIa,M,QChBf6a,OAAI1M,OAAO2M,eAAgB,EAE3B,IAAID,OAAI,CACNE,OAAQ,SAAA3Y,GAAC,OAAIA,EAAE4Y,OACdC,OAAO,S,6DCPV,W,kFCAA,W,kCCAA,W,kCCAA,W","file":"js/index.d615741c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/field.b56777bb.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Storage',{attrs:{\"capture\":_vm.capture,\"storage\":_vm.storage,\"exportBoardData\":_vm.exportBoardData,\"clearBoardList\":_vm.clearBoardList,\"clearAccesskey\":_vm.clearAccesskey,\"hidden\":_vm.hideSettings},on:{\"change-storage\":_vm.changeStorage,\"capture-board\":_vm.captureBoard,\"import-board\":_vm.importBoard,\"export-board\":_vm.exportBoard,\"clear-local-storage\":_vm.clearLocalStorage}}),_c('Files',{attrs:{\"storage\":_vm.storage,\"hidden\":_vm.hideSettings},on:{\"save-board\":_vm.saveBoard,\"click-icon\":_vm.onClickIcon,\"open-new-board\":_vm.openNewBoard}}),_c('Lineup',{attrs:{\"lineup\":_vm.lineup,\"colors\":_vm.colors,\"playerdb\":_vm.playerDB,\"hidden\":_vm.hideSettings},on:{\"change-lineup\":_vm.changeLineup,\"change-team-colors\":_vm.changeTeamColors,\"change-ends\":_vm.changeEnds,\"show-team-id\":_vm.showTeamId,\"load-player-db\":_vm.loadPlayerDB}}),_c('Board',{attrs:{\"colors\":_vm.colors,\"save\":_vm.doSave,\"capture\":_vm.doCapture,\"playerInfo\":_vm.players},on:{\"update-player-position\":_vm.updatePlayerPosition,\"change-player-info\":_vm.changePlayerInfo,\"change-team-colors\":_vm.changeTeamColors,\"done-save\":_vm.doneSave,\"done-capture\":_vm.doneCapture,\"hide-settings\":function($event){_vm.hideSettings = _vm.hideSettings ? false : true}}}),(_vm.showModal)?_c('Modal',{attrs:{\"type\":_vm.modalType,\"board\":_vm.modalParam},on:{\"close\":_vm.closeModal}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"view\"}},[_c('svg',{attrs:{\"id\":\"field\",\"width\":_vm.screenWidth,\"height\":_vm.screenHeight}},[_c('image',{attrs:{\"href\":require(\"../assets/field.jpg\"),\"transform\":_vm.fieldRotate,\"x\":\"0\",\"y\":\"0\",\"width\":_vm.fieldWidth,\"height\":_vm.fieldHeight},on:{\"mousedown\":_vm.fieldMouseDown,\"touchstart\":_vm.fieldTouchStart}}),_vm._l((_vm.players),function(player){return _c('g',{key:player.team + ':' + player.id,attrs:{\"transform\":(\"translate(\" + (player.cx) + \",\" + (player.cy) + \")\"),\"visibility\":_vm.visibility[player.team][player.id]},on:{\"mousedown\":function($event){return _vm.mouseDown($event, player.team, player.id)},\"touchstart\":function($event){return _vm.touchStart($event, player.team, player.id)}}},[_c('text',{staticClass:\"player name\",attrs:{\"x\":\"0\",\"y\":_vm.playerSize*1.2,\"font-size\":_vm.fontSize*0.7}},[_vm._v(_vm._s(player.name))]),_c('circle',{staticClass:\"player shadow\",attrs:{\"cx\":_vm.playerSize/10,\"cy\":_vm.playerSize/10,\"r\":_vm.playerSize}}),_c('circle',{staticClass:\"player body\",attrs:{\"cx\":\"0\",\"cy\":\"0\",\"r\":_vm.playerSize,\"stroke\":\"#333\",\"stroke-width\":\"2\",\"fill\":_vm.teamColor[player.team]}}),_c('text',{staticClass:\"player number\",attrs:{\"x\":\"0\",\"y\":\"0\",\"font-size\":_vm.fontSize}},[_vm._v(_vm._s(player.number))])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const VERSION = '0.9.4';\n\nexport const PREVIEW_IMAGE_WIDTH = 256;\nexport const CAPTURE_IMAGE_WIDTH = 1920;\n\n// capture file name\nexport const CAPTURE_FILE_PREFIX = 'board_';\n\n// localStorage\nexport const LAST_FIELD_DATA = 'lastField';\nexport const BOARD_LIST = 'boardList';\nexport const OLD_BOARD_LIST = 'fields';\nexport const PLAYER_DB = 'playerDB';\n\n// import board\n//export const EXPORT_FILE_NAME_PREFIX = 'board_';\nexport const EXPORT_FILE_NAME_PREFIX = 'board';\nexport const PLAYER_DB_FILE_PREFIX = 'playerdb';\n\n// field size [m]\nexport const REAL_FIELD_SIZE = {\n  TOUCH_LINE: 105,\n  GOAL_LINE: 68,\n  PENALTY_BOX: {h: 40.4, w: 16.5},\n  GOAL_AREA: {h: 18.4, w: 5.5},\n  CENTER_CIRCLE_R: 9.15,\n  GOAL: {w: 7.32, d: 1.6},\n  LINE_WIDTH: 0.12,\n}\n\n// player\nexport const NUMBER_OF_PLAYERS = 18;\nexport const NUMBER_OF_TEAMS = 2;\n\n// default formations\nexport const FORMATIONS = [\n  'none',\n  '3-4-3',\n  '4-3-3',\n  '4-4-2',\n  '5-4-1',\n]\n\n// default team colors\nexport const TEAM_COLORS = '#FF0000,#0000FF'\nexport const PLAYER_ALPHA = 0.8\n\n// field.png size [px]\nexport const PNG = {\n  WIDTH: 1280,\n  HEIGHT: 960,\n  FONT_SIZE: 28,\n  PLAYER_SIZE: 30\n}\n\nPNG.FIELD = {\n  w: PNG.WIDTH/22*20\n}\nPNG.FIELD.h = (REAL_FIELD_SIZE.GOAL_LINE/REAL_FIELD_SIZE.TOUCH_LINE)*PNG.FIELD.w\nPNG.MARGIN = {\n  TOP: 25,\n  BOTTOM: 25,\n  LEFT: PNG.WIDTH/22,\n  RIGHT: PNG.WIDTH/22\n}\nPNG.BENCH = {\n  LEFT: 0,\n  TOP: PNG.MARGIN.TOP + PNG.FIELD.h + PNG.MARGIN.BOTTOM,\n  w: PNG.WIDTH,\n  h: PNG.HEIGHT - PNG.FIELD.h - PNG.MARGIN.TOP - PNG.MARGIN.BOTTOM\n}\nPNG.CENTERMARK = {\n  LEFT: PNG.WIDTH/2,\n  TOP: PNG.MARGIN.TOP + PNG.FIELD.h/2\n}\nPNG.SIZE = {\n  false: { // with bench\n    w: PNG.WIDTH,\n    h: PNG.HEIGHT\n  },\n  true: { // no bench\n    w: PNG.WIDTH,\n    h: PNG.HEIGHT - PNG.BENCH.h\n  }\n}\nPNG.ASPECT = {\n  // with bench\n  false: PNG.SIZE[false].w/PNG.SIZE[false].h,\n  // no bench\n  true: PNG.SIZE[true].w/PNG.SIZE[true].h\n}\n  \n// normalized field\nexport const NORMALIZED = {\n  WIDTH: 1.0,\n  HEIGHT: PNG.HEIGHT/PNG.WIDTH,\n  FIELD: {\n    w: PNG.FIELD.w/PNG.WIDTH,\n    h: PNG.FIELD.h/PNG.WIDTH\n  },\n  FONT_SIZE: PNG.FONT_SIZE/PNG.WIDTH,\n  PLAYER_SIZE: PNG.PLAYER_SIZE/PNG.WIDTH,\n  MARGIN: {\n    TOP: PNG.MARGIN.TOP/PNG.WIDTH,\n    BOTTOM: PNG.MARGIN.BOTTOM/PNG.WIDTH,\n    LEFT: PNG.MARGIN.LEFT/PNG.WIDTH,\n    RIGHT: PNG.MARGIN.RIGHT/PNG.WIDTH\n  }\n}\nNORMALIZED.CENTERMARK = {\n  LEFT: NORMALIZED.WIDTH/2,\n  TOP: NORMALIZED.MARGIN.TOP + NORMALIZED.FIELD.h/2,\n}\nNORMALIZED.BENCH = {\n  LEFT: PNG.BENCH.LEFT/PNG.WIDTH,\n  TOP: PNG.BENCH.TOP/PNG.WIDTH,\n  w: PNG.BENCH.w/PNG.WIDTH,\n  h: PNG.BENCH.h/PNG.WIDTH,\n}\n","import * as Config from './config.js'\n\nconst fieldImage = require('../assets/field.jpg');\n\nfunction capture({teams, w, onLoad, isLandscape=true, noBench=false}={}) {\n    // load background\n    let image = new Image();\n    image.onload = () => {\n        let canvas = document.createElement('canvas');\n        let context = canvas.getContext('2d');\n        //document.getElementById('app').appendChild(canvas);\n\n        // draw field\n        let width = null;\n        let height = null;\n        if (isLandscape) {\n            canvas.width = w;\n            canvas.height = w/Config.PNG.ASPECT[noBench];\n            width = w;\n            height = w/Config.PNG.ASPECT[noBench];\n            context.drawImage(\n                image,\n                0, 0, Config.PNG.SIZE[noBench].w, Config.PNG.SIZE[noBench].h,\n                0, 0, width, height\n            );\n        }\n        else {\n            canvas.width = w;\n            canvas.height = Config.PNG.ASPECT[noBench]*w;\n            width = Config.PNG.ASPECT[noBench]*w;\n            height = w;\n            context.save();\n            context.rotate(-90*Math.PI/180);\n            context.translate(-width,0);\n            context.drawImage(\n                image,\n                0, 0, Config.PNG.SIZE[noBench].w, Config.PNG.SIZE[noBench].h,\n                0, 0, width, height\n            );\n            context.restore();\n        }\n\n        let playerSize = Config.NORMALIZED.PLAYER_SIZE*width;\n        let fontSize = Config.NORMALIZED.FONT_SIZE*width;\n\n        // draw player\n        for (let p of teams.players) {\n            if (noBench && p.y > Config.NORMALIZED.BENCH.TOP) continue;\n\n            let px = 0;\n            let py = 0;\n            if (isLandscape) {\n                px = width * p.x;\n                py = width * p.y;\n            }\n            else {\n                px = width * p.y;\n                py = width - width * p.x;\n            }\n\n            // shadow\n            context.beginPath();\n            context.fillStyle = 'rgba(10, 10, 10, 0.3)'; //TODO\n            context.arc(px+3, py+3, playerSize, 0, Math.PI*2, false);\n            context.fill();\n\n            // player\n            context.beginPath();\n            context.lineWidth = 2;\n            context.strokeStyle = 'rgba(10, 10, 10, 0.5)'; //TODO\n            context.fillStyle = teams.color[p.team]; //TODO\n            context.arc(px, py, playerSize, 0, Math.PI*2, false);\n            context.fill();\n            context.stroke();\n            context.closePath();\n\n            // name of player\n            context.textAlign = 'center';\n            context.textBaseline ='middle';\n            context.font = fontSize + 'px \"Yu Gothic\", \"YuGothic\", \"Arial\"';\n            context.fillStyle = '#fff';\n            context.fillText(p.number, px, py);\n            if (p.name) {\n                context.textAlign = 'center';\n                context.textBaseline ='middle';\n                context.font = parseInt(fontSize*0.7) + 'px \"Yu Gothic\", \"YuGothic\", \"Arial\"';\n                context.fillStyle = 'rgba(255,255,255,1.0)';\n                context.fillText(p.name, px, py + playerSize+fontSize/2);\n            }\n        }\n        onLoad(canvas.toDataURL());\n        console.log('capture load image....');\n    }\n    image.onerror = (e) => {\n        console.log(e)\n    }\n    image.src = fieldImage\n}\n\nexport default { capture }","import * as Config from './config.js'\n\n\nexport function rgba2hex(rgb) {\n    let hex = ''\n    let delimiter = ','\n    for (let t = 0; t < rgb.length; t++) {\n        // rgb: ['rgba(255, 0, 0, 0.8)', 'rgba(0, 0, 255, 0.8)']\n        let rgba = rgb[t].split('(')[1].split(')')[0].split(',')\n        hex += '#'\n        for (let c = 0; c < 3; c++) {\n            hex += `0${parseInt(rgba[c]).toString(16)}`.slice(-2)\n        }\n        hex += delimiter\n        delimiter = ''\n    }\n\n    return hex\n}\n\n\nexport function hex2rgba(hex) {\n    // hex: '#FF0000,#0000FF'\n    let c = hex.split(',')\n    if (c.length != 2) return\n    let home = [ // Hex to RGB\n      parseInt(c[0].substring(1, 3), 16),\n      parseInt(c[0].substring(3, 5), 16),\n      parseInt(c[0].substring(5, 7), 16)\n    ]\n    let away = [ // Hex to RGB\n      parseInt(c[1].substring(1, 3), 16),\n      parseInt(c[1].substring(3, 5), 16),\n      parseInt(c[1].substring(5, 7), 16)\n    ]\n\n    return [\n      `rgba(${home.join(',')}, ${Config.PLAYER_ALPHA})`,\n      `rgba(${away.join(',')}, ${Config.PLAYER_ALPHA})`,\n    ]    \n}","<template>\n<div id=\"view\">\n  <svg id=\"field\" :width=\"screenWidth\" :height=\"screenHeight\">\n    <image href=\"../assets/field.jpg\" :transform=\"fieldRotate\" x=\"0\" y=\"0\" :width=\"fieldWidth\" :height=\"fieldHeight\" \n      @mousedown=\"fieldMouseDown\"\n      @touchstart=\"fieldTouchStart\" />\n    <g v-for=\"player in players\" :key=\"player.team + ':' + player.id\"\n        :transform=\"`translate(${player.cx},${player.cy})`\"\n        :visibility=\"visibility[player.team][player.id]\"\n        @mousedown=\"mouseDown($event, player.team, player.id)\"\n        @touchstart=\"touchStart($event, player.team, player.id)\">\n      <text class=\"player name\" x=0 :y=\"playerSize*1.2\" :font-size=\"fontSize*0.7\">{{ player.name }}</text>\n      <circle class=\"player shadow\" :cx=\"playerSize/10\" :cy=\"playerSize/10\" :r=\"playerSize\"></circle>\n      <circle class=\"player body\" cx=0 cy=0 :r=\"playerSize\" stroke=\"#333\" stroke-width=\"2\" :fill=\"teamColor[player.team]\"></circle>\n      <text class=\"player number\" x=0 y=0 :font-size=\"fontSize\">{{ player.number }}</text>\n    </g>\n  </svg>\n</div>\n</template>\n\n<script>\nimport Capture from '../utils/capture.js'\nimport * as Config from '../utils/config.js'\nimport {hex2rgba} from '../utils/color.js'\n\nexport default {\n  props: {\n    colors: String,\n    save: Object,\n    capture: Object,\n    playerInfo: Array,\n  },\n  data() {\n    return {\n      screenWidth: 800,\n      screenHeight: 600,\n      playerSize: 30,\n      fontSize: 30,\n      fontColor: `${this.color}`,\n      players: [],\n      visibility: [[],[]],\n      teamColor: [`rgba(255, 0, 0, 0.8)`, `rgba(0, 0, 255, 0.8)`],\n      selectedPlayer: null,\n      startOffset: null,\n      noBench: false,\n      isLandscape: null,\n      fieldRotate: null,\n      fieldWidth: null,\n      fieldHeight: null,\n      isClick: false,\n      fieldClick: null,\n    }\n  },\n  methods: {\n    getCursorPosition(e) {\n      let fieldPos = document.getElementById('field').getBoundingClientRect()\n      let x = Math.round(e.clientX - fieldPos.left)\n      let y = Math.round(e.clientY - fieldPos.top)\n      return {x, y}\n    },\n    getTouchPosition(e) {\n      let fieldPos = document.getElementById('field').getBoundingClientRect()\n      let x = Math.round(e.touches[0].clientX - fieldPos.left)\n      let y = Math.round(e.touches[0].clientY - fieldPos.top)\n      return {x, y}\n    },\n    getIndex(team, id) {\n      let i = 0\n      for (; i < this.players.length; i++) {\n        if (this.players[i].id == id && this.players[i].team == team) break\n      }\n      if (i == this.players.length) return null\n\n      return i\n    },\n    mouseDown(e, team, player) {\n      console.log(e.type)\n      let pos = this.getCursorPosition(e)\n      this.touchPlayer(team, player, pos)\n      this.isClick = true\n    },\n    touchStart(e, team, player) {\n      console.log(e.type)\n      e.preventDefault()\n      let pos = this.getTouchPosition(e)\n      this.touchPlayer(team, player, pos)\n      this.isClick = true\n    },\n    touchPlayer(team, player, pos) {\n      console.log('touch player(' + team + ':' + player + ')', pos)\n      let idx = this.getIndex(team, player)\n      if (idx == null) {\n        console.log(`player ${team}:${player} not found`)\n        return\n      }\n      this.selectedPlayer = this.players[idx];\n\n      // bring player to front\n      this.players.splice(idx,1)\n      this.players.push(this.selectedPlayer)\n\n      this.startOffset = pos\n      this.startOffset.x -= this.selectedPlayer.cx\n      this.startOffset.y -= this.selectedPlayer.cy\n    },\n    mouseMove(e) {\n      if (this.selectedPlayer) {\n        console.log('mouseMove', e.type)\n        this.movePlayer(this.getCursorPosition(e))\n      }\n      this.isClick = false\n      this.fieldClick = false\n    },\n    touchMove(e) {\n      if (this.selectedPlayer) {\n        console.log('touchMove', e.type)\n        this.movePlayer(this.getTouchPosition(e))\n      }\n      this.isClick = false\n      this.fieldClick = false\n    },\n    movePlayer(pos) {\n      if (!this.selectedPlayer) return\n      this.selectedPlayer.cx = pos.x - this.startOffset.x\n      this.selectedPlayer.cy = pos.y - this.startOffset.y\n      if (this.selectedPlayer.cx < 0) this.selectedPlayer.cx = 0\n      if (this.selectedPlayer.cy < 0) this.selectedPlayer.cy = 0\n      if (this.selectedPlayer.cx > this.screenWidth) this.selectedPlayer.cx = this.screenWidth\n      if (this.selectedPlayer.cy > this.screenHeight) this.selectedPlayer.cy = this.screenHeight\n      \n      if (this.isLandscape) {\n        this.selectedPlayer.x = this.selectedPlayer.cx/this.screenWidth\n        this.selectedPlayer.y = this.selectedPlayer.cy/this.screenWidth\n      }\n      else {\n        this.selectedPlayer.x = (this.screenHeight - this.selectedPlayer.cy)/this.screenHeight\n        this.selectedPlayer.y = this.selectedPlayer.cx/this.screenHeight\n      }\n    },\n    click() {\n      // click player\n      if (this.isClick) {\n        this.isClick = false\n        this.inputPlayerName()\n      }\n      this.selectedPlayer = null;\n      this.moveStart = null;\n\n      // click filed\n      if (this.fieldClick) {\n        console.log('field click!!', this.fieldClick)\n\n        // click bench area\n        let fieldBottom = this.isLandscape ? this.fieldClick.y : this.fieldClick.x\n        if (fieldBottom > (Config.NORMALIZED.FIELD.h + Config.NORMALIZED.MARGIN.TOP)*this.fieldWidth) {\n          this.noBench = this.noBench ? false : true\n          this.screenResize()\n        }\n        // click play field\n        else {\n          this.$emit('hide-settings')\n        }\n      }\n      this.fieldClick = null\n    },\n    mouseUp() {\n      if (this.selectedPlayer) {\n        this.$emit('update-player-position', this.players)\n      }\n      if (this.selectedPlayer || this.fieldClick) {\n        console.log('mouseUp')\n        this.click()\n      }\n    },\n    inputPlayerName() {\n      console.log('click: ', this.selectedPlayer)\n      let message = this.selectedPlayer.number + ','\n      if (this.selectedPlayer.name) {\n        message += this.selectedPlayer.name\n      }\n      let prompt = window.prompt(\"Change player's number and name\", message)\n      if (prompt) {\n        let p = prompt.split(',')\n        let number = parseInt(p[0])\n        let name = ''\n        if (number) {\n          if (p.length > 1) {\n            name = p[1].trim()\n          }\n          this.$emit('change-player-info', this.selectedPlayer, number, name)\n        }\n      }\n    },\n    fieldMouseDown(e) {\n      console.log('field mouse:', e.type)\n      this.fieldClick = this.getCursorPosition(e)\n    },\n    fieldTouchStart(e) {\n      console.log('field touch:', e.type)\n      e.preventDefault()\n      this.fieldClick = this.getTouchPosition(e)\n    },\n    screenResize() {\n      let width = document.body.clientWidth*0.99\n      let height = document.documentElement.clientHeight*0.98\n\n      console.log('screenResize: ', width, height)\n      if (width > height) {\n        console.log('landscape')\n        this.isLandscape = true\n        if (width/height < Config.PNG.ASPECT[this.noBench]) {\n          this.screenWidth = width\n          this.screenHeight = width/Config.PNG.ASPECT[this.noBench]\n        }\n        else {\n          this.screenWidth = height*Config.PNG.ASPECT[this.noBench]\n          this.screenHeight = height\n        }\n      }\n      else {\n        console.log('portrate')\n        this.isLandscape = false\n        if (height/width < Config.PNG.ASPECT[this.noBench]) {\n          this.screenWidth = height/Config.PNG.ASPECT[this.noBench]\n          this.screenHeight = height\n        }\n        else {\n          this.screenWidth = width\n          this.screenHeight = width*Config.PNG.ASPECT[this.noBench]\n        }\n      }\n\n      if (this.isLandscape) {\n        for (let player of this.players) {\n          if (this.noBench && player.y > Config.NORMALIZED.BENCH.TOP) {\n            this.visibility[player.team][player.id] = 'hidden'\n          }\n          else {\n            this.visibility[player.team][player.id] = 'visible'\n          }\n          player.cx = player.x*this.screenWidth\n          player.cy = player.y*this.screenWidth\n        }\n        this.fieldRotate = `rotate(0, 0, 0) translate(0,0)`\n        this.fieldWidth = this.screenWidth\n        this.fieldHeight = this.fieldWidth/Config.PNG.ASPECT[false] // always with bench\n      }\n      else {\n        for (let player of this.players) {\n          if (this.noBench && player.y > Config.NORMALIZED.BENCH.TOP) {\n            this.visibility[player.team][player.id] = 'hidden'\n          }\n          else {\n            this.visibility[player.team][player.id] = 'visible'\n          }\n          player.cx = player.y*this.screenHeight\n          player.cy = this.screenHeight - player.x*this.screenHeight\n        }\n        this.fieldRotate = `rotate(-90, 0, 0) translate(${-this.screenHeight},0)`\n        this.fieldWidth = this.screenHeight\n        this.fieldHeight = this.fieldWidth/Config.PNG.ASPECT[false] // always with bench\n      }\n\n      this.playerSize = Config.NORMALIZED.PLAYER_SIZE*this.fieldWidth\n      this.fontSize = Config.NORMALIZED.FONT_SIZE*this.fieldWidth\n\n      console.log('screen: ', this.screenWidth, this.screenHeight)\n      console.log('field: ', this.fieldWidth, this.fieldHeight)\n    },\n  },\n  created() {\n    this.players = this.playerInfo\n    this.teamColor = hex2rgba(this.colors)\n    this.visibility.forEach((team) => {\n      for (let i = 0; i < Config.NUMBER_OF_PLAYERS; i++) {\n        team.push('visibile')\n      }\n    })\n  },\n  mounted() {\n    document.addEventListener('mouseup', this.mouseUp)\n    document.addEventListener('touchend', this.mouseUp)\n    document.addEventListener('mousemove', this.mouseMove)\n    document.addEventListener('touchmove', this.touchMove)\n    window.addEventListener('resize', this.screenResize)\n    this.screenResize()\n  },\n  watch: {\n    playerInfo: function() {\n      console.log('update playerInfo:')\n      this.players = this.playerInfo\n      this.screenResize()\n    },\n    colors: function(newColors) {\n      console.log('get colors')\n      this.teamColor = hex2rgba(newColors)\n    },\n    save: function() {\n      Capture.capture({\n        teams: {\n          players: this.players,\n          color: this.teamColor,\n        }, \n        w: Config.PREVIEW_IMAGE_WIDTH,\n        onLoad: (url) => {\n          let now = new Date()\n          this.$emit(\"done-save\",\n            {\n              players: this.players,\n              color: this.teamColor,\n              icon: url,\n              timestamp: now.toLocaleString()\n            },\n          )\n        },\n        isLandscape: true,\n        noBench: false\n      })\n    },\n    capture: function() {\n      Capture.capture({\n        teams: {\n          players: this.players,\n          color: this.teamColor,\n        },\n        w: Config.CAPTURE_IMAGE_WIDTH,\n        onLoad: (url) => {\n          this.$emit(\"done-capture\", url)\n        },\n        isLandscape: this.isLandscape,\n        noBench: this.noBench\n      })\n    },\n  },\n}\n</script>\n\n<style scoped>\n#view {\n  height: 98vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\nsvg{\n  color: #444;\n  user-select: none;\n  touch-action: none;\n}\n.shadow{\n  fill: #000;\n  fill-opacity: 0.2;\n}\ng{\n  text-anchor: middle;\n}\ntext.player{\n  fill: #fff;\n  dominant-baseline: central;\n}\ntext.name {\n  dominant-baseline: hanging;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Board.vue?vue&type=template&id=1ea34b18&scoped=true&\"\nimport script from \"./Board.vue?vue&type=script&lang=js&\"\nexport * from \"./Board.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Board.vue?vue&type=style&index=0&id=1ea34b18&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ea34b18\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.hidden ? 'hidden' : '',attrs:{\"id\":\"lineup\"}},[_c('div',{on:{\"dragover\":function($event){$event.preventDefault();return _vm.onDragOver.apply(null, arguments)},\"dragleave\":_vm.onDragLeave,\"drop\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onDropPlayerDB.apply(null, arguments)}}},[_c('div',{attrs:{\"id\":\"player-db-information\"}},[_c('div',{class:{'player-db-information__dragover': _vm.isDragOver}},[_c('span',{staticClass:\"player-db-information__text\",on:{\"click\":function($event){return _vm.$emit('show-team-id')}}},[_vm._v(\"Player DB\")])])]),_c('div',{staticClass:\"lineup\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.homeColor),expression:\"homeColor\"}],staticClass:\"team-color\",attrs:{\"type\":\"color\",\"list\":\"colorList\"},domProps:{\"value\":(_vm.homeColor)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.homeColor=$event.target.value}}})]),_c('div',{staticClass:\"lineup\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.home),expression:\"home\"}],attrs:{\"spellcheck\":\"false\"},domProps:{\"value\":(_vm.home)},on:{\"blur\":function($event){return _vm.onBlur()},\"input\":function($event){if($event.target.composing){ return; }_vm.home=$event.target.value}}})]),_c('div',{staticClass:\"lineup\"},[_c('button',{staticClass:\"default-button\",attrs:{\"type\":\"button\",\"onfocus\":\"this.blur()\",\"id\":\"changing-ends\"},on:{\"click\":_vm.onClickChange}},[_vm._v(\"Changing ends\")])]),_c('div',{staticClass:\"lineup\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.away),expression:\"away\"}],attrs:{\"spellcheck\":\"false\"},domProps:{\"value\":(_vm.away)},on:{\"blur\":function($event){return _vm.onBlur()},\"input\":function($event){if($event.target.composing){ return; }_vm.away=$event.target.value}}})]),_c('div',{staticClass:\"lineup\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.awayColor),expression:\"awayColor\"}],staticClass:\"team-color\",attrs:{\"type\":\"color\",\"list\":\"colorList\"},domProps:{\"value\":(_vm.awayColor)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.awayColor=$event.target.value}}})]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('datalist',{attrs:{\"id\":\"colorList\"}},[_c('option',[_vm._v(\"#000000\")]),_c('option',[_vm._v(\"#ffffff\")]),_c('option',[_vm._v(\"#ff0000\")]),_c('option',[_vm._v(\"#dd3300\")]),_c('option',[_vm._v(\"#ff8000\")]),_c('option',[_vm._v(\"#00cc00\")]),_c('option',[_vm._v(\"#ffcc00\")]),_c('option',[_vm._v(\"#ff0066\")]),_c('option',[_vm._v(\"#cc0044\")]),_c('option',[_vm._v(\"#880011\")]),_c('option',[_vm._v(\"#006600\")]),_c('option',[_vm._v(\"#113355\")]),_c('option',[_vm._v(\"#8000ff\")]),_c('option',[_vm._v(\"#0000ff\")]),_c('option',[_vm._v(\"#0080ff\")])])}]\n\nexport { render, staticRenderFns }","<template>\n<div id=\"lineup\" v-bind:class=\"hidden ? 'hidden' : ''\">\n  <div @dragover.prevent=\"onDragOver\" @dragleave=\"onDragLeave\" @drop.stop.prevent=\"onDropPlayerDB\">\n    <div id=\"player-db-information\">\n      <div :class=\"{'player-db-information__dragover': isDragOver}\">\n        <span class=\"player-db-information__text\" @click=\"$emit('show-team-id')\">Player DB</span>\n      </div>\n    </div>\n    <div class=\"lineup\">\n      <input class=\"team-color\" type=\"color\" v-model=\"homeColor\" list=\"colorList\" />\n    </div>\n    <div class=\"lineup\">\n      <textarea v-model=\"home\" @blur=\"onBlur()\" spellcheck=\"false\"/>\n    </div>\n    <div class=\"lineup\">\n      <button class=\"default-button\" type=\"button\" onfocus=\"this.blur()\" id=\"changing-ends\" @click=\"onClickChange\">Changing ends</button>\n    </div>\n    <div class=\"lineup\">\n      <textarea v-model=\"away\" @blur=\"onBlur()\" spellcheck=\"false\"/>\n    </div>\n    <div class=\"lineup\">\n      <input class=\"team-color\" type=\"color\" v-model=\"awayColor\" list=\"colorList\" />\n    </div>\n    <datalist id=\"colorList\">\n      <option>#000000</option>\n      <option>#ffffff</option>\n      <option>#ff0000</option>\n      <option>#dd3300</option>\n      <option>#ff8000</option>\n      \n      <option>#00cc00</option>\n      <option>#ffcc00</option>\n      <option>#ff0066</option>\n      <option>#cc0044</option>\n      <option>#880011</option>\n\n      <option>#006600</option>\n      <option>#113355</option>\n      <option>#8000ff</option>\n      <option>#0000ff</option>\n      <option>#0080ff</option>\n    </datalist>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  props: {\n    lineup: String,\n    colors: String,\n    playerdb: Object,\n    hidden: Boolean,\n  },\n  data() {\n    return {\n      home: '',\n      away: '',\n      homeColor: '#ff0000',\n      awayColor: '#0000ff',\n      isDragOver: false\n    }\n  },\n  methods: {\n    onBlur() {\n      if (!this.home.match(/\\S/g) || !this.away.match(/\\S/g)) {\n        let m = this.lineup.split('\\n\\n')\n        this.home = m[0]\n        this.away = m[1]\n        return\n      }\n      let teams = [this.home, this.away]\n      let newLineup = ''\n      let teamName = []\n      for (let team of teams) {\n        let lines = team.split('\\n')\n        teamName.push(lines[0])\n        for (let player of lines) {\n          let info = player.split(',')\n          let number = parseInt(info[0])\n          if (!number) continue // ignore this player information\n\n          let name = ''\n          if (info[1]) {\n            name = info[1].trim()\n          }\n          newLineup += `${number},${name}\\n`\n        }\n        if (newLineup == '') {\n          newLineup += '\\n'\n        }\n        newLineup += '\\n'\n      }\n      let m = this.lineup.split('\\n\\n')\n      this.home = m[0]\n      this.away = m[1]\n      this.$emit(\"change-lineup\", newLineup, teamName)\n    },\n    onClickChange() {\n      this.$emit('change-ends')\n    },\n    onDragOver() {\n      if (!this.playerdb) {\n        this.isDragOver = true\n        let pdb = document.getElementById('player-db-information')\n        pdb.style.visibility = 'visible'\n      }\n    },\n    onDragLeave() {\n      this.isDragOver = false\n      if (!this.playerdb) {\n        let pdb = document.getElementById('player-db-information')\n        pdb.style.visibility = 'hidden'\n      }\n    },\n    onDropPlayerDB(event) {\n      console.log('drop file:', event.dataTransfer.files)\n      this.onDragLeave()\n      if (this.playerdb) {\n        console.log('player db already exists')\n        return\n      }\n\n      const file = event.dataTransfer.files[0]\n      let fileReader = new FileReader()\n      fileReader.onload = () => {\n        try {\n          let playerDB = JSON.parse(fileReader.result)\n          console.log(`version: ${playerDB.version}, teams: ${playerDB.teams}`)          \n          if (playerDB.version && playerDB.teams) {\n            const teams = Object.keys(playerDB.teams)\n            let i = 0;\n            for (i = 0; i < teams.length;i ++) {\n              const team = teams[i]\n              const teamInfo = playerDB.teams[team]\n              if (!teamInfo.nationality || !teamInfo.category || !teamInfo.players) {\n                console.log('playerDB format error:', team)\n                console.log('  nationality:', teamInfo.nationality)\n                console.log('  category:', teamInfo.category)\n                console.log('  players:', teamInfo.players)\n                break\n              }\n            }\n            if (i == teams.length) {\n              console.log('playerDB updated')\n              this.$emit('load-player-db', playerDB)\n            }\n          }\n          else {\n            console.log('cannot read playerDB file')          \n          }\n        }\n        catch (e) {\n          console.log(e)\n        }\n      }\n      fileReader.readAsText( file )\n    }\n  },\n  created() {\n    let m = this.lineup.split('\\n\\n')\n    this.home = m[0]\n    this.away = m[1]\n\n    let c = this.colors.split(',')\n    this.homeColor = c[0]\n    this.awayColor = c[1]   \n  },\n  watch: {\n    lineup: function(newLineup) {\n      let m = newLineup.split('\\n\\n')\n      this.home = m[0]\n      this.away = m[1]\n    },\n    colors: function() {\n      let c = this.colors.split(',')\n      this.homeColor = c[0]\n      this.awayColor = c[1]\n    },\n    homeColor: function() {\n      this.$emit('change-team-colors', `${this.homeColor},${this.awayColor}`)\n    },\n    awayColor: function() {\n      this.$emit('change-team-colors', `${this.homeColor},${this.awayColor}`)\n    },\n    playerdb: function() {\n      let pdb = document.getElementById('player-db-information')\n      if (this.playerdb) {\n        console.log('playerDB visible')\n        pdb.style.visibility = 'visible'\n      }\n      else {\n        console.log('playerDB hidden')\n        pdb.style.visibility = 'hidden'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n#lineup {\n  padding-bottom: 2vh;\n  max-height: 100vh;\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.4s, visibility 0.4s, max-height 0.3s;\n}\n#lineup.hidden {\n  max-height: 0;\n  visibility: hidden;\n  opacity: 0;\n  padding: 0;\n  transition: opacity 0.1s, visibility 0.1s, max-height 0.2s;\n}\ntextarea {\n  font-family: \"Yu Gothic\", \"YuGothic\", Arial, sans-serif;\n  resize: none;\n  width: 160px;\n  max-height: 1024px;\n  height: calc( 1.4em * 18 );\n  line-height: 1.4;\n  vertical-align: bottom;\n  font-size: 1rem;\n  border: 1px solid #888;\n}\n#changing-ends {\n  font-size: 0.9rem;\n}\n.lineup {\n  display: inline-block;\n  vertical-align: bottom;\n  margin: 0 1rem;\n}\n.team-color {\n  border-radius: 0.25rem;\n  border: 1px solid #888;\n  background-color: white;\n  width: 5em;\n}\n#player-db-information {\n  display: block;\n  color: #ddd;\n  cursor: default;\n  visibility: hidden;\n}\n.player-db-information__dragover {\n  color: #ddd;\n}\n.player-db-information__text:hover,\n.player-db-information__text:focus {\n  color: #ccc;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lineup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lineup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lineup.vue?vue&type=template&id=520c5ad0&scoped=true&\"\nimport script from \"./Lineup.vue?vue&type=script&lang=js&\"\nexport * from \"./Lineup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Lineup.vue?vue&type=style&index=0&id=520c5ad0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"520c5ad0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.hidden ? 'hidden' : '',attrs:{\"id\":\"files\"}},[_c('div',{staticClass:\"icon\",attrs:{\"id\":\"append-mark\"},on:{\"click\":function($event){return _vm.$emit('save-board')}}},[_vm._v(\"+\")]),_c('div',{staticClass:\"icon\",attrs:{\"id\":\"open-new-board\"},on:{\"click\":function($event){return _vm.$emit('open-new-board')}}},[_vm._v(\"New\")]),_c('div',{attrs:{\"id\":\"saved-board-icon\"}},_vm._l((_vm.boardStorage),function(board,index){return _c('img',{key:board.timestamp+index,staticClass:\"icon\",attrs:{\"src\":board.icon},on:{\"click\":function($event){return _vm.onClickIcon(index)}}})}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div id=\"files\" v-bind:class=\"hidden ? 'hidden' : ''\">\n  <div class=\"icon\" id=\"append-mark\" @click=\"$emit('save-board')\">+</div>\n  <div class=\"icon\" id=\"open-new-board\" @click=\"$emit('open-new-board')\">New</div>\n  <div id=\"saved-board-icon\">\n    <img class=\"icon\" v-for=\"(board, index) in boardStorage\" :key=\"board.timestamp+index\" :src=\"board.icon\" @click=\"onClickIcon(index)\"/>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  props: {\n    storage: Array,\n    hidden: Boolean,\n  },\n  data() {\n    return {\n      boardStorage: [],\n    }\n  },\n  methods: {\n    onClickIcon(index) {\n      console.log(\"click icon\", index)\n      this.$emit(\"click-icon\", index)\n    }\n  },\n  watch: {\n    storage: function() {\n      console.log('update boards list')\n      this.boardStorage = this.storage\n    }\n  }\n}\n</script>\n\n<style>\n#files {\n  display: flex;\n  justify-content: flex-start;\n  margin: 20px 10px 30px;\n  padding: 0rem 1rem;\n  text-align: left;\n  max-height: 100vh;\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.4s, visibility 0.4s, max-height 0.3s;\n}\n#files.hidden {\n  margin: 0;\n  max-height: 0;\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity 0.1s, visibility 0.1s, max-height 0.2s;\n}\n.icon {\n    display: inline-block;\n    margin: 0 5px;\n    border-radius: 0.25rem;\n    width: 64px;\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    background: #fff;\n}\n\n#saved-board-icon {\n    text-align: left;\n    display: flex;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n    flex: 1;\n}\n#saved-board-icon::-webkit-scrollbar {\n    height: 3px;\n}\n#saved-board-icon::-webkit-scrollbar-track {\n    background: transparent;\n    border: none;\n}\n#saved-board-icon::-webkit-scrollbar-thumb {\n    background: #ccc;\n    border-radius: 10px;\n}\n\n#saved-board-icon img {\n    vertical-align: bottom;\n    margin-bottom: 2px;\n    height: 50px;\n    border: 1px solid #888;\n}\n#saved-board-icon img:hover {\n    border: 1px solid #222;\n}\n\n#append-mark {\n    font-size: 28px;\n    padding: 0px 1px;\n    background: none;\n}\n#append-mark:hover,\n#append-mark:focus {\n    color: #222;\n    text-decoration: none;\n    font-weight: bold;\n}\n\n#open-new-board {\n    border: 1px solid #888;\n    margin-bottom: 2px;\n}\n#open-new-board:hover,\n#open-new-board:focus {\n    border-color: #222;    \n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Files.vue?vue&type=template&id=d0e0afaa&\"\nimport script from \"./Files.vue?vue&type=script&lang=js&\"\nexport * from \"./Files.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Files.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.hidden ? 'hidden' : '',attrs:{\"id\":\"storage\"}},[_c('div',{staticClass:\"storage-button\"},[_c('label',{attrs:{\"for\":\"import-board\"}},[_vm._v(\"Import\")]),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"import-board\",\"type\":\"file\",\"accept\":\"text/plain, application/json\"},on:{\"change\":_vm.onImport}})]),_c('div',{staticClass:\"storage-button\",on:{\"click\":function($event){return _vm.$emit('export-board')}}},[_vm._v(\" Export \")]),_c('div',{staticClass:\"storage-button\",on:{\"click\":function($event){return _vm.$emit('capture-board')}}},[_vm._v(\" Capture \")]),_c('span',{staticClass:\"blank\"},[_vm._v(\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDropboxAvailable),expression:\"isDropboxAvailable\"}],staticClass:\"storage-button\",attrs:{\"id\":\"dropbox\"},on:{\"click\":_vm.dropboxStorage}},[_vm._v(\" Dropbox \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isGoogleAvailable),expression:\"isGoogleAvailable\"}],staticClass:\"storage-button\",attrs:{\"id\":\"google\"},on:{\"click\":_vm.googleStorage}},[_vm._v(\" Google \")]),_c('div',{staticClass:\"storage-button\",attrs:{\"id\":\"clear-local-storage\"},on:{\"click\":function($event){return _vm.$emit('clear-local-storage')}}},[_vm._v(\" Clear \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let toString = {}.toString;\nfunction isFunction(x){ return toString.call(x) == '[object Function]'; }\nfunction isString(x){ return toString.call(x) == '[object String]'; }\nfunction isObject(x){ return toString.call(x) == '[object Object]'; }\nfunction paramsFromUrlHash(){\n  return window.location.hash.replace(/^#/,'').split('&').reduce(function(o,entry){ if(entry=='') return o; entry=entry.split('='); o[decodeURIComponent(entry[0])] = decodeURIComponent(entry[1]); return o;},{});\n}\n\nlet api = 'https://api.dropboxapi.com/2/';\nlet content = 'https://content.dropboxapi.com/2/';\nlet tokenStore = function(key, val){\n  return ( arguments.length > 1 ) ? (localStorage[key] = val) : localStorage[key];\n};\nlet globalErrorHandler = undefined;\n  \nlet endpointMapping = {\n  'auth/token/revoke': { contentType: null },\n  'files/upload': { baseUri: content, format: 'content-upload' },\n  'files/get_thumbnail': { baseUri: content, format: 'content-download' },\n  'files/download' : { baseUri: content, format: 'content-download' },\n  'files/get_preview': {baseUri: content, format: 'content-download' },\n  'files/upload_session/append': {baseUri: content, format: 'content-upload'},\n  'files/upload_session/append_v2': {baseUri: content, format: 'content-upload'},\n  'files/upload_session/finish': {baseUri: content, format: 'content-upload'},\n  'files/upload_session/start': {baseUri: content, format: 'content-upload'},\n  'files/get_shared_link_file': {baseUri: content, format: 'content-download'}\n}\n  \nlet contentTypeMapping = {\n  'rpc' : 'application/json',\n  'content-upload' : 'application/octet-stream'\n}\n\nexport default function dropbox(endpoint, apiArgs) {\n  let args = [].slice.call(arguments);\n  let config = endpointMapping[endpoint] || {};\n  let baseUri = config.baseUri || api;\n  let format = config.format || 'rpc';\n  let contentType = config.contentType || (config.contentType === null) ? null : contentTypeMapping[format];\n\n  let lastArg = args[args.length - 1];\n  let handlers = (args.length > 2 && (isObject(lastArg) || isFunction(lastArg))) ? lastArg : {};\n  if (isFunction(handlers)) {\n    handlers = { onComplete: handlers };\n  }\n\n  let promise = null;\n  let promisectl = {};\n  \n  if (Promise) {\n    promise = new Promise(function(resolve,reject) {\n       promisectl.resolve = resolve;\n       promisectl.reject = reject;\n    });\n  }\n\n  var r = new XMLHttpRequest();\n\n  r.open('POST', baseUri+endpoint, true);\n  r.setRequestHeader('Authorization', 'Bearer '+ (tokenStore('__dbat') || '000000000000000000000000_00000-000000000000000000000000000000000') );\n\n  if(format == 'content-download') r.responseType = 'blob';\n  if(apiArgs && apiArgs.responseType){\n    r.responseType = apiArgs.responseType;\n    delete apiArgs.responseType;\n  }\n\n  if (contentType) {\n    r.setRequestHeader('Content-Type', contentType);\n  }\n  if (apiArgs && (format == 'content-upload' || format == 'content-download')) {\n    r.setRequestHeader('Dropbox-API-Arg', JSON.stringify(apiArgs));\n  }\n\n  if (handlers.onDownloadProgress) {\n    r.addEventListener(\"progress\", handlers.onDownloadProgress);\n  }\n  if (handlers.onUploadProgress && r.upload) {\n    r.upload.addEventListener(\"progress\", handlers.onUploadProgress);\n  }\n  if (handlers.onError || globalErrorHandler) {\n    r.addEventListener(\"error\", function(e){\n      let er = handlers.onError && handlers.onError(e.target);\n      promise && promisectl.reject && promisectl.reject(e.target);\n      globalErrorHandler && globalErrorHandler(e.target, er);\n    });\n  }\n\n  r.onreadystatechange = function () {\n    if (r.readyState != 4 ) return;\n    if (r.status == 200) {\n      var apiResponse = JSON.parse( r.getResponseHeader('dropbox-api-result') || r.responseText );\n      if(endpoint=='auth/token/revoke') tokenStore('__dbat', '');\n      handlers.onComplete && handlers.onComplete( apiResponse, r.response, r);\n      promise && promisectl.resolve && promisectl.resolve( apiResponse, r.response, r );\n    }\n    else {\n      var er = handlers.onError && handlers.onError(r);\n      promise && promisectl.reject && promisectl.reject(r);\n      globalErrorHandler && globalErrorHandler(r, er);\n    }\n  };\n\n  var requestPayload = (args.length > 2 && format == 'content-upload') ? args[2] : undefined;\n  requestPayload = requestPayload || ( (apiArgs && format == 'rpc') ? JSON.stringify(apiArgs) : null );\n  if(requestPayload){\n    r.send(requestPayload);\n  } else {\n    r.send();\n  }\n\n  return promise;\n}\n\ndropbox.setGlobalErrorHandler = function(handler) {\n  globalErrorHandler = handler;\n}\n\ndropbox.setTokenStore = function(store) {\n  tokenStore = store;\n}\n\ndropbox.authenticate = function(apiArgs = {}, handlers = {}) {\n  console.log('authenticate')\n  if (isFunction(handlers)) {\n    handlers = { onComplete: handlers };\n  }\n  if(isString(apiArgs)) apiArgs = { client_id: apiArgs };\n  apiArgs.redirect_uri = apiArgs.redirect_uri || window.location.href;\n\n  let promise = null;\n  let promisectl = {};\n  if(Promise){\n    promise = new Promise(function(resolve,reject) {\n      promisectl.resolve = resolve;\n      promisectl.reject = reject;\n    });\n  }\n\n  // if we already have an access token, return immediately\n  if (tokenStore('__dbat')) {\n    handlers.onComplete();\n    promise && promisectl.resolve && promisectl.resolve();\n    return promise\n  }\n\n  let params = paramsFromUrlHash();\n  let csrfToken = tokenStore('__dbcsrf');\n\n  if (params.state && csrfToken && params.state == csrfToken) {\n    // we are returning from authentication redirect\n    if (params.access_token) {\n      // the authentcation was successful\n      tokenStore('__dbat', params.access_token);\n      tokenStore('__dbcsrf', '');\n      window.location.replace( window.location.href.replace(/#.*/,'') );\n    }\n    else {\n      // the authentication was not successful\n      let er = handlers.onError && handlers.onError(params);\n      promise && promisectl.reject && promisectl.reject(params);\n      globalErrorHandler && globalErrorHandler(params, er);\n    }\n  }\n  else {\n    // initiate authentication\n    let csrfToken = \"\"+Math.floor(Math.random()*100000);\n    tokenStore('__dbcsrf', csrfToken);\n\n    window.location = \"https://www.dropbox.com/1/oauth2/authorize?response_type=token&\"\n                      + \"client_id=\"+ encodeURIComponent(apiArgs.client_id) +\"&\"\n                      + \"redirect_uri=\"+ encodeURIComponent(apiArgs.redirect_uri) + \"&\"\n                      + \"state=\"+ encodeURIComponent(csrfToken);\n  }\n\n  return promise;\n}\n\ndropbox.checkRedirect = function() {\n  let params = paramsFromUrlHash();\n  let csrfToken = tokenStore('__dbcsrf');\n  let stat = tokenStore('__dbstat');\n  \n  if (params.state && csrfToken && params.state == csrfToken) {\n    // we are returning from authentication redirect\n    if (params.access_token) {\n      // the authentcation was successful\n      tokenStore('__dbat', params.access_token);\n      tokenStore('__dbcsrf', '');\n      tokenStore('__dbstat', 'reloading')\n      window.location.replace( window.location.href.replace(/#.*/,'') );\n    }\n    else {\n      // the authentication was not successful\n    }\n  }\n  else if (stat == 'reloading') {\n    tokenStore('__dbstat', '')\n    return true\n  }\n\n  return false\n}\n\ndropbox.clear = function() {\n  localStorage.removeItem('__dbat')\n  localStorage.removeItem('__dbcsrf')\n  localStorage.removeItem('__dbstat')\n}\n","export default function google(){}\ngoogle.fileId = {}\ngoogle.getFileId = async function(filename) {\n  let id = null\n  let query = `name = '${filename}' and mimeType = 'application/json' and 'root' in parents and trashed = false`\n\n  console.log('get file list')\n  let res = await window.gapi.client.drive.files.list({q: query})\n\n  for (let v of res.result.files) {\n    if (v.name == filename) {\n      id = v.id\n      break\n    }\n  }\n  return Promise.resolve(id)\n}\ngoogle.download = async function(filename) {\n  let fileId = this.fileId[filename]\n\n  if (!fileId) {\n    fileId = await this.getFileId(filename)\n    if (fileId == null) {\n      return null\n    }\n    this.fileId[filename] = fileId    \n  }\n\n  let param = {\n    fileId: fileId,\n    alt: 'media'\n  }\n  let res = await window.gapi.client.drive.files.get(param)\n  return res.body\n}\ngoogle.upload = async function(filename, contents) {\n  let fileId = this.fileId[filename]\n  if (!fileId) {\n    fileId = await this.getFileId(filename)\n    if (fileId == null) {\n      fileId = await this.create(filename)\n    }\n    this.fileId[filename] = fileId  \n  }\n  let path = `/upload/drive/v3/files/${fileId}`\n  let method = 'PATCH'\n  let params = {\n    uploadType: 'media'\n  }\n  let headers = {}\n  let body = contents\n\n  await window.gapi.client.request({path, method, params, headers, body})\n}\ngoogle.create = async function(filename) {\n  let res = await window.gapi.client.drive.files.create({\n    name: filename,\n    description: 'board list for board app'\n  })\n  return res.result.id\n}\ngoogle.delete = async function(filename) {\n  let fileId = this.fileId[filename]\n  if (!fileId) {\n    fileId = await this.getFileId(filename)\n    if (!fileId) return\n  }\n  let res = await window.gapi.client.drive.files.delete({\n    fileId: fileId\n  })\n  delete this.fileId[filename]\n  return res\n}\ngoogle.clear = function() {\n  window.gapi.auth2.getAuthInstance().disconnect()\n}\n","import {BOARD_LIST, OLD_BOARD_LIST, PLAYER_DB, EXPORT_FILE_NAME_PREFIX, PLAYER_DB_FILE_PREFIX} from './config.js'\nimport Dropbox from './dropbox.js'\nimport Google from './google.js'\n\n/*================================================================================ \n** localStorge\n**==============================================================================*/\nexport const local = []\nlocal.isAvailable = function() {\n  return 'available'\n}\nlocal.fetch = function(success) {\n  console.log('load from localStorage')\n  if (OLD_BOARD_LIST in localStorage) {  //  convert old list\n    localStorage[BOARD_LIST] = localStorage[OLD_BOARD_LIST]\n    delete localStorage[OLD_BOARD_LIST]\n  }\n  if (BOARD_LIST in localStorage) {\n    let bds = JSON.parse(localStorage[BOARD_LIST])\n    this.splice(0) // clear array\n    Array.prototype.push.apply(this, bds.boardStorage)\n    console.log('load boards from localStorage')\n  }\n  else {\n    let boardString = JSON.stringify({\n      timestamp: new Date().getTime(),\n      boardStorage: [],\n    })\n    localStorage[BOARD_LIST] = boardString\n    this.splice(0) // clear array\n    console.log('create new boards at localStorage')\n  }\n  \n  // playerDB\n  if (localStorage[PLAYER_DB]) {\n    let playerDB = JSON.parse(localStorage[PLAYER_DB])\n    this.playerDB = playerDB\n  }\n  else {\n    delete this.playerDB\n  }\n\n  success && success()\n}\nlocal.append = function(board, success) {\n  console.log('save to localStorage')\n  let newBoards = [board].concat(this)\n  let newBoardsString = JSON.stringify({\n    timestamp: new Date().getTime(),\n    boardStorage: newBoards\n  })\n  localStorage[BOARD_LIST] = newBoardsString\n  this.fetch(success)\n}\nlocal.remove = function(n, success) {\n  console.log(`remove board at index ${n} from localStorage`)\n  let newBoards = [].concat(this)  // copy array\n  newBoards.splice(n, 1)\n  let newBoardsString = JSON.stringify({\n    timestamp: new Date().getTime(),\n    boardStorage: newBoards\n  })\n  localStorage[BOARD_LIST] = newBoardsString\n  this.fetch(success)\n}\nlocal.clear = function() {\n  const boardString = JSON.stringify({\n    timestamp: new Date().getTime(),\n    boardStorage: []\n  })\n  localStorage[BOARD_LIST] = boardString\n  this.splice(0)\n  localStorage.removeItem(PLAYER_DB)\n  delete this.playerDB\n}\nlocal.savePlayerDB = function(db, success) {\n  let playerDBString = JSON.stringify(db)\n  localStorage.setItem(PLAYER_DB, playerDBString)\n  this.playerDB = db\n  success && success()\n}\nlocal.deletePlayerDB = function(success) {\n  localStorage.removeItem(PLAYER_DB)\n  delete this.playerDB\n  success && success()\n}\n\n/*================================================================================ \n** google drive\n**\n** /.env\n**   VUE_APP_GOOGLE_DRIVE_CLIENT_ID = 'GoogleDriveMyClientID';\n**==============================================================================*/\nconst GOOGLE_DRIVE_CLIENT_ID = process.env.VUE_APP_GOOGLE_DRIVE_CLIENT_ID\nconst GOOGLE_BOARD_FILE = `${EXPORT_FILE_NAME_PREFIX}.json`\nconst GOOGLE_PLAYER_DB_FILE = `${PLAYER_DB_FILE_PREFIX}.json`\n\nexport const google = []\ngoogle.isAvailable = function(available, unavailable) {\n  if (!GOOGLE_DRIVE_CLIENT_ID) {\n    return 'unavailable'\n  }\n  window.gapi.load('client:auth2',() => {\n    window.gapi.client.init({\n      clientId: GOOGLE_DRIVE_CLIENT_ID,\n      scope: 'https://www.googleapis.com/auth/drive.file'\n    })\n    .then(\n      window.gapi.client.load('drive', 'v3')\n    )\n    .then(() => {\n      available && available()\n    })\n    .catch((e) => {\n      console.log('Google Drive is not available:', e)\n      unavailable && unavailable()\n    })\n  })\n}\ngoogle.fetch = async function(success, failure) {\n  this.startConnecting && this.startConnecting()\n\n  if (!window.gapi.auth2.getAuthInstance().isSignedIn.get()) {\n    try {\n      await window.gapi.auth2.getAuthInstance().signIn()\n    }\n    catch (e) {\n      console.error(e.error)\n      this.endConnecting && this.endConnecting()\n      failure && failure()\n      return\n    }\n  }\n  \n  if (window.gapi.auth2.getAuthInstance().isSignedIn.get()) {\n    try {\n      let boardsString = await Google.download(GOOGLE_BOARD_FILE)\n      if (boardsString == null) {\n        await Google.upload(GOOGLE_BOARD_FILE, '[]')\n        boardsString = await Google.download(GOOGLE_BOARD_FILE)\n      }\n      const boards = JSON.parse(boardsString)\n      if (boards) {\n        this.splice(0)\n        Array.prototype.push.apply(this, boards)\n        success && success()\n      }\n      else {\n        console.log('cannot download or create board file')\n        failure && failure()\n      }\n    }\n    catch (e) {\n      console.log(e)\n      failure && failure()\n    }\n\n    try {\n      const playerDBString = await Google.download(GOOGLE_PLAYER_DB_FILE)\n      const playerDB = JSON.parse(playerDBString)\n      if (playerDB) {\n        this.playerDB = playerDB\n      }\n      else {\n        console.log('cannot download player DB')\n      } \n    }\n    catch (e) {\n      console.log(e)\n    }\n  }\n\n  this.endConnecting && this.endConnecting()  \n}\ngoogle.append = async function(board, success, failure) {\n  this.startConnecting && this.startConnecting()\n  const newBoards = [board].concat(this)\n\n  const newBoardsString = JSON.stringify(newBoards)\n  await Google.upload(GOOGLE_BOARD_FILE, newBoardsString)\n  const boardsString = await Google.download(GOOGLE_BOARD_FILE)\n  const boards = JSON.parse(boardsString)\n  if (boards) {\n    this.splice(0)\n    Array.prototype.push.apply(this, boards)\n    this.endConnecting && this.endConnecting()\n    success && success()\n    return\n  }\n  this.endConnecting && this.endConnecting()\n  failure && failure()\n}\ngoogle.remove = async function(n, success, failure) {\n  this.startConnecting && this.startConnecting()\n  let newBoards = [].concat(this) // copy array\n  newBoards.splice(n, 1) // remove a element at index n\n\n  const newBoardsString = JSON.stringify(newBoards)\n  await Google.upload(GOOGLE_BOARD_FILE, newBoardsString)\n  const boardsString = await Google.download(GOOGLE_BOARD_FILE)\n  const boards = JSON.parse(boardsString)\n  if (boards) {\n    this.splice(0)\n    Array.prototype.push.apply(this, boards)\n    this.endConnecting && this.endConnecting()\n    success && success()\n    return\n  }\n  this.endConnecting && this.endConnecting()\n  failure && failure()\n}\ngoogle.savePlayerDB = async function(playerDB, success, failure) {\n  this.startConnecting && this.startConnecting()\n\n  try {\n    const playerDBString = JSON.stringify(playerDB)\n    await Google.upload(GOOGLE_PLAYER_DB_FILE, playerDBString)\n    this.playerDB = playerDB\n    success && success()  \n  }\n  catch (e) {\n    console.log(e)\n    failure && failure()\n  }\n\n  this.endConnecting && this.endConnecting()\n}\ngoogle.deletePlayerDB = async function(success, failure) {\n  this.startConnecting && this.startConnecting()\n\n  try {\n    await Google.delete(GOOGLE_PLAYER_DB_FILE)\n    delete this.playerDB\n    success && success()\n  }\n  catch (e) {\n    console.log(e)\n    failure && failure\n  }\n\n  this.endConnecting && this.endConnecting()\n}\ngoogle.clearAccesskey = Google.clear\ngoogle.startConnecting = null\ngoogle.endConnecting = null\n\n\n/*================================================================================ \n** dropbox\n**\n** /.env\n**   VUE_APP_DROPBOX_CLIENT_ID = 'DropboxMyappsAppkey';\n**==============================================================================*/\nconst DROPBOX_CLIENT_ID = process.env.VUE_APP_DROPBOX_CLIENT_ID\nconst DROPBOX_BOARD_FILE = `/${EXPORT_FILE_NAME_PREFIX}.json`\nconst DROPBOX_PLAYER_DB_FILE = `/${PLAYER_DB_FILE_PREFIX}.json`\n\nexport const dropbox = []\ndropbox.isAvailable = function() {\n  console.log(DROPBOX_PLAYER_DB_FILE)\n  if (!DROPBOX_CLIENT_ID) {\n    return 'unavailable'\n  }\n    \n  if (Dropbox.checkRedirect()) {\n    this.startConnecting && this.startConnecting()\n    this.download()\n    return 'connected'\n  }\n    \n  return 'available'\n}\ndropbox.fetch = function(success, failure) {\n  this.startConnecting && this.startConnecting()\n \n  let parameter = {\n    client_id: DROPBOX_CLIENT_ID,\n    redirect_uri: location.href\n  };\n  let callbacks = {\n    onComplete: () => {\n      console.log('complete dropbox authenticate')\n      this.download(success, failure)\n      console.log('download player db from dropbox')\n      this.downloadPlayerDB((db) => {\n        this.playerDB = db\n      })\n    },\n    onError: (e) => {\n      console.log('incomplete dropbox authenticate')\n      this.endConnecting && this.endConnecting()\n      failure && failure(e)\n    }\n  }\n\n  Dropbox.authenticate(parameter, callbacks)\n}\ndropbox.download = function(success, failure) {\n  console.log('download')\n    \n  let callbacks = {\n    onComplete: (result, response) => {this.loadBoard(result, response, success, failure)},\n    onError: (e) => {\n      switch (e.status) {\n      case 401: // Unauthorized\n        console.log('401 Unauthorized')\n        console.log('remove dropbox access token');\n        Dropbox.clear();\n        this.endConnecting && this.endConnecting()\n        failure && failure(e)\n        break;\n          \n      case 409: // Conflict(path not found)\n        console.log('create new boards')\n        this.createNewFile(success, failure)\n        break;\n          \n      default:\n        console.log('cannot download from dropbox');\n        this.endConnecting && this.endConnecting()\n        failure && failure(e)\n      }\n    }\n  }\n  Dropbox('files/download', {path: DROPBOX_BOARD_FILE}, callbacks);\n}\ndropbox.loadBoard = function(result, response, success, failure) {\n  let reader = new FileReader()\n  let self = this\n  reader.addEventListener('loadend', () => {\n    try {\n      let boards = JSON.parse(reader.result)\n      if (boards) {\n        self.splice(0) // clear dropbox array\n        Array.prototype.push.apply(self, boards) // append boards to empty array\n        self.endConnecting && self.endConnecting()\n        success && success()\n      }\n      else {\n        self.endConnecting && self.endConnecting()\n        failure && failure(`parsing ${DROPBOX_BOARD_FILE} failed`)\n      }\n    }\n    catch (e) {\n      self.endConnecting && self.endConnecting()\n      failure && failure(e)\n    }\n  })\n\n  reader.readAsText(response)\n}\ndropbox.createNewFile = function(success, failure) {\n  console.log('create New boards file')\n  let emptyString = '[]'\n  let param = {\n    path: DROPBOX_BOARD_FILE,\n    mode: 'overwrite'\n  }\n  let callbacks = {\n    onComplete: () => {\n      this.download(success, failure)\n    },\n    onError: (e) => {\n      console.log(`cannot create ${DROPBOX_BOARD_FILE}`)\n      failure && failure(e)\n      this.endConnecting && this.endConnecting()\n    }\n  }\n  Dropbox('files/upload', param, emptyString, callbacks)\n}\ndropbox.append = function(board, success, failure) {\n  this.startConnecting && this.startConnecting()\n  let newBoards = [board].concat(this)\n  \n  let newBoardsString = JSON.stringify(newBoards)\n  this.upload(newBoardsString, () => {\n    this.download(success, failure)\n  }, (e) => {\n    console.log('fail to append')\n    this.endConnecting && this.endConnecting()\n    failure && failure(e)\n  })\n}\ndropbox.remove = function(n, success, failure) {\n  this.startConnecting && this.startConnecting()\n  let newBoards = [].concat(this) // copy array\n  newBoards.splice(n, 1) // remove a element at index n\n  \n  let newBoardsString = JSON.stringify(newBoards)\n  this.upload(newBoardsString, () => {\n    this.download(success, failure)\n  }, (e) => {\n    console.log('fail to append')\n    this.endConnecting && this.endConnecting()\n    failure && failure(e)\n  })\n}\ndropbox.upload = function(contents, success, failure) {\n  let param = {\n    path: DROPBOX_BOARD_FILE,\n    mode: 'overwrite'\n  }\n  let callbacks = {\n    onComplete: () => {this.download(success, failure)},\n    onError: (e) => {\n      this.endConnecting && this.endConnecting()\n      failure && failure(e)\n    }\n  }\n  Dropbox('files/upload', param, contents, callbacks)\n}\ndropbox.downloadPlayerDB = function(success, failure) {\n  let callbacks = {\n    onComplete: (result, response) => {\n      let reader = new FileReader()\n      reader.addEventListener('loadend', () => {\n        try {\n          let playerDB = JSON.parse(reader.result)\n          if (playerDB) {\n            success && success(playerDB)\n          }\n          else {\n            failure && failure()\n          }\n        }\n        catch (e) {\n          console.log(`cannot parse ${PLAYER_DB}:`, e)\n          failure && failure()\n        }\n      })\n      reader.readAsText(response)\n    },\n    onError: (e) => {\n      switch (e.status) {\n      case 401: // Unauthorized\n        console.log('401 Unauthorized')\n        break;\n      default:\n        console.log('playerDB not found');\n      }\n    }\n  }\n  Dropbox('files/download', {path: DROPBOX_PLAYER_DB_FILE}, callbacks);\n}\ndropbox.uploadPlayerDB = function(contents, success, failure) {\n  let param = {\n    path: DROPBOX_PLAYER_DB_FILE,\n    mode: 'overwrite'\n  }\n  let callbacks = {\n    onComplete: () => {this.downloadPlayerDB(success, failure)},\n    onError: (e) => {\n      console.log(e)\n      failure && failure(e)\n    }\n  }\n  Dropbox('files/upload', param, contents, callbacks)\n}\ndropbox.savePlayerDB = function(db, success, failure) {\n  console.log(db)\n  let playerDBString = JSON.stringify(db)\n  this.uploadPlayerDB(playerDBString, (playerDB) => {\n    this.playerDB = playerDB\n    console.log('upload succeeded')\n    success && success()\n  }, () => {failure && failure()})\n}\ndropbox.deletePlayerDB = function(success, failure) {\n  console.log('deletePlayerDB')\n  this.uploadPlayerDB(\"\", (playerDB) => {\n    // can't delete playerDB\n    console.log('cannot delete playerDB:', playerDB)\n    failure && failure()\n  }, () => {\n    // deleted playerDB\n    delete this.playerDB\n    success && success()  \n  })\n}\ndropbox.clearAccesskey = Dropbox.clear\ndropbox.startConnecting = null\ndropbox.endConnecting = null\n\n/*================================================================================ \n** storage template\n**==============================================================================*/\nconst template = []\ntemplate.isAvailable = function() {\n  console.log('isAvailable')\n  return 'available'\n}\ntemplate.fetch = function(success) {\n  console.log('fetch')\n  this.splice(0)\n  success && success(this)\n}\ntemplate.append = function(board, success) {\n  console.log('append:', board)\n  this.splice(0, 0, board)\n  success && success(this)\n}\ntemplate.remove = function(n, success) {\n  console.log('remove')\n  this.splice(n,1)\n  success && success(this)\n}\n\n\n/*================================================================================ \n** utility\n**==============================================================================*/\nexport function getDatetime() {\n  let now = new Date()\n  let datetime = now.getFullYear();\n  datetime += ('0' + (now.getMonth()+1)).slice(-2);\n  datetime += ('0' + now.getDate()).slice(-2);\n  datetime += '-';\n  datetime += ('0' + now.getHours()).slice(-2);\n  datetime += ('0' + now.getMinutes()).slice(-2);\n  datetime += ('0' + now.getSeconds()).slice(-2);\n\n  return datetime;\n}\n\nexport function download(filename, url) {\n  let a = document.createElement('a')\n  a.download = filename\n  a.href = url\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n}\n","<template>\n<div id=\"storage\" v-bind:class=\"hidden ? 'hidden' : ''\">\n  <div class=\"storage-button\">\n    <label for=\"import-board\">Import</label>\n    <input id=\"import-board\" type=\"file\" accept=\"text/plain, application/json\" style=\"display:none\" @change=\"onImport\">\n  </div>\n  <div class=\"storage-button\" @click=\"$emit('export-board')\">\n    Export\n  </div>\n  <div class=\"storage-button\" @click=\"$emit('capture-board')\">\n    Capture\n  </div>\n  <span class=\"blank\">&nbsp;</span>\n  <div v-show=\"isDropboxAvailable\" id=\"dropbox\" class=\"storage-button\" @click=\"dropboxStorage\">\n    Dropbox\n  </div>\n  <div v-show=\"isGoogleAvailable\" id=\"google\" class=\"storage-button\" @click=\"googleStorage\">\n    Google\n  </div>\n  <div class=\"storage-button\" id=\"clear-local-storage\" @click=\"$emit('clear-local-storage')\">\n    Clear\n  </div>\n</div>\n</template>\n\n<script>\nimport {CAPTURE_FILE_PREFIX, EXPORT_FILE_NAME_PREFIX} from '../utils/config.js'\nimport {local, google, dropbox, getDatetime, download} from '../utils/io.js'\n\nexport default {\n  props: {\n    capture: Object,\n    exportBoardData: Object,\n    clearBoardList: Object,\n    clearAccesskey: Object,\n    hidden: Boolean,\n  },\n  data: function() {\n    return {\n      currentStorage: {},\n      isDropboxAvailable: false,\n      isGoogleAvailable: false,\n    }\n  },\n  methods: {\n    googleStorage(e) {\n      if (e.target.classList.contains('connected')) {\n        console.log('change storage to localStorage')\n        this.currentStorage.disconnect && this.currentStorage.disconnect()\n        this.currentStorage = local\n        local.fetch(() => {\n          this.$emit('change-storage', this.currentStorage)\n        })\n      }\n      else {\n        console.log('change storage to Google Drive')\n        google.fetch(() => {\n          console.log('connected to Google Drive')\n          this.currentStorage.disconnect && this.currentStorage.disconnect()\n          this.currentStorage = google\n          this.currentStorage.disconnect = function() {\n            let ggl = document.getElementById('google')\n            ggl.classList.remove('connected')\n          }\n          this.$emit('change-storage', this.currentStorage)\n          const ggl = document.getElementById('google')\n          ggl.classList.add('connected')\n        }, (e) => {\n          console.log('fail to connect to Google Drive:', e)\n        })\n      }\n    },\n    dropboxStorage(e) {\n      if (e.target.classList.contains('connected')) {\n        console.log('change storage to localStorage')\n        this.currentStorage.disconnect && this.currentStorage.disconnect()\n        this.currentStorage = local\n        local.fetch(() => {\n          this.$emit('change-storage', this.currentStorage)\n        })\n      }\n      else {\n        console.log('change storage to Dropbox')\n        dropbox.fetch(() => {\n          console.log('connected to Dropbox')\n          this.currentStorage.disconnect && this.currentStorage.disconnect()\n          this.currentStorage = dropbox\n          this.currentStorage.disconnect = function() {\n            let dbx = document.getElementById('dropbox')\n            dbx.classList.remove('connected')\n          }\n          this.$emit('change-storage', this.currentStorage)\n          let dbx = document.getElementById('dropbox')\n          dbx.classList.add('connected')\n        }, (e) => {\n          console.log('fail to connect to Dropbox:', e)\n        })\n      }\n    },\n    onImport(e) {\n      const boardFile = e.target.files[0]\n      e.target.value = '' // fire when same file is selected next time\n\n      let reader = new FileReader()\n      reader.addEventListener('load', () => {\n        try {\n          let board = JSON.parse(reader.result)\n          if (board) {\n            this.$emit('import-board', {players:board.players, color:board.color})\n          }\n        }\n        catch (e) {\n          console.error(e)\n        }\n      })\n      reader.readAsText(boardFile)\n    },\n  },\n  watch: {\n    capture: function() {\n      let filename = CAPTURE_FILE_PREFIX + getDatetime() + '.png'\n      console.log(filename)\n\n      download(filename, this.capture.image)\n    },\n    exportBoardData: function() {\n      let filename = EXPORT_FILE_NAME_PREFIX + getDatetime() + '.txt'\n      let boardString = JSON.stringify(this.exportBoardData)\n      let url = URL.createObjectURL(new Blob([boardString], {type: 'text/play'}))\n      download(filename, url)\n    },\n    clearBoardList: function() {\n      console.log('clear board list on localStorage')\n      local.clear()\n    },\n    clearAccesskey: function() {\n      console.log('clear access key')\n      dropbox.clearAccesskey()\n      google.clearAccesskey()\n    }\n  },\n  created() {\n    window.googleInit = () => {\n      console.log('gapi loaded')\n      google.isAvailable(() => {\n          this.isGoogleAvailable = true\n      }, () => {\n          this.isGoogleAvailable = false\n      })\n    }\n  },\n  mounted() {\n    this.currentStorage = local\n    this.currentStorage.fetch()\n    this.$emit('change-storage', this.currentStorage)\n    \n    // initialize Dropbox\n    dropbox.startConnecting = function() {\n      let dbx = document.getElementById('dropbox')\n      dbx.classList.add('connecting')\n    }\n    dropbox.endConnecting = function() {\n      let dbx = document.getElementById('dropbox')\n      dbx.classList.remove('connecting')\n    }\n    switch (dropbox.isAvailable()) {\n    case 'available':\n      this.isDropboxAvailable = true\n      break\n    case 'unavailable':\n      this.isDropboxAvailable = false\n      break\n    case 'connected': // Dropbox OAuth redirecting\n      this.isDropboxAvailable = true\n      dropbox.fetch(() => {\n        console.log('connected to Dropbox')\n        this.currentStorage.disconnect && this.currentStorage.disconnect()\n        this.currentStorage = dropbox\n        this.currentStorage.disconnect = function() {\n          let dbx = document.getElementById('dropbox')\n          dbx.classList.remove('connected')\n        }\n        this.$emit('change-storage', this.currentStorage)\n        let dbx = document.getElementById('dropbox')\n        dbx.classList.add('connected')\n      }, (e) => {\n        console.log('fail to connect to Dropbox:', e)\n      })\n      break\n    }\n\n    // initialize Google\n    google.startConnecting = function() {\n      let dbx = document.getElementById('google')\n      dbx.classList.add('connecting')\n    }\n    google.endConnecting = function() {\n      let dbx = document.getElementById('google')\n      dbx.classList.remove('connecting')\n    }\n  }\n}\n</script>\n\n<style scoped>\n#storage {\n  margin: 30px 10px 20px;\n  padding: 0px 16px 0px;\n  text-align: left;\n  user-select: none;\n  touch-action: none;\n  max-height: 100vh;\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.4s, visibility 0.4s, max-height 0.3s;}\n#storage.hidden {\n  margin: 0;\n  padding: 0;\n  max-height: 0;\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity 0.1s, visibility 0.1s, max-height 0.2s;\n}\n.storage-button {\n    cursor: default;\n    display: inline-block;\n    margin: 0 5px;\n    border: 1px solid #888;\n    border-radius: 0.25rem;\n    text-align: center;\n    line-height: 24px;\n    width: 64px;\n    vertical-align: top;\n    background: #fff;\n    font-size: 0.9rem;\n}\n.storage-button:hover {\n    border-color: #222;\n}\n#clear-local-storage {\n    float: right;\n}\n#clear-local-storage:hover,\n#clear-local-storage:focus {\n    cursor: default;\n    float: right;\n    color: #222;\n}\n.blank {\n  padding: 0 0.5rem;\n}\n.connected {\n  background: #007ee5 !important;\n  color: white !important;\n}\n.connecting {\n    animation-name: blink-background;\n    animation-duration: 2s;\n    animation-timing-function: ease;\n    animation-iteration-count: infinite;\n}\n@keyframes blink-background {\n    0% {\n        border-color: #0000ff;\n    }\n    50% {\n        border-color: #ffffff;\n    }\n    100% {\n        border-color: #0000ff;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Storage.vue?vue&type=template&id=09de5e30&scoped=true&\"\nimport script from \"./Storage.vue?vue&type=script&lang=js&\"\nexport * from \"./Storage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Storage.vue?vue&type=style&index=0&id=09de5e30&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09de5e30\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"modal-dialog\"}},[_c('div',{staticClass:\"dialog-overlay\"}),(_vm.type == 'saved-board')?_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-close\"},[_c('div',[_c('span',{on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-header\"},[_vm._v(\" \"+_vm._s(_vm.board.timestamp)+\" \")]),_c('div',[_c('img',{attrs:{\"src\":_vm.board.icon}})]),_c('div',{staticClass:\"modal-button\"},[_c('div',{staticClass:\"left-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'open', index:_vm.board.index})}}},[_vm._v(\"Open\")])]),_c('div',{staticClass:\"right-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'delete', index:_vm.board.index})}}},[_vm._v(\"Delete\")])])])]):_vm._e(),(_vm.type == 'open-new-board')?_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-close\"},[_c('div',[_c('span',{on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-header\"},[_vm._v(\" FORMATION \")]),_c('div',{staticClass:\"select-formation\"},[_c('div',{staticClass:\"formation-list\",attrs:{\"id\":\"left-team\"}},[_c('div',[_c('span',{style:({color: _vm.board.homeColor})},[_vm._v(\"● \")]),_vm._v(\"HOME\")]),_vm._l((_vm.formations),function(formation,index){return _c('div',{key:'home'+index,staticClass:\"formation\",class:{selected: _vm.selected.home == index},on:{\"click\":function($event){return _vm.clickFormation('home', index)}}},[_vm._v(\" \"+_vm._s(formation)+\" \")])})],2),_c('div',{staticClass:\"formation-list\",attrs:{\"id\":\"right-team\"}},[_c('div',[_c('span',{style:({color: _vm.board.awayColor})},[_vm._v(\"● \")]),_vm._v(\"AWAY\")]),_vm._l((_vm.formations),function(formation,index){return _c('div',{key:'away'+index,staticClass:\"formation\",class:{selected: _vm.selected.away == index},on:{\"click\":function($event){return _vm.clickFormation('away', index)}}},[_vm._v(\" \"+_vm._s(formation)+\" \")])})],2)]),_c('div',{staticClass:\"modal-button\"},[_c('div',{staticClass:\"center-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":_vm.clickOk}},[_vm._v(\"OK\")])])])]):_vm._e(),(_vm.type == 'show-team-id')?_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-close\"},[_c('div',[_c('span',{on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-header\"},[_vm._v(\" Player DB teams list\"),_c('br'),_vm._v(\" \"+_vm._s(this.board.version)+\" \")]),_c('br'),_c('span',{staticClass:\"team-id\",domProps:{\"innerHTML\":_vm._s(_vm.board.teamHtml)}}),_c('div',{staticClass:\"modal-button\"},[_c('div',{staticClass:\"center-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'delete'})}}},[_vm._v(\" DELETE PLAYER DB \")])])])]):_vm._e(),(_vm.type == 'clear-localstorage')?_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-close\"},[_c('div',[_c('span',{on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\"×\")])])]),_vm._m(0),_c('div',{staticClass:\"modal-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkedItems),expression:\"checkedItems\"}],attrs:{\"type\":\"checkbox\",\"id\":\"all-board-list\",\"name\":\"all-board-list\",\"value\":\"board-list\"},domProps:{\"checked\":Array.isArray(_vm.checkedItems)?_vm._i(_vm.checkedItems,\"board-list\")>-1:(_vm.checkedItems)},on:{\"change\":function($event){var $$a=_vm.checkedItems,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"board-list\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checkedItems=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checkedItems=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checkedItems=$$c}}}}),_c('label',{attrs:{\"for\":\"all-board-list\"}},[_vm._v(\"Clear all board list\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkedItems),expression:\"checkedItems\"}],attrs:{\"type\":\"checkbox\",\"id\":\"all-storage-accesskey\",\"name\":\"all-storage-accesskey\",\"value\":\"accesskey\"},domProps:{\"checked\":Array.isArray(_vm.checkedItems)?_vm._i(_vm.checkedItems,\"accesskey\")>-1:(_vm.checkedItems)},on:{\"change\":function($event){var $$a=_vm.checkedItems,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"accesskey\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checkedItems=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checkedItems=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checkedItems=$$c}}}}),_c('label',{attrs:{\"for\":\"all-storage-accesskey\"}},[_vm._v(\"Clear storage access keys\")]),_c('br')]),_c('div',[_vm._v(\"Are you sure?\")]),_c('div',{staticClass:\"modal-button\"},[_c('div',{staticClass:\"left-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'clear', items:_vm.checkedItems})}}},[_vm._v(\" YES \")])]),_c('div',{staticClass:\"right-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\" Cancel \")])])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_vm._v(\" Clear browser data\"),_c('br'),_vm._v(\" (localStorage and cookie) \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"modal-dialog\">\n    <div class=\"dialog-overlay\"></div>\n    \n    <div class=\"modal-container\" v-if=\"type == 'saved-board'\">\n      <div class=\"modal-close\">\n        <div><span @click=\"$emit('close', {type:'close'})\">&times;</span></div>\n      </div>\n\n      <div class=\"modal-header\">\n        {{ board.timestamp }}\n      </div>\n\n      <div>\n        <img :src=\"board.icon\"/>\n      </div>\n\n      <div class=\"modal-button\">\n        <div class=\"left-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'open', index:board.index})\">Open</button>\n        </div>\n        <div class=\"right-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'delete', index:board.index})\">Delete</button>\n        </div>\n      </div>\n    </div>\n\n\n    <div class=\"modal-container\" v-if=\"type == 'open-new-board'\">\n      <div class=\"modal-close\">\n        <div><span @click=\"$emit('close', {type:'close'})\">&times;</span></div>\n      </div>\n\n      <div class=\"modal-header\">\n        FORMATION\n      </div>\n\n      \n      <div class=\"select-formation\">\n        <div class=\"formation-list\" id=\"left-team\">\n          <div><span :style=\"{color: board.homeColor}\">&#x25CF;&nbsp;</span>HOME</div>\n          <div class=\"formation\"\n               v-for=\"(formation, index) in formations\"\n               :key=\"'home'+index\"\n               :class=\"{selected: selected.home == index}\"\n               @click=\"clickFormation('home', index)\">\n            {{ formation }}\n          </div>\n        </div>\n        <div class=\"formation-list\" id=\"right-team\">\n          <div><span :style=\"{color: board.awayColor}\">&#x25CF;&nbsp;</span>AWAY</div>\n          <div class=\"formation\"\n               v-for=\"(formation, index) in formations\"\n               :key=\"'away'+index\"\n               :class=\"{selected: selected.away == index}\"\n               @click=\"clickFormation('away', index)\">\n            {{ formation }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"modal-button\">\n        <div class=\"center-button\">\n          <button class=\"default-button\" @click=\"clickOk\">OK</button>\n        </div>\n      </div>\n    </div>\n\n    \n    <div class=\"modal-container\" v-if=\"type == 'show-team-id'\">\n      <div class=\"modal-close\">\n        <div><span @click=\"$emit('close', {type:'close'})\">&times;</span></div>\n      </div>\n\n      <div class=\"modal-header\">\n        Player DB teams list<br>\n        {{this.board.version}}\n      </div>\n      <br>\n      <span class=\"team-id\" v-html=\"board.teamHtml\"></span>\n      \n      <div class=\"modal-button\">\n        <div class=\"center-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'delete'})\">\n            DELETE PLAYER DB\n          </button>\n        </div>\n      </div>\n    </div>\n\n    \n    <div class=\"modal-container\" v-if=\"type == 'clear-localstorage'\">\n      <div class=\"modal-close\">\n        <div><span @click=\"$emit('close', {type:'close'})\">&times;</span></div>\n      </div>\n      <div class=\"modal-header\">\n        Clear browser data<br>\n        (localStorage and cookie)\n      </div>\n      <div class='modal-checkbox'>\n        <input type=\"checkbox\" id=\"all-board-list\" name=\"all-board-list\" value=\"board-list\" v-model=\"checkedItems\">\n        <label for=\"all-board-list\">Clear all board list</label><br>\n        <input type=\"checkbox\" id=\"all-storage-accesskey\" name=\"all-storage-accesskey\" value=\"accesskey\" v-model=\"checkedItems\">\n        <label for=\"all-storage-accesskey\">Clear storage access keys</label><br>\n      </div>\n      <div>Are you sure?</div>\n      <div class=\"modal-button\">\n        <div class=\"left-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'clear', items:checkedItems})\">\n            YES\n          </button>\n        </div>\n        <div class=\"right-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'close'})\">\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport {FORMATIONS} from '../utils/config.js'\n\nexport default {\n  props: {\n    type: String,\n    board: Object\n  },\n  data() {\n    return {\n      formations: FORMATIONS,\n      selected: {home: 0, away: 0},\n      checkedItems: []\n    }\n  },\n  methods: {\n    clickFormation(team, index) {\n      this.selected[team] = index\n    },\n    clickOk() {\n      let home = this.formations[this.selected.home]\n      let away = this.formations[this.selected.away]\n      this.$emit('close', {type: 'open', home, away})\n    }\n  }\n}\n</script>\n\n<style>\n.dialog-overlay {\n    z-index: 1;\n    display: block;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 120%;\n    background-color: rgba(0, 0, 0, 0.6);\n}\n\n.modal-container {\n  display: block;\n  background-color: #f8f8f8;\n  margin: 0;\n  padding: 0px 0px 10px;\n  border: 0px solid #888;\n  width: 300px;\n  text-align: center;\n  z-index: 99;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  border-radius: 4px;\n}\n\n.modal-body {\n  margin: 20px 0;\n}\n\n.modal-button {\n  margin: 1rem auto 0rem;\n  width: 256px;\n}\n.left-button {\n    text-align: left;\n    float: left;\n}\n.right-button {\n    text-align: right;\n}\n.modal-close {\n    padding-top: 8px;\n    padding-right: 10px;\n    text-align: right;\n    font-weight: bold;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n}\n.modal-close:hover,\n.modal-close:focus {\n    color: #000;\n    text-decoration: none;\n}\n.modal-checkbox {\n    margin: 1rem auto;\n    text-align: left;\n    width: 256px;\n}\n\n.formation-list {\n    display: inline-block;\n    width: 45%;\n}\n.formation {\n    display: flex;\n    margin: 0.5rem auto;\n    border: 1px solid #888;\n    border-radius: 0.25rem;\n    height: 1.5rem;\n    width: 5rem;\n    font-size: 1rem;\n    justify-content: center;\n    align-items: center;\n}\n.formation:hover {\n    border-color: #222;\n}\n.formation.selected {\n    background-color: #eef;\n}\n.select-formation {\n    margin-top: 1em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=2b2286dd&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as Config from './config.js'\n\nfunction newPlayers(formations) {\n  let players = [];\n  let cx = 0;\n  let cy = 0;\n  \n  // place all players in bench (initialized position)\n  let number_of_rows = 2;\n  let number_of_cols = Config.NUMBER_OF_PLAYERS/number_of_rows;\n  let eachWidth = Config.NORMALIZED.BENCH.w/Config.NUMBER_OF_TEAMS/number_of_cols;\n  let eachHeight = (Config.NORMALIZED.BENCH.h + Config.NORMALIZED.MARGIN.BOTTOM)/number_of_rows*0.93;\n  for (let team = 0; team < Config.NUMBER_OF_TEAMS; team++) {\n    let startX = eachWidth/2 + Config.NORMALIZED.BENCH.w/2*team;\n    let startY = Config.NORMALIZED.BENCH.TOP - Config.NORMALIZED.MARGIN.BOTTOM + eachHeight/2;\n    let x = startX;\n    let y = startY;\n    for (let id = 0; id < Config.NUMBER_OF_PLAYERS; id++) {\n      if (id == number_of_cols) {\n        x = startX;\n        y += eachHeight;\n      }\n      players.push({id, x, y, team, name: '', cx, cy, number: id+1})\n      x += eachWidth;\n    }\n  }\n\n  if (!formations) return players\n\n  // set players in the position of formations\n  let halfPitch = {\n    left: Config.NORMALIZED.MARGIN.LEFT,\n    top: Config.NORMALIZED.MARGIN.TOP,\n    w: Config.NORMALIZED.FIELD.w/2 - Config.NORMALIZED.PLAYER_SIZE*2,\n    h: Config.NORMALIZED.FIELD.h + Config.NORMALIZED.MARGIN.TOP + Config.NORMALIZED.MARGIN.BOTTOM,\n  }\n\n  for (let team = 0; team < Config.NUMBER_OF_TEAMS; team++) {\n    let numRows = formations[team].length;\n    if (numRows == 0) continue;\n\n    let id = 0;\n    for (let row = 0; row < numRows; row++) {\n      let x = halfPitch.w/(numRows-1)*row + Config.NORMALIZED.MARGIN.LEFT;\n      if (team == 1) {\n        // Players of away team are set player from the right to the left.\n        x = Config.NORMALIZED.WIDTH - x;\n      }\n      for (let col = 0; col < formations[team][row]; col++) {\n        let c = (formations[team][row] -1) - col;\n        if (team == 1) {\n          // Players of away team are set player from the top to the bottom.\n          c = col;\n        }\n        let y = halfPitch.h/(formations[team][row]+1)*(c+1);\n\n        for (let p of players) {\n          if (p.team != team || p.id != id) continue;\n          p.x = x;\n          p.y = y;\n        }\n        id++;\n      }\n    }\n  }\n  \n  return players\n}\n\nexport default { newPlayers }\n","<template>\n<div id=\"app\">\n  <Storage\n    :capture=\"capture\"\n    :storage=\"storage\"\n    :exportBoardData=\"exportBoardData\"\n    :clearBoardList=\"clearBoardList\"\n    :clearAccesskey=\"clearAccesskey\"\n    :hidden=\"hideSettings\"\n    @change-storage=\"changeStorage\" \n    @capture-board=\"captureBoard\"\n    @import-board=\"importBoard\"\n    @export-board=\"exportBoard\"\n    @clear-local-storage=\"clearLocalStorage\">\n  </Storage>\n  <Files\n    :storage=\"storage\"\n    :hidden=\"hideSettings\"\n    @save-board=\"saveBoard\"\n    @click-icon=\"onClickIcon\"\n    @open-new-board=\"openNewBoard\">\n  </Files>\n  <Lineup\n    :lineup=\"lineup\"\n    :colors=\"colors\"\n    :playerdb=\"playerDB\"\n    :hidden=\"hideSettings\"\n    @change-lineup=\"changeLineup\"\n    @change-team-colors=\"changeTeamColors\"\n    @change-ends=\"changeEnds\"\n    @show-team-id=\"showTeamId\"\n    @load-player-db=\"loadPlayerDB\">\n  </Lineup>\n  <Board \n    :colors=\"colors\"\n    :save=\"doSave\"\n    :capture=\"doCapture\"\n    :playerInfo=\"players\"\n    @update-player-position=\"updatePlayerPosition\"\n    @change-player-info=\"changePlayerInfo\" \n    @change-team-colors=\"changeTeamColors\"\n    @done-save=\"doneSave\"\n    @done-capture=\"doneCapture\"\n    @hide-settings=\"hideSettings = hideSettings ? false : true\">\n  </Board>\n  <Modal v-if=\"showModal\" @close=\"closeModal\" :type=\"modalType\" :board=\"modalParam\"></Modal>\n</div>\n</template>\n\n<script>\nimport Board from './components/Board.vue'\nimport Lineup from './components/Lineup.vue'\nimport Files from './components/Files.vue'\nimport Storage from './components/Storage.vue'\nimport Modal from './components/Modal.vue'\nimport Players from './utils/players.js'\nimport * as Config from './utils/config.js'\nimport {rgba2hex, hex2rgba} from './utils/color.js'\n\nexport default {\n  name: 'App',\n  components: {\n    Board,\n    Lineup,\n    Files,\n    Storage,\n    Modal\n  },\n  data() {\n    return {\n      colors: Config.TEAM_COLORS,\n      players: [],\n      doCapture: {},\n      doSave: {},\n      storage: [],\n      playerDB: null,\n      showModal: false,\n      modalType: 'saved-board',\n      modalParam: {},\n      capture: {image: ''},\n      exportBoardData: {},\n      clearBoardList: {},\n      clearAccesskey: {},\n      hideSettings: false,\n    }\n  },\n  methods: {\n    saveToLocalStorage() {\n      localStorage[Config.LAST_FIELD_DATA] = JSON.stringify({\n          version: Config.VERSION,\n          players: this.players,\n          color: hex2rgba(this.colors),\n      })\n    },\n    updatePlayerPosition(players) {\n      this.players = players\n      this.saveToLocalStorage()\n    },\n    changeLineup(lineup, teamName) {\n      let teams = lineup.split('\\n\\n')\n      let newTeams = {}\n      teams.forEach((team, teamId) => {\n        if (team == \"\") return\n        newTeams[teamId] = team.split('\\n')\n        if (this.playerDB && this.playerDB['teams'] && this.playerDB['teams'][teamName[teamId]]) {\n          newTeams[teamId].playerDB = this.playerDB['teams'][teamName[teamId]].players\n        }\n      })\n      this.players.forEach((player) => {\n        if (newTeams[player.team] && newTeams[player.team][player.id]) {\n          let newPlayer = newTeams[player.team][player.id].split(',')\n          player.number = newPlayer[0]\n          player.name = newPlayer[1]\n        }\n        if (!player.name && newTeams[player.team] && newTeams[player.team].playerDB) {\n          let name = newTeams[player.team].playerDB[player.number]\n          if (name) {\n            player.name = name\n          }\n        }\n      })\n      this.saveToLocalStorage()\n    },\n    changeTeamColors(colors) {\n      this.colors = colors\n      this.saveToLocalStorage()\n    },\n    changePlayerInfo(player, number, name) {\n      for (let p of this.players) {\n        if (p.team == player.team && p.id == player.id) {\n          p.number = number\n          p.name = name\n        }\n      }\n      this.saveToLocalStorage()\n    },\n    changeEnds() {\n      // rotation matrix\n      // |X|   | -1,  0, 2cx |   |x|\n      // |Y| = |  0, -1, 2cy | x |y|\n      // |1| = |  0,  0,   1 |   |1|\n      // X = -x + 2cx\n      // Y = -y + 2cy\n      // (x, y) (cx, cy)\n      let cx = Config.NORMALIZED.CENTERMARK.LEFT;\n      let cy = Config.NORMALIZED.CENTERMARK.TOP;\n\n      for (let p of this.players) {\n          if (p.y < Config.NORMALIZED.BENCH.TOP) {\n              p.x = 2*cx - p.x;\n              p.y = 2*cy - p.y;\n          }\n      }\n      this.players.splice(0, 1, this.players[0]) // update DOM\n      this.saveToLocalStorage()\n      console.log('changeEnds')\n    },\n    loadPlayerDB(playerDB) {\n      console.log('loadPlayerDB')\n      this.storage.savePlayerDB(playerDB, () => {\n        this.playerDB = playerDB\n      })\n    },\n    showTeamId() {\n      console.log('showTeamId')\n      if (!this.playerDB) return;\n\n      let categoryList = {}\n      for (const team in this.playerDB.teams) {\n        let category = this.playerDB.teams[team].category\n        if (!categoryList[category]) {\n          categoryList[category] = []\n        }\n        categoryList[category].push(team)\n      }\n\n      let teamHtml = ''\n      for (const category in categoryList) {\n        let max_character_in_row = 33\n        teamHtml += `<div>${category}<div>`\n\n        let line = ''\n        for (const teamId of categoryList[category]) {\n          if (line.length + teamId.length < max_character_in_row) {\n            line += teamId + ' '\n          }\n          else {\n            teamHtml += `<div>${line}</div>`\n            line = teamId + ' '\n          }\n        }\n        teamHtml += `<div>${line}</div><br>`\n      }\n\n      // show modal\n      this.modalType = 'show-team-id'\n      this.modalParam = {teamHtml, version: this.playerDB.version}\n      this.showModal = true\n    },\n    saveBoard() {\n      console.log('saved filed')\n      this.doSave = {} // fire method in Board.vue\n    },\n    doneSave(board) {\n      this.storage.append(board)\n    },\n    closeModal(state) {\n      this.showModal = false\n      console.log('close modal')\n\n      if (this.modalType === 'saved-board') {\n        if (state.type === 'delete') {\n          this.storage.remove(state.index)\n        }\n        if (state.type === 'open') {\n          this.players = this.storage[state.index].players\n          this.colors = rgba2hex(this.storage[state.index].color)          \n        }\n      }\n      if (this.modalType === 'open-new-board') {\n        if (state.type === 'open') {\n          let formations = []\n          for (const team of ['home', 'away']) {\n            let f = state[team].split('-')\n            if (f[0] === 'none') {\n              formations.push([])\n            }\n            else {\n              f.unshift('1')\n              formations.push(f.map(Number))\n            }\n          }\n          this.players = Players.newPlayers(formations)\n          this.saveToLocalStorage()\n        }\n      }\n      if (this.modalType === 'show-team-id') {\n        if (state.type === 'delete') {\n          console.log('delete player db')\n          this.storage.deletePlayerDB(() => {\n            this.playerDB = null\n          })\n        }\n      }\n      if (this.modalType === 'clear-localstorage') {\n        if (state.type === 'clear') {\n          for (let i = 0; i < state.items.length; i++) {\n            if (state.items[i] === 'board-list') {\n              console.log('clear board list')\n              this.clearBoardList = {}\n              this.playerDB = null\n              delete localStorage.lastField\n            }\n            if (state.items[i] === 'accesskey') {\n              console.log('clear access key')\n              this.clearAccesskey = {}\n            }\n          }\n        }\n      }\n    },\n    onClickIcon(index) {\n      console.log(index)\n      this.modalType = 'saved-board'\n      this.modalParam = {index, icon:this.storage[index].icon, timestamp:this.storage[index].timestamp}\n      this.showModal = true\n    },\n    openNewBoard() {\n      console.log(\"openNewBoard\")\n      this.modalType = 'open-new-board'\n\n      let c = this.colors.split(',')\n      this.modalParam = {homeColor:c[0], awayColor:c[1]}\n      \n      this.showModal = true\n    },\n    changeStorage(boards) {\n      console.log('changeStorage')\n      this.storage = boards\n      \n      if (boards.playerDB) {\n        this.playerDB = boards.playerDB\n      }\n      else {\n        if (this.playerDB) {\n          this.storage.savePlayerDB(this.playerDB, () => {\n            console.log('copy playerDB to storage')\n          }, () => {\n            console.log('cannot copy playerDB to storage')\n            this.playerDB = null\n          })\n        }\n      }\n    },\n    captureBoard() {\n      console.log('captured board')\n      this.doCapture = {} // fire method in Board.vue\n    },\n    doneCapture(image) {\n      this.capture = {image}\n    },\n    importBoard(board) {\n      this.players = board.players\n      this.colors = board.color\n    },\n    exportBoard() {\n      console.log('export filed')\n      this.exportBoardData = {version: Config.VERSION, players: this.players, color: this.colors}\n    },\n    clearLocalStorage() {\n      console.log('claer localStorage')\n      this.modalType = 'clear-localstorage'\n      this.showModal = true\n    }\n  },\n  created() {\n    if (localStorage[Config.LAST_FIELD_DATA]) {\n      let lastFieldData = JSON.parse(localStorage[Config.LAST_FIELD_DATA])\n      if (lastFieldData.version == Config.VERSION) {\n        this.players = lastFieldData.players\n        this.colors = rgba2hex(lastFieldData.color)\n      }\n      else {\n        // todo old format\n        console.log('check local storage version', lastFieldData.version)\n      }\n    }\n\n    if (this.players.length == 0) {\n      this.players = Players.newPlayers(null)\n    }\n  },\n  computed: {\n    lineup: function() {\n      // sort by 'team' and 'id'\n      let numberAndName = [Array(this.players.length), Array(this.players.length)]\n      for (let p of this.players) {\n        numberAndName[p.team][p.id] = `${p.number},${p.name}`\n      }\n\n      // to string\n      let strLineup = ''\n      for (let team = 0; team < 2; team++) {\n        for (let p of numberAndName[team]) {\n          if (p) {\n            strLineup += p + '\\n'\n          }\n        }\n        strLineup += '\\n' // seperator of each team\n      }\n      return strLineup\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: cneter;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=bf804d18&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=style&index=0&id=09de5e30&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lineup.vue?vue&type=style&index=0&id=520c5ad0&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&id=1ea34b18&scoped=true&lang=css&\""],"sourceRoot":""}