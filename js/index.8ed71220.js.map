{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/assets/field.jpg","webpack:///./src/components/Modal.vue?ccae","webpack:///./src/components/Member.vue?12ba","webpack:///./src/App.vue?80de","webpack:///./src/components/Board.vue?f383","webpack:///./src/utils/config.js","webpack:///./src/utils/capture.js","webpack:///./src/utils/color.js","webpack:///src/components/Board.vue","webpack:///./src/components/Board.vue?6514","webpack:///./src/components/Board.vue","webpack:///./src/components/Member.vue?1eec","webpack:///src/components/Member.vue","webpack:///./src/components/Member.vue?7d62","webpack:///./src/components/Member.vue","webpack:///./src/components/Files.vue?5b8e","webpack:///src/components/Files.vue","webpack:///./src/components/Files.vue?e9ef","webpack:///./src/components/Files.vue","webpack:///./src/components/Storage.vue?9806","webpack:///./src/utils/dropbox.js","webpack:///./src/utils/google.js","webpack:///./src/utils/io.js","webpack:///src/components/Storage.vue","webpack:///./src/components/Storage.vue?3a77","webpack:///./src/components/Storage.vue","webpack:///./src/components/Modal.vue?37a5","webpack:///src/components/Modal.vue","webpack:///./src/components/Modal.vue?cf53","webpack:///./src/components/Modal.vue","webpack:///./src/utils/players.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/Board.vue?2451","webpack:///./src/components/Files.vue?5343","webpack:///./src/components/Storage.vue?a2bb"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","capture","storage","exportBoardData","clearBoardList","clearAccesskey","on","changeStorage","captureBoard","importBoard","exportBoard","clearLocalStorage","saveBoard","onClickIcon","openNewBoard","members","colors","playerDB","changeMemberList","changeTeamColors","changeEnds","showTeamId","loadPlayerDB","doSave","doCapture","players","updatePlayerPosition","changePlayerInfo","doneSave","doneCapture","modalType","modalParam","closeModal","_e","staticRenderFns","screenWidth","screenHeight","fieldRotate","fieldWidth","fieldHeight","fieldMouseDown","fieldTouchStart","_l","player","team","id","visibility","$event","mouseDown","touchStart","staticClass","playerSize","fontSize","_v","_s","teamColor","number","VERSION","PREVIEW_IMAGE_WIDTH","CAPTURE_IMAGE_WIDTH","CAPTURE_FILE_PREFIX","LAST_FIELD_DATA","BOARD_LIST","OLD_BOARD_LIST","PLAYER_DB","EXPORT_FILE_NAME_PREFIX","PLAYER_DB_FILE_PREFIX","REAL_FIELD_SIZE","TOUCH_LINE","GOAL_LINE","PENALTY_BOX","h","w","GOAL_AREA","CENTER_CIRCLE_R","GOAL","LINE_WIDTH","NUMBER_OF_PLAYERS","NUMBER_OF_TEAMS","FORMATIONS","TEAM_COLORS","PLAYER_ALPHA","PNG","WIDTH","HEIGHT","FONT_SIZE","PLAYER_SIZE","FIELD","MARGIN","TOP","BOTTOM","LEFT","RIGHT","BENCH","CENTERMARK","SIZE","false","true","ASPECT","NORMALIZED","fieldImage","require","teams","onLoad","isLandscape","noBench","image","Image","onload","canvas","document","createElement","context","getContext","width","height","Config","drawImage","save","rotate","Math","PI","translate","restore","y","px","py","x","beginPath","fillStyle","arc","fill","lineWidth","strokeStyle","color","stroke","closePath","textAlign","textBaseline","font","fillText","parseInt","toDataURL","console","log","onerror","e","src","rgba2hex","rgb","hex","delimiter","rgba","split","toString","hex2rgba","home","substring","away","join","props","String","playerInfo","Array","fontColor","selectedPlayer","startOffset","isClick","fieldClick","methods","getCursorPosition","getTouchPosition","getIndex","type","touchPlayer","pos","preventDefault","idx","cx","cy","mouseMove","movePlayer","touchMove","click","inputPlayerName","moveStart","fieldBottom","screenResize","mouseUp","$emit","message","prompt","trim","created","forEach","mounted","addEventListener","watch","newColors","component","onDragOver","onDragLeave","stopPropagation","onDropPlayerDB","class","isDragOver","directives","rawName","expression","domProps","target","composing","homeColor","onBlur","onClickChange","awayColor","_m","playerdb","teamName","member","newMember","pdb","style","event","dataTransfer","files","fileReader","version","teamInfo","nationality","category","readAsText","board","index","timestamp","icon","boardStorage","staticStyle","onImport","dropboxStorage","googleStorage","isFunction","isString","isObject","paramsFromUrlHash","location","hash","replace","reduce","entry","decodeURIComponent","api","content","tokenStore","val","arguments","localStorage","globalErrorHandler","undefined","endpointMapping","contentType","baseUri","format","contentTypeMapping","dropbox","endpoint","apiArgs","args","config","lastArg","handlers","onComplete","promise","promisectl","Promise","resolve","reject","XMLHttpRequest","open","setRequestHeader","responseType","JSON","stringify","onDownloadProgress","onUploadProgress","upload","onError","er","onreadystatechange","readyState","status","apiResponse","parse","getResponseHeader","responseText","response","requestPayload","send","google","setGlobalErrorHandler","handler","setTokenStore","store","authenticate","client_id","redirect_uri","href","params","csrfToken","state","access_token","floor","random","encodeURIComponent","checkRedirect","stat","clear","removeItem","fileId","getFileId","filename","query","gapi","client","drive","list","q","res","v","download","param","alt","body","contents","path","method","uploadType","headers","request","description","delete","auth2","getAuthInstance","disconnect","local","isAvailable","fetch","success","bds","boardString","Date","getTime","append","newBoards","concat","newBoardsString","remove","savePlayerDB","db","playerDBString","setItem","deletePlayerDB","GOOGLE_DRIVE_CLIENT_ID","process","GOOGLE_BOARD_FILE","GOOGLE_PLAYER_DB_FILE","available","unavailable","load","init","clientId","scope","then","catch","failure","startConnecting","isSignedIn","signIn","error","endConnecting","Google","boardsString","boards","DROPBOX_CLIENT_ID","DROPBOX_BOARD_FILE","DROPBOX_PLAYER_DB_FILE","Dropbox","parameter","callbacks","downloadPlayerDB","loadBoard","createNewFile","reader","FileReader","self","emptyString","uploadPlayerDB","template","getDatetime","now","datetime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","url","a","appendChild","removeChild","currentStorage","isDropboxAvailable","isGoogleAvailable","classList","contains","ggl","add","dbx","boardFile","googleInit","formation","selected","clickFormation","clickOk","teamHtml","isArray","checkedItems","_i","$$a","$$el","$$c","checked","$$v","$$i","items","formations","newPlayers","number_of_rows","number_of_cols","eachWidth","eachHeight","startX","startY","halfPitch","left","top","numRows","row","col","components","Board","Member","Files","Storage","Modal","showModal","saveToLocalStorage","newTeams","teamId","newPlayer","categoryList","f","unshift","map","Number","lastField","lastFieldData","computed","strMembers","Vue","productionTip","render","App","$mount"],"mappings":"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","file":"js/index.8ed71220.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/field.b56777bb.jpg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=style&index=0&id=e2ecab5e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=style&index=0&id=e2ecab5e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Storage',{attrs:{\"capture\":_vm.capture,\"storage\":_vm.storage,\"exportBoardData\":_vm.exportBoardData,\"clearBoardList\":_vm.clearBoardList,\"clearAccesskey\":_vm.clearAccesskey},on:{\"changeStorage\":_vm.changeStorage,\"captureBoard\":_vm.captureBoard,\"importBoard\":_vm.importBoard,\"exportBoard\":_vm.exportBoard,\"clearLocalStorage\":_vm.clearLocalStorage}}),_c('Files',{attrs:{\"storage\":_vm.storage},on:{\"saveBoard\":_vm.saveBoard,\"clickIcon\":_vm.onClickIcon,\"openNewBoard\":_vm.openNewBoard}}),_c('Member',{attrs:{\"members\":_vm.members,\"colors\":_vm.colors,\"playerdb\":_vm.playerDB},on:{\"changeMemberList\":_vm.changeMemberList,\"changeTeamColors\":_vm.changeTeamColors,\"changeEnds\":_vm.changeEnds,\"showTeamId\":_vm.showTeamId,\"loadPlayerDB\":_vm.loadPlayerDB}}),_c('Board',{attrs:{\"colors\":_vm.colors,\"save\":_vm.doSave,\"capture\":_vm.doCapture,\"playerInfo\":_vm.players},on:{\"updatePlayerPosition\":_vm.updatePlayerPosition,\"changePlayerInfo\":_vm.changePlayerInfo,\"changeTeamColors\":_vm.changeTeamColors,\"doneSave\":_vm.doneSave,\"doneCapture\":_vm.doneCapture}}),(_vm.showModal)?_c('Modal',{attrs:{\"type\":_vm.modalType,\"board\":_vm.modalParam},on:{\"close\":_vm.closeModal}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"view\"}},[_c('svg',{attrs:{\"id\":\"field\",\"width\":_vm.screenWidth,\"height\":_vm.screenHeight}},[_c('image',{attrs:{\"href\":require(\"../assets/field.jpg\"),\"transform\":_vm.fieldRotate,\"x\":\"0\",\"y\":\"0\",\"width\":_vm.fieldWidth,\"height\":_vm.fieldHeight},on:{\"mousedown\":_vm.fieldMouseDown,\"touchstart\":_vm.fieldTouchStart}}),_vm._l((_vm.players),function(player){return _c('g',{key:player.team + ':' + player.id,attrs:{\"transform\":(\"translate(\" + (player.cx) + \",\" + (player.cy) + \")\"),\"visibility\":_vm.visibility[player.team][player.id]},on:{\"mousedown\":function($event){return _vm.mouseDown($event, player.team, player.id)},\"touchstart\":function($event){return _vm.touchStart($event, player.team, player.id)}}},[_c('text',{staticClass:\"player name\",attrs:{\"x\":\"0\",\"y\":_vm.playerSize*1.2,\"font-size\":_vm.fontSize*0.7}},[_vm._v(_vm._s(player.name))]),_c('circle',{staticClass:\"player shadow\",attrs:{\"cx\":_vm.playerSize/10,\"cy\":_vm.playerSize/10,\"r\":_vm.playerSize}}),_c('circle',{staticClass:\"player body\",attrs:{\"cx\":\"0\",\"cy\":\"0\",\"r\":_vm.playerSize,\"stroke\":\"#333\",\"stroke-width\":\"2\",\"fill\":_vm.teamColor[player.team]}}),_c('text',{staticClass:\"player number\",attrs:{\"x\":\"0\",\"y\":\"0\",\"font-size\":_vm.fontSize}},[_vm._v(_vm._s(player.number))])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const VERSION = '0.9.4';\n\nexport const PREVIEW_IMAGE_WIDTH = 256;\nexport const CAPTURE_IMAGE_WIDTH = 1920;\n\n// capture file name\nexport const CAPTURE_FILE_PREFIX = 'board_';\n\n// localStorage\nexport const LAST_FIELD_DATA = 'lastField';\nexport const BOARD_LIST = 'boardList';\nexport const OLD_BOARD_LIST = 'fields';\nexport const PLAYER_DB = 'playerDB';\n\n// import board\n//export const EXPORT_FILE_NAME_PREFIX = 'board_';\nexport const EXPORT_FILE_NAME_PREFIX = 'board';\nexport const PLAYER_DB_FILE_PREFIX = 'playerdb';\n\n// field size [m]\nexport const REAL_FIELD_SIZE = {\n  TOUCH_LINE: 105,\n  GOAL_LINE: 68,\n  PENALTY_BOX: {h: 40.4, w: 16.5},\n  GOAL_AREA: {h: 18.4, w: 5.5},\n  CENTER_CIRCLE_R: 9.15,\n  GOAL: {w: 7.32, d: 1.6},\n  LINE_WIDTH: 0.12,\n}\n\n// player\nexport const NUMBER_OF_PLAYERS = 18;\nexport const NUMBER_OF_TEAMS = 2;\n\n// default formations\nexport const FORMATIONS = [\n  'none',\n  '3-4-3',\n  '4-3-3',\n  '4-4-2',\n  '5-4-1',\n]\n\n// default team colors\nexport const TEAM_COLORS = '#FF0000,#0000FF'\nexport const PLAYER_ALPHA = 0.8\n\n// field.png size [px]\nexport const PNG = {\n  WIDTH: 1280,\n  HEIGHT: 960,\n  FONT_SIZE: 28,\n  PLAYER_SIZE: 30\n}\n\nPNG.FIELD = {\n  w: PNG.WIDTH/22*20\n}\nPNG.FIELD.h = (REAL_FIELD_SIZE.GOAL_LINE/REAL_FIELD_SIZE.TOUCH_LINE)*PNG.FIELD.w\nPNG.MARGIN = {\n  TOP: 25,\n  BOTTOM: 25,\n  LEFT: PNG.WIDTH/22,\n  RIGHT: PNG.WIDTH/22\n}\nPNG.BENCH = {\n  LEFT: 0,\n  TOP: PNG.MARGIN.TOP + PNG.FIELD.h + PNG.MARGIN.BOTTOM,\n  w: PNG.WIDTH,\n  h: PNG.HEIGHT - PNG.FIELD.h - PNG.MARGIN.TOP - PNG.MARGIN.BOTTOM\n}\nPNG.CENTERMARK = {\n  LEFT: PNG.WIDTH/2,\n  TOP: PNG.MARGIN.TOP + PNG.FIELD.h/2\n}\nPNG.SIZE = {\n  false: { // with bench\n    w: PNG.WIDTH,\n    h: PNG.HEIGHT\n  },\n  true: { // no bench\n    w: PNG.WIDTH,\n    h: PNG.HEIGHT - PNG.BENCH.h\n  }\n}\nPNG.ASPECT = {\n  // with bench\n  false: PNG.SIZE[false].w/PNG.SIZE[false].h,\n  // no bench\n  true: PNG.SIZE[true].w/PNG.SIZE[true].h\n}\n  \n// normalized field\nexport const NORMALIZED = {\n  WIDTH: 1.0,\n  HEIGHT: PNG.HEIGHT/PNG.WIDTH,\n  FIELD: {\n    w: PNG.FIELD.w/PNG.WIDTH,\n    h: PNG.FIELD.h/PNG.WIDTH\n  },\n  FONT_SIZE: PNG.FONT_SIZE/PNG.WIDTH,\n  PLAYER_SIZE: PNG.PLAYER_SIZE/PNG.WIDTH,\n  MARGIN: {\n    TOP: PNG.MARGIN.TOP/PNG.WIDTH,\n    BOTTOM: PNG.MARGIN.BOTTOM/PNG.WIDTH,\n    LEFT: PNG.MARGIN.LEFT/PNG.WIDTH,\n    RIGHT: PNG.MARGIN.RIGHT/PNG.WIDTH\n  }\n}\nNORMALIZED.CENTERMARK = {\n  LEFT: NORMALIZED.WIDTH/2,\n  TOP: NORMALIZED.MARGIN.TOP + NORMALIZED.FIELD.h/2,\n}\nNORMALIZED.BENCH = {\n  LEFT: PNG.BENCH.LEFT/PNG.WIDTH,\n  TOP: PNG.BENCH.TOP/PNG.WIDTH,\n  w: PNG.BENCH.w/PNG.WIDTH,\n  h: PNG.BENCH.h/PNG.WIDTH,\n}\n","import * as Config from './config.js'\n\nconst fieldImage = require('../assets/field.jpg');\n\nfunction capture({teams, w, onLoad, isLandscape=true, noBench=false}={}) {\n    // load background\n    let image = new Image();\n    image.onload = () => {\n        let canvas = document.createElement('canvas');\n        let context = canvas.getContext('2d');\n        //document.getElementById('app').appendChild(canvas);\n\n        // draw field\n        let width = null;\n        let height = null;\n        if (isLandscape) {\n            canvas.width = w;\n            canvas.height = w/Config.PNG.ASPECT[noBench];\n            width = w;\n            height = w/Config.PNG.ASPECT[noBench];\n            context.drawImage(\n                image,\n                0, 0, Config.PNG.SIZE[noBench].w, Config.PNG.SIZE[noBench].h,\n                0, 0, width, height\n            );\n        }\n        else {\n            canvas.width = w;\n            canvas.height = Config.PNG.ASPECT[noBench]*w;\n            width = Config.PNG.ASPECT[noBench]*w;\n            height = w;\n            context.save();\n            context.rotate(-90*Math.PI/180);\n            context.translate(-width,0);\n            context.drawImage(\n                image,\n                0, 0, Config.PNG.SIZE[noBench].w, Config.PNG.SIZE[noBench].h,\n                0, 0, width, height\n            );\n            context.restore();\n        }\n\n        let playerSize = Config.NORMALIZED.PLAYER_SIZE*width;\n        let fontSize = Config.NORMALIZED.FONT_SIZE*width;\n\n        // draw player\n        for (let p of teams.players) {\n            if (noBench && p.y > Config.NORMALIZED.BENCH.TOP) continue;\n\n            let px = 0;\n            let py = 0;\n            if (isLandscape) {\n                px = width * p.x;\n                py = width * p.y;\n            }\n            else {\n                px = width * p.y;\n                py = width - width * p.x;\n            }\n\n            // shadow\n            context.beginPath();\n            context.fillStyle = 'rgba(10, 10, 10, 0.3)'; //TODO\n            context.arc(px+3, py+3, playerSize, 0, Math.PI*2, false);\n            context.fill();\n\n            // player\n            context.beginPath();\n            context.lineWidth = 2;\n            context.strokeStyle = 'rgba(10, 10, 10, 0.5)'; //TODO\n            context.fillStyle = teams.color[p.team]; //TODO\n            context.arc(px, py, playerSize, 0, Math.PI*2, false);\n            context.fill();\n            context.stroke();\n            context.closePath();\n\n            // name of player\n            context.textAlign = 'center';\n            context.textBaseline ='middle';\n            context.font = fontSize + 'px \"Yu Gothic\", \"YuGothic\", \"Arial\"';\n            context.fillStyle = '#fff';\n            context.fillText(p.number, px, py);\n            if (p.name) {\n                context.textAlign = 'center';\n                context.textBaseline ='middle';\n                context.font = parseInt(fontSize*0.7) + 'px \"Yu Gothic\", \"YuGothic\", \"Arial\"';\n                context.fillStyle = 'rgba(255,255,255,1.0)';\n                context.fillText(p.name, px, py + playerSize+fontSize/2);\n            }\n        }\n        onLoad(canvas.toDataURL());\n        console.log('capture load image....');\n    }\n    image.onerror = (e) => {\n        console.log(e)\n    }\n    image.src = fieldImage\n}\n\nexport default { capture }","import * as Config from './config.js'\n\n\nexport function rgba2hex(rgb) {\n    let hex = ''\n    let delimiter = ','\n    for (let t = 0; t < rgb.length; t++) {\n        // rgb: ['rgba(255, 0, 0, 0.8)', 'rgba(0, 0, 255, 0.8)']\n        let rgba = rgb[t].split('(')[1].split(')')[0].split(',')\n        hex += '#'\n        for (let c = 0; c < 3; c++) {\n            hex += `0${parseInt(rgba[c]).toString(16)}`.slice(-2)\n        }\n        hex += delimiter\n        delimiter = ''\n    }\n\n    return hex\n}\n\n\nexport function hex2rgba(hex) {\n    // hex: '#FF0000,#0000FF'\n    let c = hex.split(',')\n    if (c.length != 2) return\n    let home = [ // Hex to RGB\n      parseInt(c[0].substring(1, 3), 16),\n      parseInt(c[0].substring(3, 5), 16),\n      parseInt(c[0].substring(5, 7), 16)\n    ]\n    let away = [ // Hex to RGB\n      parseInt(c[1].substring(1, 3), 16),\n      parseInt(c[1].substring(3, 5), 16),\n      parseInt(c[1].substring(5, 7), 16)\n    ]\n\n    return [\n      `rgba(${home.join(',')}, ${Config.PLAYER_ALPHA})`,\n      `rgba(${away.join(',')}, ${Config.PLAYER_ALPHA})`,\n    ]    \n}","<template>\n<div id=\"view\">\n  <svg id=\"field\" :width=\"screenWidth\" :height=\"screenHeight\">\n    <image href=\"../assets/field.jpg\" :transform=\"fieldRotate\" x=\"0\" y=\"0\" :width=\"fieldWidth\" :height=\"fieldHeight\" \n      @mousedown=\"fieldMouseDown\"\n      @touchstart=\"fieldTouchStart\" />\n    <g v-for=\"player in players\" :key=\"player.team + ':' + player.id\"\n        :transform=\"`translate(${player.cx},${player.cy})`\"\n        :visibility=\"visibility[player.team][player.id]\"\n        @mousedown=\"mouseDown($event, player.team, player.id)\"\n        @touchstart=\"touchStart($event, player.team, player.id)\">\n      <text class=\"player name\" x=0 :y=\"playerSize*1.2\" :font-size=\"fontSize*0.7\">{{ player.name }}</text>\n      <circle class=\"player shadow\" :cx=\"playerSize/10\" :cy=\"playerSize/10\" :r=\"playerSize\"></circle>\n      <circle class=\"player body\" cx=0 cy=0 :r=\"playerSize\" stroke=\"#333\" stroke-width=\"2\" :fill=\"teamColor[player.team]\"></circle>\n      <text class=\"player number\" x=0 y=0 :font-size=\"fontSize\">{{ player.number }}</text>\n    </g>\n  </svg>\n</div>\n</template>\n\n<script>\nimport Capture from '../utils/capture.js'\nimport * as Config from '../utils/config.js'\nimport {hex2rgba} from '../utils/color.js'\n\nexport default {\n  props: {\n    colors: String,\n    save: Object,\n    capture: Object,\n    playerInfo: Array,\n  },\n  data() {\n    return {\n      screenWidth: 800,\n      screenHeight: 600,\n      playerSize: 30,\n      fontSize: 30,\n      fontColor: `${this.color}`,\n      players: [],\n      visibility: [[],[]],\n      teamColor: [`rgba(255, 0, 0, 0.8)`, `rgba(0, 0, 255, 0.8)`],\n      selectedPlayer: null,\n      startOffset: null,\n      noBench: false,\n      isLandscape: null,\n      fieldRotate: null,\n      fieldWidth: null,\n      fieldHeight: null,\n      isClick: false,\n      fieldClick: null,\n    }\n  },\n  methods: {\n    getCursorPosition(e) {\n      let fieldPos = document.getElementById('field').getBoundingClientRect()\n      let x = Math.round(e.clientX - fieldPos.left)\n      let y = Math.round(e.clientY - fieldPos.top)\n      return {x, y}\n    },\n    getTouchPosition(e) {\n      let fieldPos = document.getElementById('field').getBoundingClientRect()\n      let x = Math.round(e.touches[0].clientX - fieldPos.left)\n      let y = Math.round(e.touches[0].clientY - fieldPos.top)\n      return {x, y}\n    },\n    getIndex(team, id) {\n      let i = 0\n      for (; i < this.players.length; i++) {\n        if (this.players[i].id == id && this.players[i].team == team) break\n      }\n      if (i == this.players.length) return null\n\n      return i\n    },\n    mouseDown(e, team, player) {\n      console.log(e.type)\n      let pos = this.getCursorPosition(e)\n      this.touchPlayer(team, player, pos)\n      this.isClick = true\n    },\n    touchStart(e, team, player) {\n      console.log(e.type)\n      e.preventDefault()\n      let pos = this.getTouchPosition(e)\n      this.touchPlayer(team, player, pos)\n      this.isClick = true\n    },\n    touchPlayer(team, player, pos) {\n      console.log('touch player(' + team + ':' + player + ')', pos)\n      let idx = this.getIndex(team, player)\n      if (idx == null) {\n        console.log(`player ${team}:${player} not found`)\n        return\n      }\n      this.selectedPlayer = this.players[idx];\n\n      // bring player to front\n      this.players.splice(idx,1)\n      this.players.push(this.selectedPlayer)\n\n      this.startOffset = pos\n      this.startOffset.x -= this.selectedPlayer.cx\n      this.startOffset.y -= this.selectedPlayer.cy\n    },\n    mouseMove(e) {\n      if (this.selectedPlayer) {\n        console.log('mouseMove', e.type)\n        this.movePlayer(this.getCursorPosition(e))\n      }\n      this.isClick = false\n      this.fieldClick = false\n    },\n    touchMove(e) {\n      if (this.selectedPlayer) {\n        console.log('touchMove', e.type)\n        this.movePlayer(this.getTouchPosition(e))\n      }\n      this.isClick = false\n      this.fieldClick = false\n    },\n    movePlayer(pos) {\n      if (!this.selectedPlayer) return\n      this.selectedPlayer.cx = pos.x - this.startOffset.x\n      this.selectedPlayer.cy = pos.y - this.startOffset.y\n      if (this.selectedPlayer.cx < 0) this.selectedPlayer.cx = 0\n      if (this.selectedPlayer.cy < 0) this.selectedPlayer.cy = 0\n      if (this.selectedPlayer.cx > this.screenWidth) this.selectedPlayer.cx = this.screenWidth\n      if (this.selectedPlayer.cy > this.screenHeight) this.selectedPlayer.cy = this.screenHeight\n      \n      if (this.isLandscape) {\n        this.selectedPlayer.x = this.selectedPlayer.cx/this.screenWidth\n        this.selectedPlayer.y = this.selectedPlayer.cy/this.screenWidth\n      }\n      else {\n        this.selectedPlayer.x = (this.screenHeight - this.selectedPlayer.cy)/this.screenHeight\n        this.selectedPlayer.y = this.selectedPlayer.cx/this.screenHeight\n      }\n    },\n    click() {\n      // click player\n      if (this.isClick) {\n        this.isClick = false\n        this.inputPlayerName()\n      }\n      this.selectedPlayer = null;\n      this.moveStart = null;\n\n      // click filed\n      if (this.fieldClick) {\n        console.log('field click!!', this.fieldClick)\n\n      // click bench area\n        let fieldBottom = this.isLandscape ? this.fieldClick.y : this.fieldClick.x\n        if (fieldBottom > (Config.NORMALIZED.FIELD.h + Config.NORMALIZED.MARGIN.TOP)*this.fieldWidth) {\n          this.noBench = this.noBench ? false : true\n          this.screenResize()\n        }\n      }\n      this.fieldClick = null\n    },\n    mouseUp() {\n      if (this.selectedPlayer) {\n        this.$emit('updatePlayerPosition', this.players)\n      }\n      if (this.selectedPlayer || this.fieldClick) {\n        console.log('mouseUp')\n        this.click()\n      }\n    },\n    inputPlayerName() {\n      console.log('click: ', this.selectedPlayer)\n      let message = this.selectedPlayer.number + ','\n      if (this.selectedPlayer.name) {\n        message += this.selectedPlayer.name\n      }\n      let prompt = window.prompt(\"Change player's number and name\", message)\n      if (prompt) {\n        let p = prompt.split(',')\n        let number = parseInt(p[0])\n        let name = ''\n        if (number) {\n          if (p.length > 1) {\n            name = p[1].trim()\n          }\n          this.$emit('changePlayerInfo', this.selectedPlayer, number, name)\n        }\n      }\n    },\n    fieldMouseDown(e) {\n      console.log('field mouse:', e.type)\n      this.fieldClick = this.getCursorPosition(e)\n    },\n    fieldTouchStart(e) {\n      console.log('field touch:', e.type)\n      this.fieldClick = this.getTouchPosition(e)\n    },\n    screenResize() {\n      let width = document.body.clientWidth*0.99\n      let height = document.documentElement.clientHeight*0.98\n\n      console.log('screenResize: ', width, height)\n      if (width > height) {\n        console.log('landscape')\n        this.isLandscape = true\n        if (width/height < Config.PNG.ASPECT[this.noBench]) {\n          this.screenWidth = width\n          this.screenHeight = width/Config.PNG.ASPECT[this.noBench]\n        }\n        else {\n          this.screenWidth = height*Config.PNG.ASPECT[this.noBench]\n          this.screenHeight = height\n        }\n      }\n      else {\n        console.log('portrate')\n        this.isLandscape = false\n        if (height/width < Config.PNG.ASPECT[this.noBench]) {\n          this.screenWidth = height/Config.PNG.ASPECT[this.noBench]\n          this.screenHeight = height\n        }\n        else {\n          this.screenWidth = width\n          this.screenHeight = width*Config.PNG.ASPECT[this.noBench]\n        }\n      }\n\n      if (this.isLandscape) {\n        for (let player of this.players) {\n          if (this.noBench && player.y > Config.NORMALIZED.BENCH.TOP) {\n            this.visibility[player.team][player.id] = 'hidden'\n          }\n          else {\n            this.visibility[player.team][player.id] = 'visible'\n          }\n          player.cx = player.x*this.screenWidth\n          player.cy = player.y*this.screenWidth\n        }\n        this.fieldRotate = `rotate(0, 0, 0) translate(0,0)`\n        this.fieldWidth = this.screenWidth\n        this.fieldHeight = this.fieldWidth/Config.PNG.ASPECT[false] // always with bench\n      }\n      else {\n        for (let player of this.players) {\n          if (this.noBench && player.y > Config.NORMALIZED.BENCH.TOP) {\n            this.visibility[player.team][player.id] = 'hidden'\n          }\n          else {\n            this.visibility[player.team][player.id] = 'visible'\n          }\n          player.cx = player.y*this.screenHeight\n          player.cy = this.screenHeight - player.x*this.screenHeight\n        }\n        this.fieldRotate = `rotate(-90, 0, 0) translate(${-this.screenHeight},0)`\n        this.fieldWidth = this.screenHeight\n        this.fieldHeight = this.fieldWidth/Config.PNG.ASPECT[false] // always with bench\n      }\n\n      this.playerSize = Config.NORMALIZED.PLAYER_SIZE*this.fieldWidth\n      this.fontSize = Config.NORMALIZED.FONT_SIZE*this.fieldWidth\n\n      console.log('screen: ', this.screenWidth, this.screenHeight)\n      console.log('field: ', this.fieldWidth, this.fieldHeight)\n    },\n  },\n  created() {\n    this.players = this.playerInfo\n    this.teamColor = hex2rgba(this.colors)\n    this.visibility.forEach((team) => {\n      for (let i = 0; i < Config.NUMBER_OF_PLAYERS; i++) {\n        team.push('visibile')\n      }\n    })\n  },\n  mounted() {\n    document.addEventListener('mouseup', this.mouseUp)\n    document.addEventListener('touchend', this.mouseUp)\n    document.addEventListener('mousemove', this.mouseMove)\n    document.addEventListener('touchmove', this.touchMove)\n    window.addEventListener('resize', this.screenResize)\n    this.screenResize()\n  },\n  watch: {\n    playerInfo: function() {\n      console.log('update playerInfo:')\n      this.players = this.playerInfo\n      this.screenResize()\n    },\n    colors: function(newColors) {\n      console.log('get colors')\n      this.teamColor = hex2rgba(newColors)\n    },\n    save: function() {\n      Capture.capture({\n        teams: {\n          players: this.players,\n          color: this.teamColor,\n        }, \n        w: Config.PREVIEW_IMAGE_WIDTH,\n        onLoad: (url) => {\n          let now = new Date()\n          this.$emit(\"doneSave\",\n            {\n              players: this.players,\n              color: this.teamColor,\n              icon: url,\n              timestamp: now.toLocaleString()\n            },\n          )\n        },\n        isLandscape: true,\n        noBench: false\n      })\n    },\n    capture: function() {\n      Capture.capture({\n        teams: {\n          players: this.players,\n          color: this.teamColor,\n        },\n        w: Config.CAPTURE_IMAGE_WIDTH,\n        onLoad: (url) => {\n          this.$emit(\"doneCapture\", url)\n        },\n        isLandscape: this.isLandscape,\n        noBench: this.noBench\n      })\n    },\n  },\n}\n</script>\n\n<style scoped>\n#view {\n  height: 98vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\nsvg{\n  color: #444;\n  user-select: none;\n  touch-action: none;\n}\n.shadow{\n  fill: #000;\n  fill-opacity: 0.2;\n}\ng{\n  text-anchor: middle;\n}\ntext.player{\n  fill: #fff;\n  dominant-baseline: central;\n}\ntext.name {\n  dominant-baseline: hanging;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Board.vue?vue&type=template&id=5f828864&scoped=true&\"\nimport script from \"./Board.vue?vue&type=script&lang=js&\"\nexport * from \"./Board.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Board.vue?vue&type=style&index=0&id=5f828864&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f828864\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"member\"}},[_c('div',{attrs:{\"draggable\":\"true\"},on:{\"dragover\":function($event){$event.preventDefault();return _vm.onDragOver($event)},\"dragleave\":_vm.onDragLeave,\"drop\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onDropPlayerDB($event)}}},[_c('div',{attrs:{\"id\":\"player-db-information\"}},[_c('div',{class:{'player-db-information__dragover': _vm.isDragOver}},[_c('span',{staticClass:\"player-db-information__text\",on:{\"click\":function($event){return _vm.$emit('showTeamId')}}},[_vm._v(\"Player DB\")])])]),_c('div',{staticClass:\"member\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.homeColor),expression:\"homeColor\"}],staticClass:\"team-color\",attrs:{\"type\":\"color\",\"list\":\"colorList\"},domProps:{\"value\":(_vm.homeColor)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.homeColor=$event.target.value}}})]),_c('div',{staticClass:\"member\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.home),expression:\"home\"}],attrs:{\"spellcheck\":\"false\"},domProps:{\"value\":(_vm.home)},on:{\"blur\":function($event){return _vm.onBlur()},\"input\":function($event){if($event.target.composing){ return; }_vm.home=$event.target.value}}})]),_c('div',{staticClass:\"member\"},[_c('button',{staticClass:\"default-button\",attrs:{\"type\":\"button\",\"onfocus\":\"this.blur()\",\"id\":\"changing-ends\"},on:{\"click\":_vm.onClickChange}},[_vm._v(\"Changing ends\")])]),_c('div',{staticClass:\"member\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.away),expression:\"away\"}],attrs:{\"spellcheck\":\"false\"},domProps:{\"value\":(_vm.away)},on:{\"blur\":function($event){return _vm.onBlur()},\"input\":function($event){if($event.target.composing){ return; }_vm.away=$event.target.value}}})]),_c('div',{staticClass:\"member\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.awayColor),expression:\"awayColor\"}],staticClass:\"team-color\",attrs:{\"type\":\"color\",\"list\":\"colorList\"},domProps:{\"value\":(_vm.awayColor)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.awayColor=$event.target.value}}})]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('datalist',{attrs:{\"id\":\"colorList\"}},[_c('option',[_vm._v(\"#000000\")]),_c('option',[_vm._v(\"#ffffff\")]),_c('option',[_vm._v(\"#ff0000\")]),_c('option',[_vm._v(\"#dd3300\")]),_c('option',[_vm._v(\"#ff8000\")]),_c('option',[_vm._v(\"#00cc00\")]),_c('option',[_vm._v(\"#ffcc00\")]),_c('option',[_vm._v(\"#ff0066\")]),_c('option',[_vm._v(\"#cc0044\")]),_c('option',[_vm._v(\"#880011\")]),_c('option',[_vm._v(\"#006600\")]),_c('option',[_vm._v(\"#113355\")]),_c('option',[_vm._v(\"#8000ff\")]),_c('option',[_vm._v(\"#0000ff\")]),_c('option',[_vm._v(\"#0080ff\")])])}]\n\nexport { render, staticRenderFns }","<template>\n<div id=\"member\">\n  <div draggable=\"true\" @dragover.prevent=\"onDragOver\" @dragleave=\"onDragLeave\" @drop.stop.prevent=\"onDropPlayerDB\">\n    <div id=\"player-db-information\">\n      <div :class=\"{'player-db-information__dragover': isDragOver}\">\n        <span class=\"player-db-information__text\" @click=\"$emit('showTeamId')\">Player DB</span>\n      </div>\n    </div>\n    <div class=\"member\">\n      <input class=\"team-color\" type=\"color\" v-model=\"homeColor\" list=\"colorList\" />\n    </div>\n    <div class=\"member\">\n      <textarea v-model=\"home\" @blur=\"onBlur()\" spellcheck=\"false\"/>\n    </div>\n    <div class=\"member\">\n      <button class=\"default-button\" type=\"button\" onfocus=\"this.blur()\" id=\"changing-ends\" @click=\"onClickChange\">Changing ends</button>\n    </div>\n    <div class=\"member\">\n      <textarea v-model=\"away\" @blur=\"onBlur()\" spellcheck=\"false\"/>\n    </div>\n    <div class=\"member\">\n      <input class=\"team-color\" type=\"color\" v-model=\"awayColor\" list=\"colorList\" />\n    </div>\n    <datalist id=\"colorList\">\n      <option>#000000</option>\n      <option>#ffffff</option>\n      <option>#ff0000</option>\n      <option>#dd3300</option>\n      <option>#ff8000</option>\n      \n      <option>#00cc00</option>\n      <option>#ffcc00</option>\n      <option>#ff0066</option>\n      <option>#cc0044</option>\n      <option>#880011</option>\n\n      <option>#006600</option>\n      <option>#113355</option>\n      <option>#8000ff</option>\n      <option>#0000ff</option>\n      <option>#0080ff</option>\n    </datalist>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  props: {\n    members: String,\n    colors: String,\n    playerdb: Object,\n  },\n  data() {\n    return {\n      home: '',\n      away: '',\n      homeColor: '#ff0000',\n      awayColor: '#0000ff',\n      isDragOver: false\n    }\n  },\n  methods: {\n    onBlur() {\n      let teams = [this.home, this.away]\n      let newMember = ''\n      let teamName = []\n      for (let team of teams) {\n        let member = team.split('\\n')\n        teamName.push(member[0])\n        for (let player of member) {\n          let info = player.split(',')\n          let number = parseInt(info[0])\n          if (!number) continue // ignore this player information\n\n          let name = ''\n          if (info[1]) {\n            name = info[1].trim()\n          }\n          newMember += `${number},${name}\\n`\n        }\n        newMember += `\\n`\n      }\n      let m = newMember.split('\\n\\n')\n      this.home = m[0]\n      this.away = m[1]\n      this.$emit(\"changeMemberList\", newMember, teamName)\n    },\n    onClickChange() {\n      this.$emit('changeEnds')\n    },\n    onDragOver() {\n      if (!this.playerdb) {\n        this.isDragOver = true\n        let pdb = document.getElementById('player-db-information')\n        pdb.style.visibility = 'visible'\n      }\n    },\n    onDragLeave() {\n      this.isDragOver = false\n      if (!this.playerdb) {\n        let pdb = document.getElementById('player-db-information')\n        pdb.style.visibility = 'hidden'\n      }\n    },\n    onDropPlayerDB(event) {\n      console.log('drop file:', event.dataTransfer.files)\n      this.onDragLeave()\n      if (this.playerdb) {\n        console.log('player db already exists')\n        return\n      }\n\n      const file = event.dataTransfer.files[0]\n      let fileReader = new FileReader()\n      fileReader.onload = () => {\n        try {\n          let playerDB = JSON.parse(fileReader.result)\n          console.log(`version: ${playerDB.version}, teams: ${playerDB.teams}`)          \n          if (playerDB.version && playerDB.teams) {\n            const teams = Object.keys(playerDB.teams)\n            let i = 0;\n            for (i = 0; i < teams.length;i ++) {\n              const team = teams[i]\n              const teamInfo = playerDB.teams[team]\n              if (!teamInfo.nationality || !teamInfo.category || !teamInfo.players) {\n                console.log('playerDB format error:', team)\n                console.log('  nationality:', teamInfo.nationality)\n                console.log('  category:', teamInfo.category)\n                console.log('  players:', teamInfo.players)\n                break\n              }\n            }\n            if (i == teams.length) {\n              console.log('playerDB updated')\n              this.$emit('loadPlayerDB', playerDB)\n            }\n          }\n          else {\n            console.log('cannot read playerDB file')          \n          }\n        }\n        catch (e) {\n          console.log(e)\n        }\n      }\n      fileReader.readAsText( file )\n    }\n  },\n  created() {\n    let m = this.members.split('\\n\\n')\n    this.home = m[0]\n    this.away = m[1]\n\n    let c = this.colors.split(',')\n    this.homeColor = c[0]\n    this.awayColor = c[1]   \n  },\n  watch: {\n    members: function(newMember) {\n      let m = newMember.split('\\n\\n')\n      this.home = m[0]\n      this.away = m[1]\n    },\n    colors: function() {\n      let c = this.colors.split(',')\n      this.homeColor = c[0]\n      this.awayColor = c[1]\n    },\n    homeColor: function() {\n      this.$emit('changeTeamColors', `${this.homeColor},${this.awayColor}`)\n    },\n    awayColor: function() {\n      this.$emit('changeTeamColors', `${this.homeColor},${this.awayColor}`)\n    },\n    playerdb: function() {\n      let pdb = document.getElementById('player-db-information')\n      if (this.playerdb) {\n        console.log('playerDB visible')\n        pdb.style.visibility = 'visible'\n      }\n      else {\n        console.log('playerDB hidden')\n        pdb.style.visibility = 'hidden'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n#member {\n  padding-bottom: 2vh;\n}\ntextarea {\n  font-family: \"Yu Gothic\", \"YuGothic\", Arial, sans-serif;\n  resize: none;\n  width: 160px;\n  max-height: 1024px;\n  height: calc( 1.4em * 18 );\n  line-height: 1.4;\n  vertical-align: bottom;\n  font-size: 1rem;\n}\n#changing-ends {\n  font-size: 0.9rem;\n}\n.member {\n  display: inline-block;\n  vertical-align: bottom;\n  margin: 0 1rem;\n}\n.team-color {\n  border-radius: 0.25rem;\n  border: 1px solid #888;\n  background-color: white;\n  width: 5em;\n}\n#player-db-information {\n  display: block;\n  color: #ddd;\n  cursor: default;\n  visibility: hidden;\n}\n.player-db-information__dragover {\n  color: #ddd;\n}\n.player-db-information__text:hover,\n.player-db-information__text:focus {\n  color: #ccc;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Member.vue?vue&type=template&id=e2ecab5e&scoped=true&\"\nimport script from \"./Member.vue?vue&type=script&lang=js&\"\nexport * from \"./Member.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Member.vue?vue&type=style&index=0&id=e2ecab5e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e2ecab5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"files\"}},[_c('div',{staticClass:\"icon\",attrs:{\"id\":\"append-mark\"},on:{\"click\":function($event){return _vm.$emit('saveBoard')}}},[_vm._v(\"+\")]),_c('div',{staticClass:\"icon\",attrs:{\"id\":\"open-new-board\"},on:{\"click\":function($event){return _vm.$emit('openNewBoard')}}},[_vm._v(\"New\")]),_c('div',{attrs:{\"id\":\"saved-board-icon\"}},_vm._l((_vm.boardStorage),function(board,index){return _c('img',{key:board.timestamp+index,staticClass:\"icon\",attrs:{\"src\":board.icon},on:{\"click\":function($event){return _vm.onClickIcon(index)}}})}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div id=\"files\">\n  <div class=\"icon\" id=\"append-mark\" @click=\"$emit('saveBoard')\">+</div>\n  <div class=\"icon\" id=\"open-new-board\" @click=\"$emit('openNewBoard')\">New</div>\n  <div id=\"saved-board-icon\">\n    <img class=\"icon\" v-for=\"(board, index) in boardStorage\" :key=\"board.timestamp+index\" :src=\"board.icon\" @click=\"onClickIcon(index)\"/>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  props: {\n    storage: Array\n  },\n  data() {\n    return {\n      boardStorage: [],\n    }\n  },\n  methods: {\n    onClickIcon(index) {\n      console.log(\"click icon\", index)\n      this.$emit(\"clickIcon\", index)\n    }\n  },\n  watch: {\n    storage: function() {\n      console.log('update boards list')\n      this.boardStorage = this.storage\n    }\n  }\n}\n</script>\n\n<style>\n#files {\n  display: flex;\n  justify-content: flex-start;\n  margin: 20px 10px 30px;\n  padding: 0rem 1rem;\n  text-align: left;\n}\n.icon {\n    display: inline-block;\n    margin: 0 5px;\n    border-radius: 0.25rem;\n    width: 64px;\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    background: #fff;\n}\n\n#saved-board-icon {\n    text-align: left;\n    display: flex;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n    flex: 1;\n}\n#saved-board-icon::-webkit-scrollbar {\n    height: 3px;\n}\n#saved-board-icon::-webkit-scrollbar-track {\n    background: transparent;\n    border: none;\n}\n#saved-board-icon::-webkit-scrollbar-thumb {\n    background: #ccc;\n    border-radius: 10px;\n}\n\n#saved-board-icon img {\n    vertical-align: bottom;\n    margin-bottom: 2px;\n    height: 50px;\n    border: 1px solid #888;\n}\n#saved-board-icon img:hover {\n    border: 1px solid #222;\n}\n\n#append-mark {\n    font-size: 28px;\n    padding: 0px 1px;\n    background: none;\n}\n#append-mark:hover,\n#append-mark:focus {\n    color: #222;\n    text-decoration: none;\n    font-weight: bold;\n}\n\n#open-new-board {\n    border: 1px solid #888;\n    margin-bottom: 2px;\n}\n#open-new-board:hover,\n#open-new-board:focus {\n    border-color: #222;    \n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Files.vue?vue&type=template&id=0cd14c07&\"\nimport script from \"./Files.vue?vue&type=script&lang=js&\"\nexport * from \"./Files.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Files.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"storage\"}},[_c('div',{staticClass:\"storage-button\"},[_c('label',{attrs:{\"for\":\"import-board\"}},[_vm._v(\"Import\")]),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"import-board\",\"type\":\"file\",\"accept\":\"text/plain, application/json\"},on:{\"change\":_vm.onImport}})]),_c('div',{staticClass:\"storage-button\",on:{\"click\":function($event){return _vm.$emit('exportBoard')}}},[_vm._v(\" Export \")]),_c('div',{staticClass:\"storage-button\",on:{\"click\":function($event){return _vm.$emit('captureBoard')}}},[_vm._v(\" Capture \")]),_c('span',{staticClass:\"blank\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDropboxAvailable),expression:\"isDropboxAvailable\"}],staticClass:\"storage-button\",attrs:{\"id\":\"dropbox\"},on:{\"click\":_vm.dropboxStorage}},[_vm._v(\" Dropbox \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isGoogleAvailable),expression:\"isGoogleAvailable\"}],staticClass:\"storage-button\",attrs:{\"id\":\"google\"},on:{\"click\":_vm.googleStorage}},[_vm._v(\" Google \")]),_c('div',{staticClass:\"storage-button\",attrs:{\"id\":\"clear-local-storage\"},on:{\"click\":function($event){return _vm.$emit('clearLocalStorage')}}},[_vm._v(\" Clear \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let toString = {}.toString;\nfunction isFunction(x){ return toString.call(x) == '[object Function]'; }\nfunction isString(x){ return toString.call(x) == '[object String]'; }\nfunction isObject(x){ return toString.call(x) == '[object Object]'; }\nfunction paramsFromUrlHash(){\n  return window.location.hash.replace(/^#/,'').split('&').reduce(function(o,entry){ if(entry=='') return o; entry=entry.split('='); o[decodeURIComponent(entry[0])] = decodeURIComponent(entry[1]); return o;},{});\n}\n\nlet api = 'https://api.dropboxapi.com/2/';\nlet content = 'https://content.dropboxapi.com/2/';\nlet tokenStore = function(key, val){\n  return ( arguments.length > 1 ) ? (localStorage[key] = val) : localStorage[key];\n};\nlet globalErrorHandler = undefined;\n  \nlet endpointMapping = {\n  'auth/token/revoke': { contentType: null },\n  'files/upload': { baseUri: content, format: 'content-upload' },\n  'files/get_thumbnail': { baseUri: content, format: 'content-download' },\n  'files/download' : { baseUri: content, format: 'content-download' },\n  'files/get_preview': {baseUri: content, format: 'content-download' },\n  'files/upload_session/append': {baseUri: content, format: 'content-upload'},\n  'files/upload_session/append_v2': {baseUri: content, format: 'content-upload'},\n  'files/upload_session/finish': {baseUri: content, format: 'content-upload'},\n  'files/upload_session/start': {baseUri: content, format: 'content-upload'},\n  'files/get_shared_link_file': {baseUri: content, format: 'content-download'}\n}\n  \nlet contentTypeMapping = {\n  'rpc' : 'application/json',\n  'content-upload' : 'application/octet-stream'\n}\n\nexport default function dropbox(endpoint, apiArgs) {\n  let args = [].slice.call(arguments);\n  let config = endpointMapping[endpoint] || {};\n  let baseUri = config.baseUri || api;\n  let format = config.format || 'rpc';\n  let contentType = config.contentType || (config.contentType === null) ? null : contentTypeMapping[format];\n\n  let lastArg = args[args.length - 1];\n  let handlers = (args.length > 2 && (isObject(lastArg) || isFunction(lastArg))) ? lastArg : {};\n  if (isFunction(handlers)) {\n    handlers = { onComplete: handlers };\n  }\n\n  let promise = null;\n  let promisectl = {};\n  \n  if (Promise) {\n    promise = new Promise(function(resolve,reject) {\n       promisectl.resolve = resolve;\n       promisectl.reject = reject;\n    });\n  }\n\n  var r = new XMLHttpRequest();\n\n  r.open('POST', baseUri+endpoint, true);\n  r.setRequestHeader('Authorization', 'Bearer '+ (tokenStore('__dbat') || '000000000000000000000000_00000-000000000000000000000000000000000') );\n\n  if(format == 'content-download') r.responseType = 'blob';\n  if(apiArgs && apiArgs.responseType){\n    r.responseType = apiArgs.responseType;\n    delete apiArgs.responseType;\n  }\n\n  if (contentType) {\n    r.setRequestHeader('Content-Type', contentType);\n  }\n  if (apiArgs && (format == 'content-upload' || format == 'content-download')) {\n    r.setRequestHeader('Dropbox-API-Arg', JSON.stringify(apiArgs));\n  }\n\n  if (handlers.onDownloadProgress) {\n    r.addEventListener(\"progress\", handlers.onDownloadProgress);\n  }\n  if (handlers.onUploadProgress && r.upload) {\n    r.upload.addEventListener(\"progress\", handlers.onUploadProgress);\n  }\n  if (handlers.onError || globalErrorHandler) {\n    r.addEventListener(\"error\", function(e){\n      let er = handlers.onError && handlers.onError(e.target);\n      promise && promisectl.reject && promisectl.reject(e.target);\n      globalErrorHandler && globalErrorHandler(e.target, er);\n    });\n  }\n\n  r.onreadystatechange = function () {\n    if (r.readyState != 4 ) return;\n    if (r.status == 200) {\n      var apiResponse = JSON.parse( r.getResponseHeader('dropbox-api-result') || r.responseText );\n      if(endpoint=='auth/token/revoke') tokenStore('__dbat', '');\n      handlers.onComplete && handlers.onComplete( apiResponse, r.response, r);\n      promise && promisectl.resolve && promisectl.resolve( apiResponse, r.response, r );\n    }\n    else {\n      var er = handlers.onError && handlers.onError(r);\n      promise && promisectl.reject && promisectl.reject(r);\n      globalErrorHandler && globalErrorHandler(r, er);\n    }\n  };\n\n  var requestPayload = (args.length > 2 && format == 'content-upload') ? args[2] : undefined;\n  requestPayload = requestPayload || ( (apiArgs && format == 'rpc') ? JSON.stringify(apiArgs) : null );\n  if(requestPayload){\n    r.send(requestPayload);\n  } else {\n    r.send();\n  }\n\n  return promise;\n}\n\ndropbox.setGlobalErrorHandler = function(handler) {\n  globalErrorHandler = handler;\n}\n\ndropbox.setTokenStore = function(store) {\n  tokenStore = store;\n}\n\ndropbox.authenticate = function(apiArgs = {}, handlers = {}) {\n  console.log('authenticate')\n  if (isFunction(handlers)) {\n    handlers = { onComplete: handlers };\n  }\n  if(isString(apiArgs)) apiArgs = { client_id: apiArgs };\n  apiArgs.redirect_uri = apiArgs.redirect_uri || window.location.href;\n\n  let promise = null;\n  let promisectl = {};\n  if(Promise){\n    promise = new Promise(function(resolve,reject) {\n      promisectl.resolve = resolve;\n      promisectl.reject = reject;\n    });\n  }\n\n  // if we already have an access token, return immediately\n  if (tokenStore('__dbat')) {\n    handlers.onComplete();\n    promise && promisectl.resolve && promisectl.resolve();\n    return promise\n  }\n\n  let params = paramsFromUrlHash();\n  let csrfToken = tokenStore('__dbcsrf');\n\n  if (params.state && csrfToken && params.state == csrfToken) {\n    // we are returning from authentication redirect\n    if (params.access_token) {\n      // the authentcation was successful\n      tokenStore('__dbat', params.access_token);\n      tokenStore('__dbcsrf', '');\n      window.location.replace( window.location.href.replace(/#.*/,'') );\n    }\n    else {\n      // the authentication was not successful\n      let er = handlers.onError && handlers.onError(params);\n      promise && promisectl.reject && promisectl.reject(params);\n      globalErrorHandler && globalErrorHandler(params, er);\n    }\n  }\n  else {\n    // initiate authentication\n    let csrfToken = \"\"+Math.floor(Math.random()*100000);\n    tokenStore('__dbcsrf', csrfToken);\n\n    window.location = \"https://www.dropbox.com/1/oauth2/authorize?response_type=token&\"\n                      + \"client_id=\"+ encodeURIComponent(apiArgs.client_id) +\"&\"\n                      + \"redirect_uri=\"+ encodeURIComponent(apiArgs.redirect_uri) + \"&\"\n                      + \"state=\"+ encodeURIComponent(csrfToken);\n  }\n\n  return promise;\n}\n\ndropbox.checkRedirect = function() {\n  let params = paramsFromUrlHash();\n  let csrfToken = tokenStore('__dbcsrf');\n  let stat = tokenStore('__dbstat');\n  \n  if (params.state && csrfToken && params.state == csrfToken) {\n    // we are returning from authentication redirect\n    if (params.access_token) {\n      // the authentcation was successful\n      tokenStore('__dbat', params.access_token);\n      tokenStore('__dbcsrf', '');\n      tokenStore('__dbstat', 'reloading')\n      window.location.replace( window.location.href.replace(/#.*/,'') );\n    }\n    else {\n      // the authentication was not successful\n    }\n  }\n  else if (stat == 'reloading') {\n    tokenStore('__dbstat', '')\n    return true\n  }\n\n  return false\n}\n\ndropbox.clear = function() {\n  localStorage.removeItem('__dbat')\n  localStorage.removeItem('__dbcsrf')\n  localStorage.removeItem('__dbstat')\n}\n","export default function google(){}\ngoogle.fileId = {}\ngoogle.getFileId = async function(filename) {\n  let id = null\n  let query = `name = '${filename}' and mimeType = 'application/json' and 'root' in parents and trashed = false`\n\n  console.log('get file list')\n  let res = await window.gapi.client.drive.files.list({q: query})\n\n  for (let v of res.result.files) {\n    if (v.name == filename) {\n      id = v.id\n      break\n    }\n  }\n  return Promise.resolve(id)\n}\ngoogle.download = async function(filename) {\n  let fileId = this.fileId[filename]\n\n  if (!fileId) {\n    fileId = await this.getFileId(filename)\n    if (fileId == null) {\n      return null\n    }\n    this.fileId[filename] = fileId    \n  }\n\n  let param = {\n    fileId: fileId,\n    alt: 'media'\n  }\n  let res = await window.gapi.client.drive.files.get(param)\n  return res.body\n}\ngoogle.upload = async function(filename, contents) {\n  let fileId = this.fileId[filename]\n  if (!fileId) {\n    fileId = await this.getFileId(filename)\n    if (fileId == null) {\n      fileId = await this.create(filename)\n    }\n    this.fileId[filename] = fileId  \n  }\n  let path = `/upload/drive/v3/files/${fileId}`\n  let method = 'PATCH'\n  let params = {\n    uploadType: 'media'\n  }\n  let headers = {}\n  let body = contents\n\n  await window.gapi.client.request({path, method, params, headers, body})\n}\ngoogle.create = async function(filename) {\n  let res = await window.gapi.client.drive.files.create({\n    name: filename,\n    description: 'board list for board app'\n  })\n  return res.result.id\n}\ngoogle.delete = async function(filename) {\n  let fileId = this.fileId[filename]\n  if (!fileId) {\n    fileId = await this.getFileId(filename)\n    if (!fileId) return\n  }\n  let res = await window.gapi.client.drive.files.delete({\n    fileId: fileId\n  })\n  delete this.fileId[filename]\n  return res\n}\ngoogle.clear = function() {\n  window.gapi.auth2.getAuthInstance().disconnect()\n}\n","import {BOARD_LIST, OLD_BOARD_LIST, PLAYER_DB, EXPORT_FILE_NAME_PREFIX, PLAYER_DB_FILE_PREFIX} from './config.js'\nimport Dropbox from './dropbox.js'\nimport Google from './google.js'\n\n/*================================================================================ \n** localStorge\n**==============================================================================*/\nexport const local = []\nlocal.isAvailable = function() {\n  return 'available'\n}\nlocal.fetch = function(success) {\n  console.log('load from localStorage')\n  if (OLD_BOARD_LIST in localStorage) {  //  convert old list\n    localStorage[BOARD_LIST] = localStorage[OLD_BOARD_LIST]\n    delete localStorage[OLD_BOARD_LIST]\n  }\n  if (BOARD_LIST in localStorage) {\n    let bds = JSON.parse(localStorage[BOARD_LIST])\n    this.splice(0) // clear array\n    Array.prototype.push.apply(this, bds.boardStorage)\n    console.log('load boards from localStorage')\n  }\n  else {\n    let boardString = JSON.stringify({\n      timestamp: new Date().getTime(),\n      boardStorage: [],\n    })\n    localStorage[BOARD_LIST] = boardString\n    this.splice(0) // clear array\n    console.log('create new boards at localStorage')\n  }\n  \n  // playerDB\n  if (localStorage[PLAYER_DB]) {\n    let playerDB = JSON.parse(localStorage[PLAYER_DB])\n    this.playerDB = playerDB\n  }\n  else {\n    delete this.playerDB\n  }\n\n  success && success()\n}\nlocal.append = function(board, success) {\n  console.log('save to localStorage')\n  let newBoards = [board].concat(this)\n  let newBoardsString = JSON.stringify({\n    timestamp: new Date().getTime(),\n    boardStorage: newBoards\n  })\n  localStorage[BOARD_LIST] = newBoardsString\n  this.fetch(success)\n}\nlocal.remove = function(n, success) {\n  console.log(`remove board at index ${n} from localStorage`)\n  let newBoards = [].concat(this)  // copy array\n  newBoards.splice(n, 1)\n  let newBoardsString = JSON.stringify({\n    timestamp: new Date().getTime(),\n    boardStorage: newBoards\n  })\n  localStorage[BOARD_LIST] = newBoardsString\n  this.fetch(success)\n}\nlocal.clear = function() {\n  const boardString = JSON.stringify({\n    timestamp: new Date().getTime(),\n    boardStorage: []\n  })\n  localStorage[BOARD_LIST] = boardString\n  this.splice(0)\n  localStorage.removeItem(PLAYER_DB)\n  delete this.playerDB\n}\nlocal.savePlayerDB = function(db, success) {\n  let playerDBString = JSON.stringify(db)\n  localStorage.setItem(PLAYER_DB, playerDBString)\n  this.playerDB = db\n  success && success()\n}\nlocal.deletePlayerDB = function(success) {\n  localStorage.removeItem(PLAYER_DB)\n  delete this.playerDB\n  success && success()\n}\n\n/*================================================================================ \n** google drive\n**\n** /.env\n**   VUE_APP_GOOGLE_DRIVE_CLIENT_ID = 'GoogleDriveMyClientID';\n**==============================================================================*/\nconst GOOGLE_DRIVE_CLIENT_ID = process.env.VUE_APP_GOOGLE_DRIVE_CLIENT_ID\nconst GOOGLE_BOARD_FILE = `${EXPORT_FILE_NAME_PREFIX}.json`\nconst GOOGLE_PLAYER_DB_FILE = `${PLAYER_DB_FILE_PREFIX}.json`\n\nexport const google = []\ngoogle.isAvailable = function(available, unavailable) {\n  if (!GOOGLE_DRIVE_CLIENT_ID) {\n    return 'unavailable'\n  }\n  window.gapi.load('client:auth2',() => {\n    window.gapi.client.init({\n      clientId: GOOGLE_DRIVE_CLIENT_ID,\n      scope: 'https://www.googleapis.com/auth/drive.file'\n    })\n    .then(\n      window.gapi.client.load('drive', 'v3')\n    )\n    .then(() => {\n      available && available()\n    })\n    .catch((e) => {\n      console.log('Google Drive is not available:', e)\n      unavailable && unavailable()\n    })\n  })\n}\ngoogle.fetch = async function(success, failure) {\n  this.startConnecting && this.startConnecting()\n\n  if (!window.gapi.auth2.getAuthInstance().isSignedIn.get()) {\n    try {\n      await window.gapi.auth2.getAuthInstance().signIn()\n    }\n    catch (e) {\n      console.error(e.error)\n      this.endConnecting && this.endConnecting()\n      failure && failure()\n      return\n    }\n  }\n  \n  if (window.gapi.auth2.getAuthInstance().isSignedIn.get()) {\n    try {\n      let boardsString = await Google.download(GOOGLE_BOARD_FILE)\n      if (boardsString == null) {\n        await Google.upload(GOOGLE_BOARD_FILE, '[]')\n        boardsString = await Google.download(GOOGLE_BOARD_FILE)\n      }\n      const boards = JSON.parse(boardsString)\n      if (boards) {\n        this.splice(0)\n        Array.prototype.push.apply(this, boards)\n        success && success()\n      }\n      else {\n        console.log('cannot download or create board file')\n        failure && failure()\n      }\n    }\n    catch (e) {\n      console.log(e)\n      failure && failure()\n    }\n\n    try {\n      const playerDBString = await Google.download(GOOGLE_PLAYER_DB_FILE)\n      const playerDB = JSON.parse(playerDBString)\n      if (playerDB) {\n        this.playerDB = playerDB\n      }\n      else {\n        console.log('cannot download player DB')\n      } \n    }\n    catch (e) {\n      console.log(e)\n    }\n  }\n\n  this.endConnecting && this.endConnecting()  \n}\ngoogle.append = async function(board, success, failure) {\n  this.startConnecting && this.startConnecting()\n  const newBoards = [board].concat(this)\n\n  const newBoardsString = JSON.stringify(newBoards)\n  await Google.upload(GOOGLE_BOARD_FILE, newBoardsString)\n  const boardsString = await Google.download(GOOGLE_BOARD_FILE)\n  const boards = JSON.parse(boardsString)\n  if (boards) {\n    this.splice(0)\n    Array.prototype.push.apply(this, boards)\n    this.endConnecting && this.endConnecting()\n    success && success()\n    return\n  }\n  this.endConnecting && this.endConnecting()\n  failure && failure()\n}\ngoogle.remove = async function(n, success, failure) {\n  this.startConnecting && this.startConnecting()\n  let newBoards = [].concat(this) // copy array\n  newBoards.splice(n, 1) // remove a element at index n\n\n  const newBoardsString = JSON.stringify(newBoards)\n  await Google.upload(GOOGLE_BOARD_FILE, newBoardsString)\n  const boardsString = await Google.download(GOOGLE_BOARD_FILE)\n  const boards = JSON.parse(boardsString)\n  if (boards) {\n    this.splice(0)\n    Array.prototype.push.apply(this, boards)\n    this.endConnecting && this.endConnecting()\n    success && success()\n    return\n  }\n  this.endConnecting && this.endConnecting()\n  failure && failure()\n}\ngoogle.savePlayerDB = async function(playerDB, success, failure) {\n  this.startConnecting && this.startConnecting()\n\n  try {\n    const playerDBString = JSON.stringify(playerDB)\n    await Google.upload(GOOGLE_PLAYER_DB_FILE, playerDBString)\n    this.playerDB = playerDB\n    success && success()  \n  }\n  catch (e) {\n    console.log(e)\n    failure && failure()\n  }\n\n  this.endConnecting && this.endConnecting()\n}\ngoogle.deletePlayerDB = async function(success, failure) {\n  this.startConnecting && this.startConnecting()\n\n  try {\n    await Google.delete(GOOGLE_PLAYER_DB_FILE)\n    delete this.playerDB\n    success && success()\n  }\n  catch (e) {\n    console.log(e)\n    failure && failure\n  }\n\n  this.endConnecting && this.endConnecting()\n}\ngoogle.clearAccesskey = Google.clear\ngoogle.startConnecting = null\ngoogle.endConnecting = null\n\n\n/*================================================================================ \n** dropbox\n**\n** /.env\n**   VUE_APP_DROPBOX_CLIENT_ID = 'DropboxMyappsAppkey';\n**==============================================================================*/\nconst DROPBOX_CLIENT_ID = process.env.VUE_APP_DROPBOX_CLIENT_ID\nconst DROPBOX_BOARD_FILE = `/${EXPORT_FILE_NAME_PREFIX}.json`\nconst DROPBOX_PLAYER_DB_FILE = `/${PLAYER_DB_FILE_PREFIX}.json`\n\nexport const dropbox = []\ndropbox.isAvailable = function() {\n  console.log(DROPBOX_PLAYER_DB_FILE)\n  if (!DROPBOX_CLIENT_ID) {\n    return 'unavailable'\n  }\n    \n  if (Dropbox.checkRedirect()) {\n    this.startConnecting && this.startConnecting()\n    this.download()\n    return 'connected'\n  }\n    \n  return 'available'\n}\ndropbox.fetch = function(success, failure) {\n  this.startConnecting && this.startConnecting()\n \n  let parameter = {\n    client_id: DROPBOX_CLIENT_ID,\n    redirect_uri: location.href\n  };\n  let callbacks = {\n    onComplete: () => {\n      console.log('complete dropbox authenticate')\n      this.download(success, failure)\n      console.log('download player db from dropbox')\n      this.downloadPlayerDB((db) => {\n        this.playerDB = db\n      })\n    },\n    onError: (e) => {\n      console.log('incomplete dropbox authenticate')\n      this.endConnecting && this.endConnecting()\n      failure && failure(e)\n    }\n  }\n\n  Dropbox.authenticate(parameter, callbacks)\n}\ndropbox.download = function(success, failure) {\n  console.log('download')\n    \n  let callbacks = {\n    onComplete: (result, response) => {this.loadBoard(result, response, success, failure)},\n    onError: (e) => {\n      switch (e.status) {\n      case 401: // Unauthorized\n        console.log('401 Unauthorized')\n        console.log('remove dropbox access token');\n        Dropbox.clear();\n        this.endConnecting && this.endConnecting()\n        failure && failure(e)\n        break;\n          \n      case 409: // Conflict(path not found)\n        console.log('create new boards')\n        this.createNewFile(success, failure)\n        break;\n          \n      default:\n        console.log('cannot download from dropbox');\n        this.endConnecting && this.endConnecting()\n        failure && failure(e)\n      }\n    }\n  }\n  Dropbox('files/download', {path: DROPBOX_BOARD_FILE}, callbacks);\n}\ndropbox.loadBoard = function(result, response, success, failure) {\n  let reader = new FileReader()\n  let self = this\n  reader.addEventListener('loadend', () => {\n    try {\n      let boards = JSON.parse(reader.result)\n      if (boards) {\n        self.splice(0) // clear dropbox array\n        Array.prototype.push.apply(self, boards) // append boards to empty array\n        self.endConnecting && self.endConnecting()\n        success && success()\n      }\n      else {\n        self.endConnecting && self.endConnecting()\n        failure && failure(`parsing ${DROPBOX_BOARD_FILE} failed`)\n      }\n    }\n    catch (e) {\n      self.endConnecting && self.endConnecting()\n      failure && failure(e)\n    }\n  })\n\n  reader.readAsText(response)\n}\ndropbox.createNewFile = function(success, failure) {\n  console.log('create New boards file')\n  let emptyString = '[]'\n  let param = {\n    path: DROPBOX_BOARD_FILE,\n    mode: 'overwrite'\n  }\n  let callbacks = {\n    onComplete: () => {\n      this.download(success, failure)\n    },\n    onError: (e) => {\n      console.log(`cannot create ${DROPBOX_BOARD_FILE}`)\n      failure && failure(e)\n      this.endConnecting && this.endConnecting()\n    }\n  }\n  Dropbox('files/upload', param, emptyString, callbacks)\n}\ndropbox.append = function(board, success, failure) {\n  this.startConnecting && this.startConnecting()\n  let newBoards = [board].concat(this)\n  \n  let newBoardsString = JSON.stringify(newBoards)\n  this.upload(newBoardsString, () => {\n    this.download(success, failure)\n  }, (e) => {\n    console.log('fail to append')\n    this.endConnecting && this.endConnecting()\n    failure && failure(e)\n  })\n}\ndropbox.remove = function(n, success, failure) {\n  this.startConnecting && this.startConnecting()\n  let newBoards = [].concat(this) // copy array\n  newBoards.splice(n, 1) // remove a element at index n\n  \n  let newBoardsString = JSON.stringify(newBoards)\n  this.upload(newBoardsString, () => {\n    this.download(success, failure)\n  }, (e) => {\n    console.log('fail to append')\n    this.endConnecting && this.endConnecting()\n    failure && failure(e)\n  })\n}\ndropbox.upload = function(contents, success, failure) {\n  let param = {\n    path: DROPBOX_BOARD_FILE,\n    mode: 'overwrite'\n  }\n  let callbacks = {\n    onComplete: () => {this.download(success, failure)},\n    onError: (e) => {\n      this.endConnecting && this.endConnecting()\n      failure && failure(e)\n    }\n  }\n  Dropbox('files/upload', param, contents, callbacks)\n}\ndropbox.downloadPlayerDB = function(success, failure) {\n  let callbacks = {\n    onComplete: (result, response) => {\n      let reader = new FileReader()\n      reader.addEventListener('loadend', () => {\n        try {\n          let playerDB = JSON.parse(reader.result)\n          if (playerDB) {\n            success && success(playerDB)\n          }\n          else {\n            failure && failure()\n          }\n        }\n        catch (e) {\n          console.log(`cannot parse ${PLAYER_DB}:`, e)\n          failure && failure()\n        }\n      })\n      reader.readAsText(response)\n    },\n    onError: (e) => {\n      switch (e.status) {\n      case 401: // Unauthorized\n        console.log('401 Unauthorized')\n        break;\n      default:\n        console.log('playerDB not found');\n      }\n    }\n  }\n  Dropbox('files/download', {path: DROPBOX_PLAYER_DB_FILE}, callbacks);\n}\ndropbox.uploadPlayerDB = function(contents, success, failure) {\n  let param = {\n    path: DROPBOX_PLAYER_DB_FILE,\n    mode: 'overwrite'\n  }\n  let callbacks = {\n    onComplete: () => {this.downloadPlayerDB(success, failure)},\n    onError: (e) => {\n      console.log(e)\n      failure && failure(e)\n    }\n  }\n  Dropbox('files/upload', param, contents, callbacks)\n}\ndropbox.savePlayerDB = function(db, success, failure) {\n  console.log(db)\n  let playerDBString = JSON.stringify(db)\n  this.uploadPlayerDB(playerDBString, (playerDB) => {\n    this.playerDB = playerDB\n    console.log('upload succeeded')\n    success && success()\n  }, () => {failure && failure()})\n}\ndropbox.deletePlayerDB = function(success, failure) {\n  console.log('deletePlayerDB')\n  this.uploadPlayerDB(\"\", (playerDB) => {\n    // can't delete playerDB\n    console.log('cannot delete playerDB:', playerDB)\n    failure && failure()\n  }, () => {\n    // deleted playerDB\n    delete this.playerDB\n    success && success()  \n  })\n}\ndropbox.clearAccesskey = Dropbox.clear\ndropbox.startConnecting = null\ndropbox.endConnecting = null\n\n/*================================================================================ \n** storage template\n**==============================================================================*/\nconst template = []\ntemplate.isAvailable = function() {\n  console.log('isAvailable')\n  return 'available'\n}\ntemplate.fetch = function(success) {\n  console.log('fetch')\n  this.splice(0)\n  success && success(this)\n}\ntemplate.append = function(board, success) {\n  console.log('append:', board)\n  this.splice(0, 0, board)\n  success && success(this)\n}\ntemplate.remove = function(n, success) {\n  console.log('remove')\n  this.splice(n,1)\n  success && success(this)\n}\n\n\n/*================================================================================ \n** utility\n**==============================================================================*/\nexport function getDatetime() {\n  let now = new Date()\n  let datetime = now.getFullYear();\n  datetime += ('0' + (now.getMonth()+1)).slice(-2);\n  datetime += ('0' + now.getDate()).slice(-2);\n  datetime += '-';\n  datetime += ('0' + now.getHours()).slice(-2);\n  datetime += ('0' + now.getMinutes()).slice(-2);\n  datetime += ('0' + now.getSeconds()).slice(-2);\n\n  return datetime;\n}\n\nexport function download(filename, url) {\n  let a = document.createElement('a')\n  a.download = filename\n  a.href = url\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n}\n","<template>\n<div id=\"storage\">\n  <div class=\"storage-button\">\n    <label for=\"import-board\">Import</label>\n    <input id=\"import-board\" type=\"file\" accept=\"text/plain, application/json\" style=\"display:none\" @change=\"onImport\">\n  </div>\n  <div class=\"storage-button\" @click=\"$emit('exportBoard')\">\n    Export\n  </div>\n  <div class=\"storage-button\" @click=\"$emit('captureBoard')\">\n    Capture\n  </div>\n  <span class=\"blank\">&nbsp;</span>\n  <div v-show=\"isDropboxAvailable\" id=\"dropbox\" class=\"storage-button\" @click=\"dropboxStorage\">\n    Dropbox\n  </div>\n  <div v-show=\"isGoogleAvailable\" id=\"google\" class=\"storage-button\" @click=\"googleStorage\">\n    Google\n  </div>\n  <div class=\"storage-button\" id=\"clear-local-storage\" @click=\"$emit('clearLocalStorage')\">\n    Clear\n  </div>\n</div>\n</template>\n\n<script>\nimport {CAPTURE_FILE_PREFIX, EXPORT_FILE_NAME_PREFIX} from '../utils/config.js'\nimport {local, google, dropbox, getDatetime, download} from '../utils/io.js'\n\nexport default {\n  props: {\n    capture: Object,\n    exportBoardData: Object,\n    clearBoardList: Object,\n    clearAccesskey: Object,\n  },\n  data: function() {\n    return {\n      currentStorage: {},\n      isDropboxAvailable: false,\n      isGoogleAvailable: false,\n    }\n  },\n  methods: {\n    googleStorage(e) {\n      if (e.target.classList.contains('connected')) {\n        console.log('change storage to localStorage')\n        this.currentStorage.disconnect && this.currentStorage.disconnect()\n        this.currentStorage = local\n        local.fetch(() => {\n          this.$emit('changeStorage', this.currentStorage)\n        })\n      }\n      else {\n        console.log('change storage to Google Drive')\n        google.fetch(() => {\n          console.log('connected to Google Drive')\n          this.currentStorage.disconnect && this.currentStorage.disconnect()\n          this.currentStorage = google\n          this.currentStorage.disconnect = function() {\n            let ggl = document.getElementById('google')\n            ggl.classList.remove('connected')\n          }\n          this.$emit('changeStorage', this.currentStorage)\n          const ggl = document.getElementById('google')\n          ggl.classList.add('connected')\n        }, (e) => {\n          console.log('fail to connect to Google Drive:', e)\n        })\n      }\n    },\n    dropboxStorage(e) {\n      if (e.target.classList.contains('connected')) {\n        console.log('change storage to localStorage')\n        this.currentStorage.disconnect && this.currentStorage.disconnect()\n        this.currentStorage = local\n        local.fetch(() => {\n          this.$emit('changeStorage', this.currentStorage)\n        })\n      }\n      else {\n        console.log('change storage to Dropbox')\n        dropbox.fetch(() => {\n          console.log('connected to Dropbox')\n          this.currentStorage.disconnect && this.currentStorage.disconnect()\n          this.currentStorage = dropbox\n          this.currentStorage.disconnect = function() {\n            let dbx = document.getElementById('dropbox')\n            dbx.classList.remove('connected')\n          }\n          this.$emit('changeStorage', this.currentStorage)\n          let dbx = document.getElementById('dropbox')\n          dbx.classList.add('connected')\n        }, (e) => {\n          console.log('fail to connect to Dropbox:', e)\n        })\n      }\n    },\n    onImport(e) {\n      const boardFile = e.target.files[0]\n      e.target.value = '' // fire when same file is selected next time\n\n      let reader = new FileReader()\n      reader.addEventListener('load', () => {\n        try {\n          let board = JSON.parse(reader.result)\n          if (board) {\n            this.$emit('importBoard', {players:board.players, color:board.color})\n          }\n        }\n        catch (e) {\n          console.error(e)\n        }\n      })\n      reader.readAsText(boardFile)\n    },\n  },\n  watch: {\n    capture: function() {\n      let filename = CAPTURE_FILE_PREFIX + getDatetime() + '.png'\n      console.log(filename)\n\n      download(filename, this.capture.image)\n    },\n    exportBoardData: function() {\n      let filename = EXPORT_FILE_NAME_PREFIX + getDatetime() + '.txt'\n      let boardString = JSON.stringify(this.exportBoardData)\n      let url = URL.createObjectURL(new Blob([boardString], {type: 'text/play'}))\n      download(filename, url)\n    },\n    clearBoardList: function() {\n      console.log('clear board list on localStorage')\n      local.clear()\n    },\n    clearAccesskey: function() {\n      console.log('clear access key')\n      dropbox.clearAccesskey()\n      google.clearAccesskey()\n    }\n  },\n  created() {\n    window.googleInit = () => {\n      console.log('gapi loaded')\n      google.isAvailable(() => {\n          this.isGoogleAvailable = true\n      }, () => {\n          this.isGoogleAvailable = false\n      })\n    }\n  },\n  mounted() {\n    this.currentStorage = local\n    this.currentStorage.fetch()\n    this.$emit('changeStorage', this.currentStorage)\n    \n    // initialize Dropbox\n    dropbox.startConnecting = function() {\n      let dbx = document.getElementById('dropbox')\n      dbx.classList.add('connecting')\n    }\n    dropbox.endConnecting = function() {\n      let dbx = document.getElementById('dropbox')\n      dbx.classList.remove('connecting')\n    }\n    switch (dropbox.isAvailable()) {\n    case 'available':\n      this.isDropboxAvailable = true\n      break\n    case 'unavailable':\n      this.isDropboxAvailable = false\n      break\n    case 'connected': // Dropbox OAuth redirecting\n      this.isDropboxAvailable = true\n      dropbox.fetch(() => {\n        console.log('connected to Dropbox')\n        this.currentStorage.disconnect && this.currentStorage.disconnect()\n        this.currentStorage = dropbox\n        this.currentStorage.disconnect = function() {\n          let dbx = document.getElementById('dropbox')\n          dbx.classList.remove('connected')\n        }\n        this.$emit('changeStorage', this.currentStorage)\n        let dbx = document.getElementById('dropbox')\n        dbx.classList.add('connected')\n      }, (e) => {\n        console.log('fail to connect to Dropbox:', e)\n      })\n      break\n    }\n\n    // initialize Google\n    google.startConnecting = function() {\n      let dbx = document.getElementById('google')\n      dbx.classList.add('connecting')\n    }\n    google.endConnecting = function() {\n      let dbx = document.getElementById('google')\n      dbx.classList.remove('connecting')\n    }\n  }\n}\n</script>\n\n<style scoped>\n#storage {\n  margin: 30px 10px 20px;\n  padding: 0px 16px 0px;\n  text-align: left;\n  user-select: none;\n  touch-action: none;\n}\n.storage-button {\n    cursor: default;\n    display: inline-block;\n    margin: 0 5px;\n    border: 1px solid #888;\n    border-radius: 0.25rem;\n    text-align: center;\n    line-height: 24px;\n    width: 64px;\n    vertical-align: top;\n    background: #fff;\n    font-size: 0.9rem;\n}\n.storage-button:hover {\n    border-color: #222;\n}\n#clear-local-storage {\n    float: right;\n}\n#clear-local-storage:hover,\n#clear-local-storage:focus {\n    cursor: default;\n    float: right;\n    color: #222;\n}\n.blank {\n  padding: 0 0.5rem;\n}\n.connected {\n  background: #007ee5 !important;\n  color: white !important;\n}\n.connecting {\n    animation-name: blink-background;\n    animation-duration: 2s;\n    animation-timing-function: ease;\n    animation-iteration-count: infinite;\n}\n@keyframes blink-background {\n    0% {\n        border-color: #0000ff;\n    }\n    50% {\n        border-color: #ffffff;\n    }\n    100% {\n        border-color: #0000ff;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Storage.vue?vue&type=template&id=22689efe&scoped=true&\"\nimport script from \"./Storage.vue?vue&type=script&lang=js&\"\nexport * from \"./Storage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Storage.vue?vue&type=style&index=0&id=22689efe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22689efe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"modal-dialog\"}},[_c('div',{staticClass:\"dialog-overlay\"}),(_vm.type == 'saved-board')?_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-close\"},[_c('div',[_c('span',{on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-header\"},[_vm._v(\" \"+_vm._s(_vm.board.timestamp)+\" \")]),_c('div',[_c('img',{attrs:{\"src\":_vm.board.icon}})]),_c('div',{staticClass:\"modal-button\"},[_c('div',{staticClass:\"left-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'open', index:_vm.board.index})}}},[_vm._v(\"Open\")])]),_c('div',{staticClass:\"right-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'delete', index:_vm.board.index})}}},[_vm._v(\"Delete\")])])])]):_vm._e(),(_vm.type == 'open-new-board')?_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-close\"},[_c('div',[_c('span',{on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-header\"},[_vm._v(\" FORMATION \")]),_c('div',{staticClass:\"select-formation\"},[_c('div',{staticClass:\"formation-list\",attrs:{\"id\":\"left-team\"}},[_c('div',[_c('span',{style:({color: _vm.board.homeColor})},[_vm._v(\"● \")]),_vm._v(\"HOME\")]),_vm._l((_vm.formations),function(formation,index){return _c('div',{key:'home'+index,staticClass:\"formation\",class:{selected: _vm.selected.home == index},on:{\"click\":function($event){return _vm.clickFormation('home', index)}}},[_vm._v(\" \"+_vm._s(formation)+\" \")])})],2),_c('div',{staticClass:\"formation-list\",attrs:{\"id\":\"right-team\"}},[_c('div',[_c('span',{style:({color: _vm.board.awayColor})},[_vm._v(\"● \")]),_vm._v(\"AWAY\")]),_vm._l((_vm.formations),function(formation,index){return _c('div',{key:'away'+index,staticClass:\"formation\",class:{selected: _vm.selected.away == index},on:{\"click\":function($event){return _vm.clickFormation('away', index)}}},[_vm._v(\" \"+_vm._s(formation)+\" \")])})],2)]),_c('div',{staticClass:\"modal-button\"},[_c('div',{staticClass:\"center-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":_vm.clickOk}},[_vm._v(\"OK\")])])])]):_vm._e(),(_vm.type == 'show-team-id')?_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-close\"},[_c('div',[_c('span',{on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-header\"},[_vm._v(\" Player DB teams list\"),_c('br'),_vm._v(\" \"+_vm._s(this.board.version)+\" \")]),_c('br'),_c('span',{staticClass:\"team-id\",domProps:{\"innerHTML\":_vm._s(_vm.board.teamHtml)}}),_c('div',{staticClass:\"modal-button\"},[_c('div',{staticClass:\"center-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'delete'})}}},[_vm._v(\" DELETE PLAYER DB \")])])])]):_vm._e(),(_vm.type == 'clear-localstorage')?_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-close\"},[_c('div',[_c('span',{on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\"×\")])])]),_vm._m(0),_c('div',{staticClass:\"modal-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkedItems),expression:\"checkedItems\"}],attrs:{\"type\":\"checkbox\",\"id\":\"all-board-list\",\"name\":\"all-board-list\",\"value\":\"board-list\"},domProps:{\"checked\":Array.isArray(_vm.checkedItems)?_vm._i(_vm.checkedItems,\"board-list\")>-1:(_vm.checkedItems)},on:{\"change\":function($event){var $$a=_vm.checkedItems,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"board-list\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checkedItems=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checkedItems=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checkedItems=$$c}}}}),_c('label',{attrs:{\"for\":\"all-board-list\"}},[_vm._v(\"Clear all board list\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkedItems),expression:\"checkedItems\"}],attrs:{\"type\":\"checkbox\",\"id\":\"all-storage-accesskey\",\"name\":\"all-storage-accesskey\",\"value\":\"accesskey\"},domProps:{\"checked\":Array.isArray(_vm.checkedItems)?_vm._i(_vm.checkedItems,\"accesskey\")>-1:(_vm.checkedItems)},on:{\"change\":function($event){var $$a=_vm.checkedItems,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"accesskey\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checkedItems=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checkedItems=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checkedItems=$$c}}}}),_c('label',{attrs:{\"for\":\"all-storage-accesskey\"}},[_vm._v(\"Clear storage access keys\")]),_c('br')]),_c('div',[_vm._v(\"Are you sure?\")]),_c('div',{staticClass:\"modal-button\"},[_c('div',{staticClass:\"left-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'clear', items:_vm.checkedItems})}}},[_vm._v(\" YES \")])]),_c('div',{staticClass:\"right-button\"},[_c('button',{staticClass:\"default-button\",on:{\"click\":function($event){return _vm.$emit('close', {type:'close'})}}},[_vm._v(\" Cancel \")])])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_vm._v(\" Clear browser data\"),_c('br'),_vm._v(\" (localStorage and cookie) \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"modal-dialog\">\n    <div class=\"dialog-overlay\"></div>\n    \n    <div class=\"modal-container\" v-if=\"type == 'saved-board'\">\n      <div class=\"modal-close\">\n        <div><span @click=\"$emit('close', {type:'close'})\">&times;</span></div>\n      </div>\n\n      <div class=\"modal-header\">\n        {{ board.timestamp }}\n      </div>\n\n      <div>\n        <img :src=\"board.icon\"/>\n      </div>\n\n      <div class=\"modal-button\">\n        <div class=\"left-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'open', index:board.index})\">Open</button>\n        </div>\n        <div class=\"right-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'delete', index:board.index})\">Delete</button>\n        </div>\n      </div>\n    </div>\n\n\n    <div class=\"modal-container\" v-if=\"type == 'open-new-board'\">\n      <div class=\"modal-close\">\n        <div><span @click=\"$emit('close', {type:'close'})\">&times;</span></div>\n      </div>\n\n      <div class=\"modal-header\">\n        FORMATION\n      </div>\n\n      \n      <div class=\"select-formation\">\n        <div class=\"formation-list\" id=\"left-team\">\n          <div><span :style=\"{color: board.homeColor}\">&#x25CF;&nbsp;</span>HOME</div>\n          <div class=\"formation\"\n               v-for=\"(formation, index) in formations\"\n               :key=\"'home'+index\"\n               :class=\"{selected: selected.home == index}\"\n               @click=\"clickFormation('home', index)\">\n            {{ formation }}\n          </div>\n        </div>\n        <div class=\"formation-list\" id=\"right-team\">\n          <div><span :style=\"{color: board.awayColor}\">&#x25CF;&nbsp;</span>AWAY</div>\n          <div class=\"formation\"\n               v-for=\"(formation, index) in formations\"\n               :key=\"'away'+index\"\n               :class=\"{selected: selected.away == index}\"\n               @click=\"clickFormation('away', index)\">\n            {{ formation }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"modal-button\">\n        <div class=\"center-button\">\n          <button class=\"default-button\" @click=\"clickOk\">OK</button>\n        </div>\n      </div>\n    </div>\n\n    \n    <div class=\"modal-container\" v-if=\"type == 'show-team-id'\">\n      <div class=\"modal-close\">\n        <div><span @click=\"$emit('close', {type:'close'})\">&times;</span></div>\n      </div>\n\n      <div class=\"modal-header\">\n        Player DB teams list<br>\n        {{this.board.version}}\n      </div>\n      <br>\n      <span class=\"team-id\" v-html=\"board.teamHtml\"></span>\n      \n      <div class=\"modal-button\">\n        <div class=\"center-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'delete'})\">\n            DELETE PLAYER DB\n          </button>\n        </div>\n      </div>\n    </div>\n\n    \n    <div class=\"modal-container\" v-if=\"type == 'clear-localstorage'\">\n      <div class=\"modal-close\">\n        <div><span @click=\"$emit('close', {type:'close'})\">&times;</span></div>\n      </div>\n      <div class=\"modal-header\">\n        Clear browser data<br>\n        (localStorage and cookie)\n      </div>\n      <div class='modal-checkbox'>\n        <input type=\"checkbox\" id=\"all-board-list\" name=\"all-board-list\" value=\"board-list\" v-model=\"checkedItems\">\n        <label for=\"all-board-list\">Clear all board list</label><br>\n        <input type=\"checkbox\" id=\"all-storage-accesskey\" name=\"all-storage-accesskey\" value=\"accesskey\" v-model=\"checkedItems\">\n        <label for=\"all-storage-accesskey\">Clear storage access keys</label><br>\n      </div>\n      <div>Are you sure?</div>\n      <div class=\"modal-button\">\n        <div class=\"left-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'clear', items:checkedItems})\">\n            YES\n          </button>\n        </div>\n        <div class=\"right-button\">\n          <button class=\"default-button\" @click=\"$emit('close', {type:'close'})\">\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport {FORMATIONS} from '../utils/config.js'\n\nexport default {\n  props: {\n    type: String,\n    board: Object\n  },\n  data() {\n    return {\n      formations: FORMATIONS,\n      selected: {home: 0, away: 0},\n      checkedItems: []\n    }\n  },\n  methods: {\n    clickFormation(team, index) {\n      this.selected[team] = index\n    },\n    clickOk() {\n      let home = this.formations[this.selected.home]\n      let away = this.formations[this.selected.away]\n      this.$emit('close', {type: 'open', home, away})\n    }\n  }\n}\n</script>\n\n<style>\n.dialog-overlay {\n    z-index: 1;\n    display: block;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 120%;\n    background-color: rgba(0, 0, 0, 0.6);\n}\n\n.modal-container {\n  display: block;\n  background-color: #f8f8f8;\n  margin: 0;\n  padding: 0px 0px 10px;\n  border: 0px solid #888;\n  width: 300px;\n  text-align: center;\n  z-index: 99;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  border-radius: 4px;\n}\n\n.modal-body {\n  margin: 20px 0;\n}\n\n.modal-button {\n  margin: 1rem auto 0rem;\n  width: 256px;\n}\n.left-button {\n    text-align: left;\n    float: left;\n}\n.right-button {\n    text-align: right;\n}\n.modal-close {\n    padding-top: 8px;\n    padding-right: 10px;\n    text-align: right;\n    font-weight: bold;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n}\n.modal-close:hover,\n.modal-close:focus {\n    color: #000;\n    text-decoration: none;\n}\n.modal-checkbox {\n    margin: 1rem auto;\n    text-align: left;\n    width: 256px;\n}\n\n.formation-list {\n    display: inline-block;\n    width: 45%;\n}\n.formation {\n    display: flex;\n    margin: 0.5rem auto;\n    border: 1px solid #888;\n    border-radius: 0.25rem;\n    height: 1.5rem;\n    width: 5rem;\n    font-size: 1rem;\n    justify-content: center;\n    align-items: center;\n}\n.formation:hover {\n    border-color: #222;\n}\n.formation.selected {\n    background-color: #eef;\n}\n.select-formation {\n    margin-top: 1em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=2b2286dd&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as Config from './config.js'\n\nfunction newPlayers(formations) {\n  let players = [];\n  let cx = 0;\n  let cy = 0;\n  \n  // place all players in bench (initialized position)\n  let number_of_rows = 2;\n  let number_of_cols = Config.NUMBER_OF_PLAYERS/number_of_rows;\n  let eachWidth = Config.NORMALIZED.BENCH.w/Config.NUMBER_OF_TEAMS/number_of_cols;\n  let eachHeight = (Config.NORMALIZED.BENCH.h + Config.NORMALIZED.MARGIN.BOTTOM)/number_of_rows;\n  for (let team = 0; team < Config.NUMBER_OF_TEAMS; team++) {\n    let startX = eachWidth/2 + Config.NORMALIZED.BENCH.w/2*team;\n    let startY = Config.NORMALIZED.BENCH.TOP - Config.NORMALIZED.MARGIN.BOTTOM + eachHeight/2;\n    let x = startX;\n    let y = startY;\n    for (let id = 0; id < Config.NUMBER_OF_PLAYERS; id++) {\n      if (id == number_of_cols) {\n        x = startX;\n        y += eachHeight;\n      }\n      players.push({id, x, y, team, name: '', cx, cy, number: id+1})\n      x += eachWidth;\n    }\n  }\n\n  if (!formations) return players\n\n  // set players in the position of formations\n  let halfPitch = {\n    left: Config.NORMALIZED.MARGIN.LEFT,\n    top: Config.NORMALIZED.MARGIN.TOP,\n    w: Config.NORMALIZED.FIELD.w/2 - Config.NORMALIZED.PLAYER_SIZE*2,\n    h: Config.NORMALIZED.FIELD.h + Config.NORMALIZED.MARGIN.TOP + Config.NORMALIZED.MARGIN.BOTTOM,\n  }\n\n  for (let team = 0; team < Config.NUMBER_OF_TEAMS; team++) {\n    let numRows = formations[team].length;\n    if (numRows == 0) continue;\n\n    let id = 0;\n    for (let row = 0; row < numRows; row++) {\n      let x = halfPitch.w/(numRows-1)*row + Config.NORMALIZED.MARGIN.LEFT;\n      if (team == 1) {\n        // Players of away team are set player from the right to the left.\n        x = Config.NORMALIZED.WIDTH - x;\n      }\n      for (let col = 0; col < formations[team][row]; col++) {\n        let c = (formations[team][row] -1) - col;\n        if (team == 1) {\n          // Players of away team are set player from the top to the bottom.\n          c = col;\n        }\n        let y = halfPitch.h/(formations[team][row]+1)*(c+1);\n\n        for (let p of players) {\n          if (p.team != team || p.id != id) continue;\n          p.x = x;\n          p.y = y;\n        }\n        id++;\n      }\n    }\n  }\n  \n  return players\n}\n\nexport default { newPlayers }\n","<template>\n<div id=\"app\">\n  <Storage\n    :capture=\"capture\"\n    :storage=\"storage\"\n    :exportBoardData=\"exportBoardData\"\n    :clearBoardList=\"clearBoardList\"\n    :clearAccesskey=\"clearAccesskey\"\n    @changeStorage=\"changeStorage\" \n    @captureBoard=\"captureBoard\"\n    @importBoard=\"importBoard\"\n    @exportBoard=\"exportBoard\"\n    @clearLocalStorage=\"clearLocalStorage\">\n  </Storage>\n  <Files\n    :storage=\"storage\"\n    @saveBoard=\"saveBoard\"\n    @clickIcon=\"onClickIcon\"\n    @openNewBoard=\"openNewBoard\">\n  </Files>\n  <Member\n    :members=\"members\"\n    :colors=\"colors\"\n    :playerdb=\"playerDB\"\n    @changeMemberList=\"changeMemberList\"\n    @changeTeamColors=\"changeTeamColors\"\n    @changeEnds=\"changeEnds\"\n    @showTeamId=\"showTeamId\"\n    @loadPlayerDB=\"loadPlayerDB\">\n  </Member>\n  <Board \n    :colors=\"colors\"\n    :save=\"doSave\"\n    :capture=\"doCapture\"\n    :playerInfo=\"players\"\n    @updatePlayerPosition=\"updatePlayerPosition\"\n    @changePlayerInfo=\"changePlayerInfo\" \n    @changeTeamColors=\"changeTeamColors\"\n    @doneSave=\"doneSave\"\n    @doneCapture=\"doneCapture\">\n  </Board>\n  <Modal v-if=\"showModal\" @close=\"closeModal\" :type=\"modalType\" :board=\"modalParam\"></Modal>\n</div>\n</template>\n\n<script>\nimport Board from './components/Board.vue'\nimport Member from './components/Member.vue'\nimport Files from './components/Files.vue'\nimport Storage from './components/Storage.vue'\nimport Modal from './components/Modal.vue'\nimport Players from './utils/players.js'\nimport * as Config from './utils/config.js'\nimport {rgba2hex, hex2rgba} from './utils/color.js'\n\nexport default {\n  name: 'App',\n  components: {\n    Board,\n    Member,\n    Files,\n    Storage,\n    Modal\n  },\n  data() {\n    return {\n      colors: Config.TEAM_COLORS,\n      players: [],\n      doCapture: {},\n      doSave: {},\n      storage: [],\n      playerDB: null,\n      showModal: false,\n      modalType: 'saved-board',\n      modalParam: {},\n      capture: {image: ''},\n      exportBoardData: {},\n      clearBoardList: {},\n      clearAccesskey: {},\n    }\n  },\n  methods: {\n    saveToLocalStorage() {\n      localStorage[Config.LAST_FIELD_DATA] = JSON.stringify({\n          version: Config.VERSION,\n          players: this.players,\n          color: hex2rgba(this.colors),\n      })\n    },\n    updatePlayerPosition(players) {\n      this.players = players\n      this.saveToLocalStorage()\n    },\n    changeMemberList(memberList, teamName) {\n      let teams = memberList.split('\\n\\n')\n      let newTeams = {}\n      teams.forEach((team, teamId) => {\n        if (team == \"\") return\n        newTeams[teamId] = team.split('\\n')\n        if (this.playerDB['teams'] && this.playerDB['teams'][teamName[teamId]]) {\n          newTeams[teamId].playerDB = this.playerDB['teams'][teamName[teamId]].players\n        }\n      })\n      this.players.forEach((player) => {\n        let newPlayer = newTeams[player.team][player.id].split(',')\n        player.number = newPlayer[0]\n        player.name = newPlayer[1]\n        if (!player.name && newTeams[player.team].playerDB) {\n          let name = newTeams[player.team].playerDB[player.number]\n          if (name) {\n            player.name = name\n          }\n        }\n      })\n      this.saveToLocalStorage()\n    },\n    changeTeamColors(colors) {\n      this.colors = colors\n      this.saveToLocalStorage()\n    },\n    changePlayerInfo(player, number, name) {\n      for (let p of this.players) {\n        if (p.team == player.team && p.id == player.id) {\n          p.number = number\n          p.name = name\n        }\n      }\n      this.saveToLocalStorage()\n    },\n    changeEnds() {\n      // rotation matrix\n      // |X|   | -1,  0, 2cx |   |x|\n      // |Y| = |  0, -1, 2cy | x |y|\n      // |1| = |  0,  0,   1 |   |1|\n      // X = -x + 2cx\n      // Y = -y + 2cy\n      // (x, y) (cx, cy)\n      let cx = Config.NORMALIZED.CENTERMARK.LEFT;\n      let cy = Config.NORMALIZED.CENTERMARK.TOP;\n\n      for (let p of this.players) {\n          if (p.y < Config.NORMALIZED.BENCH.TOP) {\n              p.x = 2*cx - p.x;\n              p.y = 2*cy - p.y;\n          }\n      }\n      this.players.splice(0, 1, this.players[0]) // update DOM\n      this.saveToLocalStorage()\n      console.log('changeEnds')\n    },\n    loadPlayerDB(playerDB) {\n      console.log('loadPlayerDB')\n      this.storage.savePlayerDB(playerDB, () => {\n        this.playerDB = playerDB\n      })\n    },\n    showTeamId() {\n      console.log('showTeamId')\n      if (!this.playerDB) return;\n\n      let categoryList = {}\n      for (const team in this.playerDB.teams) {\n        let category = this.playerDB.teams[team].category\n        if (!categoryList[category]) {\n          categoryList[category] = []\n        }\n        categoryList[category].push(team)\n      }\n\n      let teamHtml = ''\n      for (const category in categoryList) {\n        let max_character_in_row = 33\n        teamHtml += `<div>${category}<div>`\n\n        let line = ''\n        for (const teamId of categoryList[category]) {\n          if (line.length + teamId.length < max_character_in_row) {\n            line += teamId + ' '\n          }\n          else {\n            teamHtml += `<div>${line}</div>`\n            line = teamId + ' '\n          }\n        }\n        teamHtml += `<div>${line}</div><br>`\n      }\n\n      // show modal\n      this.modalType = 'show-team-id'\n      this.modalParam = {teamHtml, version: this.playerDB.version}\n      this.showModal = true\n    },\n    saveBoard() {\n      console.log('saved filed')\n      this.doSave = {} // fire method in Board.vue\n    },\n    doneSave(board) {\n      this.storage.append(board)\n    },\n    closeModal(state) {\n      this.showModal = false\n      console.log('close modal')\n\n      if (this.modalType === 'saved-board') {\n        if (state.type === 'delete') {\n          this.storage.remove(state.index)\n        }\n        if (state.type === 'open') {\n          this.players = this.storage[state.index].players\n          this.colors = rgba2hex(this.storage[state.index].color)          \n        }\n      }\n      if (this.modalType === 'open-new-board') {\n        if (state.type === 'open') {\n          let formations = []\n          for (const team of ['home', 'away']) {\n            let f = state[team].split('-')\n            if (f[0] === 'none') {\n              formations.push([])\n            }\n            else {\n              f.unshift('1')\n              formations.push(f.map(Number))\n            }\n          }\n          this.players = Players.newPlayers(formations)\n          this.saveToLocalStorage()\n        }\n      }\n      if (this.modalType === 'show-team-id') {\n        if (state.type === 'delete') {\n          console.log('delete player db')\n          this.storage.deletePlayerDB(() => {\n            this.playerDB = null\n          })\n        }\n      }\n      if (this.modalType === 'clear-localstorage') {\n        if (state.type === 'clear') {\n          for (let i = 0; i < state.items.length; i++) {\n            if (state.items[i] === 'board-list') {\n              console.log('clear board list')\n              this.clearBoardList = {}\n              this.playerDB = null\n              delete localStorage.lastField\n            }\n            if (state.items[i] === 'accesskey') {\n              console.log('clear access key')\n              this.clearAccesskey = {}\n            }\n          }\n        }\n      }\n    },\n    onClickIcon(index) {\n      console.log(index)\n      this.modalType = 'saved-board'\n      this.modalParam = {index, icon:this.storage[index].icon, timestamp:this.storage[index].timestamp}\n      this.showModal = true\n    },\n    openNewBoard() {\n      console.log(\"openNewBoard\")\n      this.modalType = 'open-new-board'\n\n      let c = this.colors.split(',')\n      this.modalParam = {homeColor:c[0], awayColor:c[1]}\n      \n      this.showModal = true\n    },\n    changeStorage(boards) {\n      console.log('changeStorage')\n      this.storage = boards\n      \n      if (boards.playerDB) {\n        this.playerDB = boards.playerDB\n      }\n      else {\n        if (this.playerDB) {\n          this.storage.savePlayerDB(this.playerDB, () => {\n            console.log('copy playerDB to storage')\n          }, () => {\n            console.log('cannot copy playerDB to storage')\n            this.playerDB = null\n          })\n        }\n      }\n    },\n    captureBoard() {\n      console.log('captured board')\n      this.doCapture = {} // fire method in Board.vue\n    },\n    doneCapture(image) {\n      this.capture = {image}\n    },\n    importBoard(board) {\n      this.players = board.players\n      this.colors = board.color\n    },\n    exportBoard() {\n      console.log('export filed')\n      this.exportBoardData = {version: Config.VERSION, players: this.players, color: this.colors}\n    },\n    clearLocalStorage() {\n      console.log('claer localStorage')\n      this.modalType = 'clear-localstorage'\n      this.showModal = true\n    }\n  },\n  created() {\n    if (localStorage[Config.LAST_FIELD_DATA]) {\n      let lastFieldData = JSON.parse(localStorage[Config.LAST_FIELD_DATA])\n      if (lastFieldData.version == Config.VERSION) {\n        this.players = lastFieldData.players\n        this.colors = rgba2hex(lastFieldData.color)\n      }\n      else {\n        // todo old format\n        console.log('check local storage version', lastFieldData.version)\n      }\n    }\n\n    if (this.players.length == 0) {\n      this.players = Players.newPlayers(null)\n    }\n  },\n  watch: {\n    players: function() {\n      console.log('watch players')\n    }\n  },\n  computed: {\n    members: function() {\n      // sort by 'team' and 'id'\n      let members = [Array(this.players.length), Array(this.players.length)]\n      for (let p of this.players) {\n        members[p.team][p.id] = `${p.number},${p.name}`\n      }\n\n      // to string\n      let strMembers = ''\n      for (let team = 0; team < 2; team++) {\n        for (let p of members[team]) {\n          if (p) {\n            strMembers += p + '\\n'\n          }\n        }\n        strMembers += '\\n' // seperator of each team\n      }\n      return strMembers\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=79935950&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&id=5f828864&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&id=5f828864&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=style&index=0&id=22689efe&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=style&index=0&id=22689efe&scoped=true&lang=css&\""],"sourceRoot":""}